/*! For license information please see buy-level-6.desktop.86de5756.js.LICENSE.txt */
!function(){var e,t={"./node_modules/@andes/badge/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=179)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},179:function(e,t,n){e.exports=n(180)},180:function(e,t,n){var r=n(181),i=n(182),o=n(183);e.exports.Dot=r,e.exports.Pill=i,e.exports.Notification=o},181:function(e,t,n){var r=n(3),i=n(7),o=["type","className"],s=n(0),a=n(4),l=function(e){var t=e.type,n=e.className,l=i(e,o),u=a("andes-badge","andes-badge--dot","andes-badge--".concat(t),n),c=r({className:u},l);return s.createElement("div",c)};l.displayName="Dot",l.defaultProps={className:"",type:"neutral"},l.displayName="Dot",e.exports=l},182:function(e,t,n){var r=n(2),i=n(3),o=n(1),s=n(7),a=["className","children","size","hierarchy","type","border"],l=n(0),u=n(4),c=function(e){var t,n=e.className,c=e.children,d=e.size,p=e.hierarchy,f=e.type,h=e.border,m=s(e,a),g=u("andes-badge","andes-badge--pill","andes-badge--".concat(f),"andes-badge--".concat(h),n,(o(t={},"andes-badge--".concat(f,"--quiet"),"quiet"===p),o(t,"andes-badge--".concat(d),d),t)),v=i({className:g},m);return l.createElement("div",v,r("p",{className:"andes-badge__content"},void 0,c))};c.defaultProps={children:null,className:"",size:"large",type:"neutral",hierarchy:"loud",border:"standard"},c.displayName="Pill",e.exports=c},183:function(e,t,n){var r=n(2),i=n(3),o=n(7),s=["aria-label","type","className","size"],a=n(0),l=n(4),u=n(184),c=function(e){var t=e["aria-label"],n=e.type,c=e.className,d=e.size,p=o(e,s),f=l("andes-badge","andes-badge--notification","andes-badge--".concat(n),c,{"andes-badge--small":"small"===d}),h=i({"aria-hidden":!t,"aria-label":t,className:f},p);return a.createElement("div",h,r(u,{className:c,type:n}))};c.defaultProps={"aria-label":"",className:"",type:"neutral",size:"large"},c.displayName="Notification",e.exports=c},184:function(e,t,n){var r,i,o,s,a=n(6),l=n(2),u=n(0),c=function(){return r||(r=l("g",{transform:"matrix(1 0 0 -1 0 16)"},void 0,l("path",{d:"M7.03 3.879h1.94l-.243 5.333H7.273z",className:"andes-badge__icon-inner"}),l("circle",{cx:"8",cy:"11.152",r:"1",transform:"matrix(1 0 0 -1 0 22.303)",className:"andes-badge__icon-inner"})))},d=function(){return i||(i=l("g",{},void 0,l("path",{fillRule:"nonzero",d:"M5 6.586L3.586 8 7 11.414 12.414 6 11 4.586l-4 4z",className:"andes-badge__icon-inner"})))},p=function(){return o||(o=l("g",{},void 0,l("path",{d:"M7.03 3.879h1.94l-.243 5.333H7.273z",className:"andes-badge__icon-inner"}),l("circle",{cx:"8",cy:"11.152",r:"1",transform:"matrix(1 0 0 -1 0 22.303)",className:"andes-badge__icon-inner"})))},f=function(){return s||(s=l("g",{},void 0,l("path",{d:"M7.03 3.879h1.94l-.243 5.333H7.273z",className:"andes-badge__icon-inner"}),l("circle",{cx:"8",cy:"11.152",r:"1",transform:"matrix(1 0 0 -1 0 22.303)",className:"andes-badge__icon-inner"})))},h=function(e){var t=e.type;return l("svg",{className:"andes-badge__icon",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},void 0,l("g",{fill:"none",fillRule:"evenodd"},"badge-svg",function(e){var t={success:u.createElement(d,a({},e,{key:"badge-success"})),warning:u.createElement(f,a({},e,{key:"badge-warning"})),error:u.createElement(p,a({},e,{key:"badge-error"}))};return e&&t[e]?t[e]:u.createElement(c,a({},e,{key:"badge-info"}))}(t)))};h.defaultProps={type:"neutral",size:"large",hierarchy:"loud"},e.exports=h},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},3:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectSpread2.js")},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},6:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/extends.js")},7:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")}})},"./node_modules/@andes/badge/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/badge/build/index.production.js")},"./node_modules/@andes/common/build/constants/keyCodes.js":function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=157)}({157:function(e,t,n){e.exports=n(158)},158:function(e,t){e.exports={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,ENTER:13,ESCAPE:27,SPACE:32,TAB:9,BACKSPACE:8}}})},"./node_modules/@andes/common/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=236)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},10:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")},12:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")},14:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/inherits.js")},15:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},236:function(e,t,n){e.exports=n(237)},237:function(e,t,n){var r=n(238),i=n(239),o=n(240),s=n(241),a=n(242),l=n(42).canUseDOM;e.exports.CloseListener=i,e.exports.Portal=o,e.exports.Widther=s,e.exports.VisuallyHidden=a,e.exports.Image=r,e.exports.canUseDOM=l},238:function(e,t,n){var r=n(2),i=(n(0),function(e){return r("img",{className:e.className,width:e.width,height:e.height,src:e.src,alt:e.title,srcSet:e.src2x?"".concat(e.src," 1x, ").concat(e.src2x," 2x"):null})});i.defaultProps={title:null,src:null,src2x:null,width:null,height:null,className:null},e.exports=i},239:function(e,t,n){var r=n(8),i=n(9),o=n(12),s=n(14),a=n(15),l=n(10);var u=n(0),c=function(e){"use strict";s(d,e);var t,n,c=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=l(t);if(n){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return a(this,e)});function d(e){var t;return r(this,d),(t=c.call(this,e)).handleRef=t.handleRef.bind(o(t)),t.handleDocumentClick=t.handleDocumentClick.bind(o(t)),t.pressEscToClose=t.pressEscToClose.bind(o(t)),t}return i(d,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.pressEscToClose,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.pressEscToClose,!1)}},{key:"pressEscToClose",value:function(e){this.props.handleEsc&&27===e.keyCode&&this.props.onCloseOutside(e)}},{key:"handleDocumentClick",value:function(e){this.props.handleClick&&this.element&&!this.element.contains(e.target)&&this.props.onCloseOutside(e)}},{key:"handleRef",value:function(e){var t=this.props.children;this.element=e,t.ref&&"function"==typeof t.ref&&t.ref(e)}},{key:"render",value:function(){return u.cloneElement(this.props.children,{ref:this.handleRef})}}]),d}(u.Component);c.defaultProps={handleClick:!0,handleEsc:!0},e.exports=c},240:function(e,t,n){var r=n(8),i=n(9),o=n(14),s=n(15),a=n(10);var l=n(0),u=n(38).createPortal,c=n(42).canUseDOM,d=function(e){"use strict";o(d,e);var t,n,l=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=a(t);if(n){var i=a(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return s(this,e)});function d(){return r(this,d),l.apply(this,arguments)}return i(d,[{key:"componentWillUnmount",value:function(){if(this.defaultNode){var e=this.defaultNode;setTimeout((function(){return document.body.removeChild(e)}),0)}this.defaultNode=null}},{key:"render",value:function(){return c?(this.defaultNode||(this.defaultNode=document.createElement("div"),this.defaultNode.className=this.props.className,document.body.appendChild(this.defaultNode)),u(this.props.children,this.defaultNode)):null}}]),d}(l.Component);d.defaultProps={className:""},e.exports=d},241:function(e,t,n){var r=n(3),i=n(2),o=n(6),s=n(8),a=n(9),l=n(14),u=n(15),c=n(10);var d=n(0),p=n(4);e.exports=function(e){var t=function(t){"use strict";l(h,t);var n,r,f=(n=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(n);if(r){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return u(this,e)});function h(){return s(this,h),f.apply(this,arguments)}return a(h,[{key:"render",value:function(){var t=this.props.className,n=this.props.width;return n&&(t=p(t,"andes-width--".concat(n))),null!==n?i("div",{className:"andes-widther"},"widther",d.createElement(e,o({},this.props,{className:t}))):d.createElement(e,o({key:"widther"},this.props))}}]),h}(d.PureComponent);return t.defaultProps=r(r({},e.defaultProps),{},{className:"",width:null}),t}},242:function(e,t,n){var r=n(6),i=n(7),o=["children","component"],s=n(0),a=n(5),l=(a.node,a.arrayOf,a.oneOfType,a.elementType,function(e){var t=e.children,n=e.component,a=i(e,o);return s.createElement(n,r({className:"andes-visually-hidden"},a),t)});l.defaultProps={component:"span"},e.exports=l},3:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectSpread2.js")},38:function(e,t){e.exports=n("./node_modules/react-dom/index.js")},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},42:function(e,t){e.exports=n("./node_modules/exenv/index.js")},5:function(e,t){e.exports=n("./node_modules/prop-types/index.js")},6:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/extends.js")},7:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")},8:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/classCallCheck.js")},9:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/createClass.js")}})},"./node_modules/@andes/common/build/utils/usePreventScroll.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=153)}({153:function(e,t,n){e.exports=n(154)},154:function(e,t,n){var r=n(33),i=r.chain,o=r.getScrollParent,s=r.isIOS,a=r.useLayoutEffect,l="undefined"!=typeof window&&window.visualViewport,u=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),c=function(e){var t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflowY)},d=function(e){var t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflowX)},p=function(e,t,n){var r=e.style[t];return e.style[t]=n,function(){e.style[t]=r}},f=function(e){var t=o(e);if(t!==document.documentElement&&t!==document.body){var n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(t.scrollTop+=r-n)}},h=function(e,t,n,r){return e.addEventListener(t,n,r),function(){e.removeEventListener(t,n,r)}},m=function(){return i(p(document.documentElement,"paddingRight","".concat(window.innerWidth-document.documentElement.clientWidth,"px")),p(document.documentElement,"overflow","hidden"))},g=function(){var e,t=0,n=0,r=window.pageXOffset,s=window.pageYOffset,a=i(p(document.documentElement,"paddingRight","".concat(window.innerWidth-document.documentElement.clientWidth,"px")),p(document.documentElement,"overflow","hidden"),p(document.body,"marginTop","-".concat(s,"px")));window.scrollTo(0,0);var m=i(h(document,"touchstart",(function(r){(e=o(r.target))===document.documentElement&&e===document.body||(t=r.changedTouches[0].pageY,n=r.changedTouches[0].pageX)}),{passive:!1,capture:!0}),h(document,"touchmove",(function(r){if(e!==document.documentElement&&e!==document.body){var i=r.changedTouches[0].pageY,o=r.changedTouches[0].pageX,s=e,a=s.scrollTop,l=s.scrollLeft,u=e.scrollHeight-e.clientHeight,p=e.scrollWidth-e.clientWidth,f=a<=0&&i>t,h=a>=u&&i<t,m=l<=0&&o>n,g=l>=p&&o<n;c(e)&&!d(e)?(f||h)&&r.preventDefault():d(e)&&!c(e)?(m||g)&&r.preventDefault():(f||h||m||g)&&r.preventDefault(),t=i,n=o}else r.preventDefault()}),{passive:!1,capture:!0}),h(document,"touchend",(function(e){var t=e.target;t instanceof HTMLInputElement&&!u.has(t.type)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame((function(){t.style.transform=""})))}),{passive:!1,capture:!0}),h(document,"focus",(function(e){var t=e.target;t instanceof HTMLInputElement&&!u.has(t.type)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame((function(){t.style.transform="",l&&(l.height<window.innerHeight?requestAnimationFrame((function(){f(t)})):l.addEventListener("resize",(function(){return f(t)}),{once:!0}))})))}),!0),h(window,"scroll",(function(){window.scrollTo(0,0)})));return function(){a(),m(),window.scrollTo(r,s)}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDisabled;a((function(){if(!t)return s()?g():m()}),[t])}},33:function(e,t){e.exports=n("./node_modules/@react-aria/utils/dist/module.js")}})},"./node_modules/@andes/common/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/common/build/index.production.js")},"./node_modules/@andes/icons/Close20.js":function(e,t,n){"use strict";var r,i=(r=n("./node_modules/react/index.js"))&&"object"==typeof r&&"default"in r?r.default:r;const o=({color:e,i18n:t})=>i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:e},i.createElement("path",{d:"M4.35156 5.19496L9.15406 9.99746L4.35156 14.8L5.20009 15.6485L10.0026 10.846L14.7963 15.6397L15.6449 14.7912L10.8511 9.99746L15.6449 5.20371L14.7963 4.35518L10.0026 9.14894L5.20009 4.34644L4.35156 5.19496Z",fill:e}));o.defaultProps={color:"rgba(0, 0, 0, 0.9)"};var s=o;e.exports=s},"./node_modules/@andes/message/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=313)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},10:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")},12:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")},14:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/inherits.js")},15:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},313:function(e,t,n){e.exports=n(314)},314:function(e,t,n){var r=n(315),i=n(316);e.exports=r,e.exports.MessageActions=i},315:function(e,t,n){var r=n(2),i=n(1),o=n(8),s=n(9),a=n(12),l=n(14),u=n(15),c=n(10);var d=n(0),p=n(4),f=n(91).Notification,h=n(92),m=function(e){"use strict";l(g,e);var t,n,m=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function g(e){var t;return o(this,g),(t=m.call(this,e)).onCloseHandler=t.onCloseHandler.bind(a(t)),t.renderActionButtons=t.renderActionButtons.bind(a(t)),t.state={visible:e.visible},t}return s(g,[{key:"onCloseHandler",value:function(e){var t=this;this.setState({visible:!1},(function(){var n=t.props.onClose;"function"==typeof n&&n(e)}))}},{key:"renderActionButtons",value:function(){var e=this.props,t=e.actions,n=e.actionsPosition,r=e.closable,i=e.hierarchy,o=e.title,s=e.type;return d.cloneElement(t,{actionsPosition:n,closable:r,hierarchy:i,title:o,type:s})}},{key:"render",value:function(){var e,t=this.props,n=t.actions,o=t.actionsPosition,s=t.children,a=t.className,l=t.closable,u=t.hierarchy,c=t.title,d=t.thumbnail,m=t.type,g=this.state.visible,v=c?null:"untitled",y=p(a,"andes-message","andes-message--".concat(m),i({},"andes-message--".concat(u),u)),_=p(i({},"andes-message__border-color--".concat(m),"quiet"===u)),b=p("andes-message__content",{untitled:v}),T=p("andes-message__close--".concat(m),{"andes-message__close--quiet":"quiet"===u,"andes-message__close-in-line":"right"===o,"andes-message__close--bottom":"bottom"===o}),E=p("andes-message__badge",i({},"andes-message__badge--".concat(m),"quiet"!==u)),w=p("andes-message__text",(i(e={},"andes-message__text--".concat(m),m),i(e,"andes-message__text-inline-action","right"===o),e)),j=r(f,{className:E,size:"small",type:m});return g&&r("div",{className:y},void 0,"quiet"===u&&r("div",{className:_}),d?r("div",{className:"andes-message__thumbnail-container"},void 0,r(h,{className:"andes-message__thumbnail"},void 0,d),j):j,r("div",{className:b},void 0,c&&r("div",{className:"andes-message__title andes-message__title--".concat(m)},void 0,c),r("div",{className:w},void 0,s,n&&this.renderActionButtons())),l&&r("div",{className:T,onClick:this.onCloseHandler,role:"presentation"}))}}]),g}(d.PureComponent);m.defaultProps={actions:null,actionsPosition:"bottom",children:null,className:"",closable:!1,hierarchy:"loud",onClose:null,thumbnail:null,type:"neutral",title:null,visible:!0},e.exports=m},316:function(e,t,n){var r=n(2),i=n(1),o=n(8),s=n(9),a=n(14),l=n(15),u=n(10);var c=n(0),d=n(4),p=n(35),f=function(e){"use strict";a(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=u(t);if(n){var i=u(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function f(){return o(this,f),c.apply(this,arguments)}return s(f,[{key:"render",value:function(){var e,t,n=this.props,o=n.actionsPosition,s=n.closable,a=n.hierarchy,l=n.primary,u=n.secondary,c=n.title,f=n.type,h="andes-message",m=d(i({},"".concat(h,"__buttons-container"),"bottom"===o||c)),g=((null==u?void 0:u.onClick)||(null==u?void 0:u.href))&&(null==u?void 0:u.text)&&"bottom"===o,v=d((i(e={},"".concat(h,"__primary-button-closeable"),"right"===o&&s),i(e,"".concat(h,"__primary-button-inline"),"right"===o&&!c),i(e,"".concat(h,"__primary-button--").concat(f),"loud"===a),e)),y=d(["".concat(h,"__secondary-button")],(i(t={},"".concat(h,"__secondary-button--").concat(f),"loud"===a),i(t,"".concat(h,"__secondary-button--").concat(a),"loud"===a),t));return r("div",{className:m},void 0,r(p,{size:"medium",className:v,onClick:l.onClick,href:l.href},void 0,r("span",{},void 0,l.text)),g&&r(p,{size:"medium",className:y,onClick:u.onClick,hierarchy:"transparent",href:u.href},void 0,r("span",{},void 0,u.text)))}}]),f}(c.PureComponent);f.defaultProps={actionsPosition:"bottom",closable:!1,hierarchy:"loud",primary:null,secondary:null,title:null,type:"neutral"},e.exports=f},35:function(e,t){e.exports=n("./node_modules/@andes/button/main.js")},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},8:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/classCallCheck.js")},9:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/createClass.js")},91:function(e,t){e.exports=n("./node_modules/@andes/badge/main.js")},92:function(e,t){e.exports=n("./node_modules/@andes/thumbnail/main.js")}})},"./node_modules/@andes/message/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/message/build/index.production.js")},"./node_modules/@andes/modal/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=317)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},10:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")},11:function(e,t){e.exports=n("./node_modules/@andes/common/build/utils/warning.js")},12:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")},123:function(e,t,n){var r=n(2),i=(n(0),n(5)),o=(i.func,i.string,n(19)),s=o.ENTER,a=o.SPACE,l=n(51),u=function(e){var t=e.closeButtonLabel,n=e.onClose,i=e.color,o=e.closeUrl,u=function(){"function"==typeof n&&n()};return r(o?"a":"button",{className:"andes-modal__close-button",role:o?void 0:"button","aria-label":t,onClick:u,onKeyDown:function(e){switch(e.keyCode){case s:case a:e.preventDefault(),u()}},tabIndex:0,href:o},void 0,r(l,{color:i}))};u.defaultProps={onClose:void 0,color:"rgba(0,0,0,0.55)",closeUrl:""},e.exports=u},14:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/inherits.js")},15:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")},16:function(e,t){e.exports=n("./node_modules/@andes/common/main.js")},19:function(e,t){e.exports=n("./node_modules/@andes/common/build/constants/keyCodes.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},24:function(e,t){e.exports=n("./node_modules/@react-aria/focus/dist/module.js")},3:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectSpread2.js")},317:function(e,t,n){e.exports=n(318)},318:function(e,t,n){var r=n(319);e.exports=r},319:function(e,t,n){var r,i=n(6),o=n(2),s=n(1),a=n(3),l=n(0),u=n(5),c=(u.string,u.node,u.func,u.bool,u.number,u.arrayOf,u.oneOfType,u.oneOf,u.shape,n(4)),d=n(11),p=n(85),f=n(320),h=n(24).FocusScope,m=n(16).Portal,g=n(40).useDialog,v=n(41).useOverlay,y=n(322),_=n(323),b=n(324),T=n(325),E=n(123),w=n(326),j=w.SECONDARY_HEADER_SCROLL_SHOW,S=w.SECONDARY_HEADER_SHOW_TITLE_SCROLLS,k=w.FIXED_ACTIONS_PADDINGS,x=l.useEffect,C=l.useRef,P=l.useCallback,O=function(e){return e&&e.scrollHeight>e.clientHeight},I=function(e,t,n){e&&null!=t&&t.classList&&n&&t.classList[String(e)](n)},A="andes-modal",N=function(e){var t,n,u,f,w=e.isVisible,N=e.isClosing,L=e.handleClose,D=e.children,R=e.title,M=e["aria-label"],U=e.closeButtonLabel,B=e.closeUrl,F=e.type,H=e.actions,q=e.dialog,V=e.media,W=e.maxHeight,z=e.maxWidth,G=e.className,K=C(),X=C(),Y=C(),$=C(),Q=C();d(M||"string"==typeof R&&R.length,"<Modal> needs some plain text contents for accessibility reasons. Please add a `aria-label` or `title` prop."),p();var Z=P((function(){var e=null==Q?void 0:Q.current;null!=H&&H.fixed&&e&&O(null==$?void 0:$.current)&&I("add",e,"".concat(A,"__actions--border"))}),[H]);x((function(){setTimeout(Z,0)}),[Z]);var J,ee=v({onClose:L,isOpen:w||N,isKeyboardDismissDisabled:q,isDismissable:!q},K).overlayProps,te=g(a(a({},e),{},{"aria-label":M||("string"==typeof R?R:"")}),K).dialogProps,ne="card"!==F&&!q,re="card"===F&&!q,ie=c(A,G,(s(t={},"".concat(A,"--").concat(F),F),s(t,"".concat(A,"--asset"),null==V?void 0:V.asset),s(t,"".concat(A,"--fixed-actions"),null==H?void 0:H.fixed),s(t,"".concat(A,"--closing"),N),t)),oe=c("".concat(A,"__overlay"),(s(n={},"".concat(A,"__overlay--").concat(F),F),s(n,"".concat(A,"__overlay--closing"),N),n)),se={maxHeight:W?"min(100%, ".concat(W,"px)"):"100%",maxWidth:z?"min(100%, ".concat(z,"px)"):"100%"},ae={onClose:L,closeButtonLabel:U,closeUrl:B};return o(m,{className:"".concat(A,"__portal")},void 0,o("div",{className:oe},void 0,o(h,{contain:!0,restoreFocus:!0,autoFocus:!0},void 0,l.createElement("div",i({},ee,te,{className:ie,style:se,"data-ismodal":!0,"aria-modal":!0,ref:K}),r||(r=o("div",{tabIndex:0})),re&&o(E,{onClose:L,closeButtonLabel:U,color:"white",closeUrl:B}),(null==V?void 0:V.asset)?l.createElement(_,i({className:"".concat(A,"__header--secondary"),ref:X,showCloseButton:ne},ae),R&&(u||(u=o(b,{},void 0,R)))):null,l.createElement("div",{className:"".concat(A,"__scroll"),onScroll:function(){var e=null==X?void 0:X.current,t=null==Y?void 0:Y.current,n=null==$?void 0:$.current,r=null==Q?void 0:Q.current;if(O(n)){var i=n.scrollTop;if(e&&S[String(F)]){var o=S[String(F)];I(ne?i<j?"remove":"add":i<t.clientHeight-o?"remove":"add",e,"".concat(A,"__header--show")),I(i<t.clientHeight-o?"remove":"add",e,"".concat(A,"__header--show-title"))}else t&&I(i<t.clientHeight?"remove":"add",t,"".concat(A,"__header--sticky"));if(null!=H&&H.fixed&&r){var s=n.scrollHeight-Math.abs(i)===n.clientHeight;if(I(s?"remove":"add",r,"".concat(A,"__actions--border")),k[String(F)]){var a=k[String(F)],l=a.initial,u=a.final,c=n.scrollHeight-Math.abs(i)-n.clientHeight>u&&r.classList.contains("padding");s?(requestAnimationFrame((function(){r.style.paddingBottom="".concat(u,"px")})),setTimeout((function(){return I("add",r,"padding")}),80)):c&&(requestAnimationFrame((function(){r.style.paddingBottom="".concat(l,"px")})),setTimeout((function(){return I("remove",r,"padding")}),80))}}}},ref:$},(J=null==V?void 0:V.asset,R||J?l.createElement(_,i({ref:Y,centered:!!J||"card"===F,showCloseButton:!J&&ne},ae),J,R&&(f||(f=o(b,{},void 0,R)))):null),D&&o(T,{},void 0,D),H&&l.createElement(y,{fixed:H.fixed,ref:Q},H.primary,H.secondary))))))};N.defaultProps={"aria-label":"",closeUrl:"",type:"small",actions:void 0,media:void 0,dialog:!1,maxHeight:void 0,maxWidth:void 0,className:""},e.exports=f(N)},320:function(e,t,n){var r=n(6),i=n(8),o=n(9),s=n(12),a=n(14),l=n(15),u=n(10),c=n(1);var d=n(0),p=n(5),f=(p.func,p.bool,p.string,p.node,p.oneOfType,n(321)),h=f.isLocationURL,m=f.addChange,g=f.removeChange,v=f.redirect,y=f.back;e.exports=function(e){var t;return t=function(t){"use strict";a(f,t);var n,c,p=(n=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(c){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return l(this,e)});function f(e){var t;i(this,f);var n=(t=p.call(this,e)).props.isOpen;return t.state={isVisible:n,isClosing:!1},t.handleOpen=t.handleOpen.bind(s(t)),t.handleClose=t.handleClose.bind(s(t)),t.closeModal=t.closeModal.bind(s(t)),t.navigation=t.navigation.bind(s(t)),t}return o(f,[{key:"componentDidMount",value:function(){this.props.url&&m(this.navigation),this.handleOpen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.isOpen,n=e.onOpen;this.state.isVisible!==t&&(t?("function"==typeof n&&n(),this.setState({isVisible:!0},this.handleOpen)):this.handleClose())}},{key:"componentWillUnmount",value:function(){this.props.url&&g(this.navigation)}},{key:"handleOpen",value:function(){var e=this.state.isVisible,t=this.props,n=t.url,r=t.title;e?n&&v(n,r):n&&y(n)}},{key:"handleClose",value:function(e){var t=this,n=this.props.onClose;e&&(e.preventDefault(),e.persist&&e.persist()),this.closeModal((function(){"function"==typeof n&&n(e),t.handleOpen()}))}},{key:"closeModal",value:function(e){var t=this;this.setState({isClosing:!0}),setTimeout((function(){t.setState({isVisible:!1,isClosing:!1},e)}),180)}},{key:"navigation",value:function(){var e=this.props.url,t=this.state.isVisible;h(e)?this.handleOpen():t&&this.handleClose()}},{key:"render",value:function(){var t=this.state,n=t.isVisible,i=t.isClosing;return(n||i)&&d.createElement(e,r({handleClose:this.handleClose},this.state,this.props))}}]),f}(d.Component),c(t,"defaultProps",{isOpen:!1,onOpen:void 0,onClose:void 0,url:""}),t}},321:function(e,t){var n=function(e){return window.location.href===e};e.exports={redirect:function(e,t){n(e)||("function"==typeof window.history.pushState?window.history.pushState(void 0,t,e):window.location=e)},back:function(e){n(e)&&window.history.back()},addChange:function(e){"function"==typeof window.history.pushState&&window.addEventListener("popstate",e)},removeChange:function(e){"function"==typeof window.history.pushState&&window.removeEventListener("popstate",e)},isLocationURL:n}},322:function(e,t,n){var r=n(1),i=n(0),o=n(5),s=(o.bool,o.node,o.oneOfType,o.arrayOf,n(4)),a=i.forwardRef((function(e,t){var n=e.children,o=e.fixed,a=s("andes-modal__actions",r({},"".concat("andes-modal__actions","--fixed"),o));return i.createElement("div",{className:a,ref:t},n)}));a.defaultProps={fixed:!1},e.exports=a},323:function(e,t,n){var r=n(2),i=n(1),o=n(0),s=n(5),a=(s.string,s.node,s.func,s.bool,s.oneOfType,s.arrayOf,n(4)),l=n(123),u="andes-modal__header",c=o.forwardRef((function(e,t){var n=e.children,s=e.onClose,c=e.centered,d=e.showCloseButton,p=e.closeButtonLabel,f=e.className,h=e.closeUrl,m=a(u,f),g=a("".concat(u,"__contents"),i({},"".concat(u,"__contents--centered"),c));return o.createElement("div",{className:m,ref:t},r("div",{className:g},void 0,n),d&&r(l,{onClose:s,closeButtonLabel:p,closeUrl:h}))}));c.defaultProps={className:"",onClose:void 0,centered:!1,showCloseButton:!0,closeUrl:""},e.exports=c},324:function(e,t,n){var r=n(2),i=(n(0),n(5));i.string,i.node,i.oneOfType,i.arrayOf,e.exports=function(e){var t=e.children;return r("span",{className:"andes-modal__title"},void 0,t)}},325:function(e,t,n){var r=n(0),i=n(5).node,o=r.forwardRef((function(e,t){var n=e.children;return r.createElement("div",{className:"andes-modal__content",ref:t},n)}));o.propTypes={children:i.isRequired},e.exports=o},326:function(e,t){e.exports={SECONDARY_HEADER_SCROLL_SHOW:35,SECONDARY_HEADER_SHOW_TITLE_SCROLLS:{small:40,large:48,full:56,card:40},FIXED_ACTIONS_PADDINGS:{small:{initial:16,final:32},large:{initial:16,final:48},card:{initial:16,final:24},full:{initial:16,final:24}}}},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},40:function(e,t){e.exports=n("./node_modules/@react-aria/dialog/dist/module.js")},41:function(e,t){e.exports=n("./node_modules/@react-aria/overlays/dist/module.js")},5:function(e,t){e.exports=n("./node_modules/prop-types/index.js")},51:function(e,t){e.exports=n("./node_modules/@andes/icons/Close20.js")},6:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/extends.js")},8:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/classCallCheck.js")},85:function(e,t){e.exports=n("./node_modules/@andes/common/build/utils/usePreventScroll.js")},9:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/createClass.js")}})},"./node_modules/@andes/modal/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/modal/build/index.production.js")},"./node_modules/@andes/snackbar/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=374)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},10:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")},11:function(e,t){e.exports=n("./node_modules/@andes/common/build/utils/warning.js")},12:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")},14:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/inherits.js")},15:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},24:function(e,t){e.exports=n("./node_modules/@react-aria/focus/dist/module.js")},374:function(e,t,n){e.exports=n(375)},375:function(e,t,n){var r=n(376);e.exports=r},376:function(e,t,n){var r=n(6),i=n(2),o=n(1),s=n(8),a=n(9),l=n(12),u=n(14),c=n(15),d=n(10);var p=n(0),f=n(4),h=n(11),m=n(24).FocusScope,g="andes-snackbar",v=function(e){"use strict";u(y,e);var t,n,v=(t=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d(t);if(n){var i=d(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)});function y(e){var t;s(this,y);var n=(t=v.call(this,e)).props.show;return t.onActionClick=t.onActionClick.bind(l(t)),t.onAnimationEnd=t.onAnimationEnd.bind(l(t)),t.state={display:n,show:n},t}return a(y,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.show,r=t.delay,i=t.onChange,o=t.actionLink;n&&r&&(this.delayTimeout=setTimeout((function(){e.setState({show:!1},(function(){return i&&i(!1)}))}),r)),h(!o,"For retrocompatibility reasons, <Snackbar> still receives actionLink, \n    but this type of component is not meant for navigation triggering, and actionLink will be deprecated"),r&&h(!(r<2e4),"For retrocompatibility reasons, <Snackbar> can be displayed for any given number of miliseconds,\n      but the value should be greater than 20000 because of a11y")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props.show,r=this.state.show,i=null!==e.delay,o=!n&&e.show,s=n!==e.show,a=e.show!==r;s&&a&&this.setState({display:e.show,show:e.show},(function(){return e.onChange&&e.onChange(e.show)})),o&&i&&(this.delayTimeout=setTimeout((function(){t.setState({show:!1},(function(){return e.onChange&&e.onChange(!1)}))}),e.delay)),e.show||clearTimeout(this.delayTimeout)}},{key:"onActionClick",value:function(e){var t=this.props.onActionClick;"function"==typeof t&&(clearTimeout(this.delayTimeout),t(e))}},{key:"onAnimationEnd",value:function(){this.state.show||this.setState({display:!1})}},{key:"computeClasses",value:function(){var e,t=this.props,n=t.className,r=t.type,i=t.actionPosition,s=this.state.show;return f(g,"".concat(g,"--").concat(r),"".concat(g,"--").concat(i),n,(o(e={},"".concat(g,"--animate-show"),s),o(e,"".concat(g,"--animate-hide"),!1===s),e))}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.actionLink,o=e.actionMessage,s=o?{role:"alertdialog"}:{role:"alert"},a=this.state,l=a.display,u=a.show,c=this.computeClasses();return l&&null!==u?i(m,{contain:!0,restoreFocus:!0,autoFocus:!0},void 0,p.createElement("div",r({},s,{className:c,onAnimationEnd:this.onAnimationEnd}),i("p",{className:"".concat(g,"__message")},void 0,t),o&&i("a",{href:n,className:"".concat(g,"__action"),onClick:this.onActionClick},void 0,o))):null}}]),y}(p.Component);v.defaultProps={className:"",type:"default",actionMessage:"",actionLink:void 0,onActionClick:null,show:!1,onChange:null,delay:null,actionPosition:"right"},e.exports=v},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},6:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/extends.js")},8:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/classCallCheck.js")},9:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/createClass.js")}})},"./node_modules/@andes/snackbar/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/snackbar/build/index.production.js")},"./node_modules/@andes/thumbnail/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=419)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},11:function(e,t){e.exports=n("./node_modules/@andes/common/build/utils/warning.js")},137:function(e,t,n){var r=n(2),i=n(3),o=n(1),s=n(0),a=n(4),l=n(11),u=n(16).VisuallyHidden,c={default:"rgba(0, 0, 0, 0.9)",loud:"#fff",quiet:"#3483fa",disabled:"rgba(0, 0, 0, 0.25)"},d=function(e){return"80"===e||"72"===e||"64"===e?"large":"small"};function p(e){return"Icon"===e.type.name}function f(e){return!e.props.src&&"Icon"!==e.type.name}var h=function(e){var t,n,h=e.className,m=e.children,g=e.modifier,v=e.size,y=e.badge,_=e.hierarchy,b=e.disabled,T=e["aria-label"],E="andes-thumbnail",w=null==y||null===(t=y.props)||void 0===t?void 0:t.type,j=a(E,"".concat(E,"--").concat(g),"".concat(E,"--").concat(v),(o(n={},"".concat(E,"__badge"),y),o(n,"".concat(E,"__badge-").concat(w),w),o(n,"".concat(E,"--").concat(_),p(m)||f(m)),o(n,"".concat(E,"--").concat(_,"-disabled"),(p(m)||f(m))&&b),n),h,{}),S={"aria-hidden":!!T,title:T};return r("div",{className:"andes-thumbnail-container"},void 0,r("div",{className:j},void 0,s.Children.only(p(m)?s.cloneElement(m,{color:c[b?"disabled":_]}):f(m)?s.cloneElement(m,i({},S)):m),T&&r(u,{},void 0,T)),y&&function(e,t){var n="Dot"===t.type.displayName;return n&&("24"===e||"32"===e)||!n&&"24"!==e&&"32"!==e?t:(l(!n,"".concat(e," should use Notification or Pill Badges")),!1)}(v,y)&&s.cloneElement(y,{size:d(v)}))};h.defaultProps={className:"",badge:null,modifier:"circle",size:"48",disabled:!1,hierarchy:"default","aria-label":void 0},e.exports=h},16:function(e,t){e.exports=n("./node_modules/@andes/common/main.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},3:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectSpread2.js")},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},419:function(e,t,n){e.exports=n(420)},420:function(e,t,n){var r=n(137),i=n(421);e.exports=r,e.exports.ThumbnailMultiple=i},421:function(e,t,n){var r=n(2),i=n(0),o=n(5),s=(o.string,o.oneOf,o.number,n(4)),a=n(137),l=n(422),u=(l.AVAILABLE_TYPES,l.TYPE_GRID),c=(l.TYPE_STACKED,n(423)),d=(c.STACKED_SIZES,c.GRID_SIZES,c.SIZE_72),p=c.SIZE_32,f=c.SIZE_24,h=c.SIZE_80,m="andes-thumbnail-multiple",g=function(e){var t=e.children,n=e.className,o=e.modifier,l=e.type,c=e.containerSize,g=e.overflow,v=s(m,"".concat(m,"--").concat(l),"".concat(m,"--").concat(l,"-").concat(c),n),y=function(e,t){return e===u?t===d||t===h?p:f:t}(l,c);return r("div",{className:v},void 0,i.Children.map(t,(function(e){return i.cloneElement(e,{size:y,modifier:o})})),g&&r(a,{className:"".concat(m,"--overflow"),size:y,modifier:o},void 0,r("span",{},void 0,"+",g)))};g.defaultProps={children:void 0,className:"",type:"grid",modifier:"circle",containerSize:"56",overflow:void 0},e.exports=g},422:function(e,t){e.exports={TYPE_GRID:"grid",TYPE_STACKED:"stacked",AVAILABLE_TYPES:["grid","stacked"]}},423:function(e,t){e.exports={GRID_SIZES:["56","64","72","80"],STACKED_SIZES:["24","32","40","48","56","64","72","80"],SIZE_24:"24",SIZE_32:"32",SIZE_40:"40",SIZE_48:"48",SIZE_56:"56",SIZE_64:"64",SIZE_72:"72",SIZE_80:"80"}},5:function(e,t){e.exports=n("./node_modules/prop-types/index.js")}})},"./node_modules/@andes/thumbnail/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/thumbnail/build/index.production.js")},"./node_modules/@andes/tooltip/build/index.production.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=428)}({0:function(e,t){e.exports=n("./node_modules/react/index.js")},1:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/defineProperty.js")},11:function(e,t){e.exports=n("./node_modules/@andes/common/build/utils/warning.js")},13:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/slicedToArray.js")},16:function(e,t){e.exports=n("./node_modules/@andes/common/main.js")},2:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/jsx.js")},29:function(e,t){e.exports=n("./node_modules/@andes/floating-menu/main.js")},4:function(e,t){e.exports=n("./node_modules/classnames/index.js")},428:function(e,t,n){e.exports=n(429)},429:function(e,t,n){var r=n(430);e.exports=r},430:function(e,t,n){var r=n(6),i=n(2),o=n(13),s=n(1),a=n(7),l=["actions","className","type","side","title","content","image","icons","thumbnail","children","offsetX","offsetY","trigger","mouseEnterDelay","mouseLeaveDelay","autoHideDelay","showCloseButton","afterVisibleChange","visible","onVisibleChange","onCloseTooltip","onClickOutside","mask","maskClosable"],u=n(0),c=n(5),d=(c.bool,c.element,c.func,c.node,c.number,c.oneOf,c.oneOfType,c.shape,c.string,n(4)),p=n(11),f=n(29),h=n(431),m=n(432),g=n(433),v=u.useEffect,y=u.useRef,_=u.useState,b={topLeft:"top-start",top:"top",topRight:"top-end",bottomLeft:"bottom-start",bottom:"bottom",bottomRight:"bottom-end",leftTop:"left-start",left:"left",leftBottom:"left-end",rightTop:"right-start",right:"right",rightBottom:"right-end"},T=function(e){var t=e.actions,n=e.className,c=e.type,T=e.side,E=e.title,w=e.content,j=e.image,S=e.icons,k=e.thumbnail,x=e.children,C=e.offsetX,P=e.offsetY,O=e.trigger,I=e.mouseEnterDelay,A=e.mouseLeaveDelay,N=e.autoHideDelay,L=e.showCloseButton,D=e.afterVisibleChange,R=e.visible,M=e.onVisibleChange,U=e.onCloseTooltip,B=e.onClickOutside,F=e.mask,H=e.maskClosable,q=a(e,l),V=d(n,"andes-tooltip",s({},"".concat("andes-tooltip","--").concat(c),c)),W="click"===O,z="hover"===O,G=!!t||W||L,K=_(!1),X=o(K,2),Y=X[0],$=X[1],Q=y(null),Z=y(null),J=y(null),ee=y(null),te=y(!0);v((function(){p(!(F||H),"The props 'mask' and 'maskClosable' of <Tooltip> are deprecated and will be removed in the next major. Please remove them.")}),[]),v((function(){$(R||!1)}),[R]);var ne=function(){Z.current=setTimeout((function(){return $(!0)}),1e3*I),clearTimeout(J.current)},re=function(){J.current=setTimeout((function(){return $(!1)}),1e3*A),clearTimeout(Z.current)};v((function(){var e;te.current?te.current=!1:((e=Y)&&N&&(Q.current=setTimeout((function(){return $(!1)}),N)),e||clearTimeout(Q.current),"function"!=typeof U||e||U(),"function"==typeof M&&M(e),"function"==typeof D&&D(e))}),[Y]);var ie=G?function(){ee.current=setTimeout(re,300),Y||(clearTimeout(ee.current),clearTimeout(Z.current))}:re,oe=Y?re:ne,se=0!==C&&0!==P?g(T,"top")?[C,-P]:g(T,"bottom")?[C,P]:g(T,"left")?[P,-C]:g(T,"right")?[P,C]:void 0:m["".concat(T)];return u.createElement(f,r({placement:b["".concat(T)],className:V,interactive:G,interactiveDebounce:75,offset:se,onClickOutside:function(e,t){"function"==typeof B?B(t):W&&re()},visible:Y,popperOptions:{modifiers:[{name:"flip",enabled:!1}]},content:i(h,{namespace:"andes-tooltip",title:E,content:w,thumbnail:k,image:j,icons:S,showCloseButton:L||W,actions:t,placement:b["".concat(T)],closeTooltip:re,onMouseEnter:z?function(){clearTimeout(ee.current),clearTimeout(J.current)}:void 0,onMouseLeave:z?re:void 0})},q),i("div",{className:"".concat("andes-tooltip","__trigger"),onMouseEnter:z?ne:void 0,onMouseLeave:z?ie:void 0,onClick:W?oe:void 0},void 0,x))};T.defaultProps={actions:void 0,className:"",image:void 0,icons:void 0,thumbnail:void 0,offsetX:0,offsetY:0,side:"top",title:void 0,trigger:"hover",type:"light",visible:void 0,mouseEnterDelay:0,mouseLeaveDelay:.1,autoHideDelay:void 0,onCloseTooltip:void 0,onClickOutside:void 0,onVisibleChange:void 0,showCloseButton:!1,afterVisibleChange:void 0,mask:void 0,maskClosable:void 0},e.exports=T},431:function(e,t,n){var r,i=n(6),o=n(2),s=n(1),a=n(7),l=["actions","namespace","title","content","image","thumbnail","icons","showCloseButton","placement","closeTooltip","instance"],u=n(0),c=n(5),d=(c.bool,c.element,c.func,c.node,c.oneOf,c.oneOfType,c.shape,c.string,n(4)),p=n(16).Image,f=n(91),h=f.Notification,m=f.Pill,g=n(92),v=function(e){var t,n=e.actions,c=e.namespace,f=e.title,v=e.content,y=e.image,_=e.thumbnail,b=e.icons,T=e.showCloseButton,E=e.placement,w=e.closeTooltip,j=(e.instance,a(e,l)),S=d("".concat(c,"-data"),s({},"".concat(c,"-data-image"),y||b)),k=d("".concat(c,"-data__arrow"),s({},"".concat(c,"-data__arrow--").concat(E),E));return u.createElement("div",i({className:S},j),T&&o("button",{className:"".concat(c,"-button-close"),onClick:function(e){e.preventDefault(),e.stopPropagation(),w()}}),_&&o("div",{className:"".concat(c,"__image-container")},void 0,(t={badge:"pill"===_.badge?o(m,{},void 0,_.pillContent):"notification"===_.badge?r||(r=o(h,{})):void 0,className:"".concat(c,"__image")},"image"===_.type?u.createElement(g,t,u.createElement(p,y)):"icons"===_.type?u.createElement(g,i({hierarchy:_.hierarchy,disabled:_.disabled},t),b):void 0)),o("div",{className:"".concat(c,"__content")},void 0,f&&o("h5",{className:"".concat(c,"__title")},void 0,f),v&&o("div",{className:"".concat(c,"__text")},void 0,v),n&&o("div",{className:"".concat(c,"__actions")},void 0,n)),o("div",{className:k,"data-popper-arrow":!0}))};v.defaultProps={actions:void 0,image:void 0,icons:void 0,showCloseButton:!1,title:void 0,thumbnail:void 0,placement:"top",closeTooltip:void 0,instance:void 0},e.exports=v},432:function(e,t){e.exports={top:[0,16],topLeft:[-10,16],topRight:[10,16],bottom:[0,16],bottomLeft:[-10,16],bottomRight:[10,16],left:[0,16],leftTop:[-10,16],right:[0,16],rightTop:[-10,16]}},433:function(e,t){e.exports=function(e,t){return 0===e.indexOf(t,0)}},5:function(e,t){e.exports=n("./node_modules/prop-types/index.js")},6:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/extends.js")},7:function(e,t){e.exports=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")},91:function(e,t){e.exports=n("./node_modules/@andes/badge/main.js")},92:function(e,t){e.exports=n("./node_modules/@andes/thumbnail/main.js")}})},"./node_modules/@andes/tooltip/main.js":function(e,t,n){e.exports=n("./node_modules/@andes/tooltip/build/index.production.js")},"./node_modules/@babel/runtime/helpers/esm/extends.js":function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},"./node_modules/@frontend-metrics/gtm/dist/client/frontend-gtm.js":function(e,t,n){"use strict";const r=n("./node_modules/react/index.js");class i extends r.Component{render(){return null}}e.exports=i},"./node_modules/@frontend-metrics/hotjar/dist/client/frontend-hotjar.js":function(e,t,n){"use strict";const r=n("./node_modules/react/index.js");class i extends r.Component{render(){return null}}e.exports=i},"./node_modules/@loyalty/components-partners/lib/buy-level-6/builder.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(n("./node_modules/react/index.js")),s=n("./node_modules/prop-types/index.js"),a=r(n("./node_modules/@loyalty/shared/lib/components/dummy-component/index.js"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.page,n=e.siteId,r=e.userId,i=e.eventHandlers,s=e.partnerName,l=e.buyLevelComponents,c=e.components,d=e.deviceType,p=e.level,f=e.nativeApp,h=e.track,m=e.className,g=e.wrapper,v=e.isSkeletonMock,y=e.background;return o.default.createElement("section",{style:{background:y||"#ededed"},className:m,"data-testid":"buy-level-6"},o.default.createElement("div",{className:"cards"},c.map((function(e,c){var m=l[e.type]||a.default,y=u(u({key:c,level:p},e),{},{siteId:n,userId:r,page:t,partnerName:s,eventHandlers:i[e.type]||{},track:h,deviceType:d,nativeApp:f,isSkeletonMock:v,wrapper:g});return o.default.createElement(m,y)}))))};c.defaultProps={eventHandlers:{}},c.propTypes={page:s.string,siteId:s.string,userId:s.number,deviceType:s.string,level:(0,s.shape)({}),nativeApp:s.string,track:(0,s.shape)({subscription_status:s.string,level:s.number}),buyLevelComponents:(0,s.shape)({}).isRequired,components:(0,s.arrayOf)((0,s.shape)({})).isRequired,className:s.string};var d=c;t.default=d},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefit-card/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=n("./node_modules/@andes/card/main.js"),a=r(n("./node_modules/classnames/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/items-thumbnails/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/discount-list/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/index.js")),p=function(e){var t=e.typeSection,n=e.type,r=e.header,o=e.items,p=e.deviceType,f=e.video,h=e.eventHandlers,m=e.track;return i.default.createElement(l.default,{className:(0,a.default)("benefits-card",{"benefits-card__without-shadows":"benefits-category-v2"===t}),header:r,deviceType:p,typeSection:t},i.default.createElement(s.CardContent,null,function(e,t,n,r,o,s){switch(e){case"qr-benefits":case"partner-benefits":case"discount-brands":return i.default.createElement(u.default,{items:t});case"benefit-list":case"benefits-ml":case"benefits-mp":return i.default.createElement(c.default,{items:t});case"combo-plus-sub":return i.default.createElement(d.default,{items:t,deviceType:n,video:r,track:s,eventHandlers:o});default:return null}}(n,o,p,f,h,m)))};p.propTypes={typeSection:o.default.string,type:o.default.string.isRequired,deviceType:o.default.string.isRequired,header:o.default.shape({title:o.default.string,price:o.default.shape({original_price:o.default.string.isRequired,final_price:o.default.string.isRequired,period:o.default.string.isRequired,final_price_color:o.default.string}),badge:o.default.shape({label:o.default.string,color:o.default.string,background_color:o.default.string})}),items:o.default.arrayOf(o.default.object).isRequired,video:o.default.string};var f=p;t.default=f},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefits-category/builder.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(n("./node_modules/react/index.js")),s=n("./node_modules/prop-types/index.js"),a=r(n("./node_modules/classnames/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/dummy-component/index.js"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.id,n=e.type,r=e.page,i=e.title,s=e.siteId,u=e.userId,d=e.eventHandlers,p=e.partnerName,f=e.benefitsCategoryComponents,h=e.components,m=e.deviceType,g=e.level,v=e.nativeApp,y=e.track,_=e.className;return o.default.createElement("section",{className:"".concat(n," ").concat(_||""),"data-testid":t},i&&o.default.createElement("h2",{className:(0,a.default)("".concat(n,"__title"),{"benefits-category-v2__title-larger":"benefits-category-v2"===n})},i),"benefits-category-v2"===n&&o.default.createElement("div",{className:"".concat(n,"__separator")}),o.default.createElement("div",{className:"cards"},h.map((function(e,t){var i=f[e.type]||l.default,a=c(c({key:t,level:g},e),{},{siteId:s,userId:u,page:r,partnerName:p,eventHandlers:d[e.type]||{},track:y,deviceType:m,nativeApp:v,typeSection:n});return o.default.createElement(i,a)}))))};d.defaultProps={eventHandlers:{}},d.propTypes={page:s.string,siteId:s.string,userId:s.number,deviceType:s.string,level:(0,s.shape)({}),nativeApp:s.string,track:(0,s.shape)({subscription_status:s.string,level:s.number}),title:s.string,benefitsCategoryComponents:(0,s.shape)({}).isRequired,components:(0,s.arrayOf)((0,s.shape)({})).isRequired,className:s.string};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefits-category/desktop.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefit-card/index.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefits-category/builder.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/savings-details/index.js")),u={"benefit-list":s.default,"benefits-ml":s.default,"benefits-mp":s.default,"qr-benefits":s.default,"partner-benefits":s.default,"discount-brands":s.default,"combo-plus-sub":s.default,"savings-details":l.default},c=function(e){return o.default.createElement(a.default,(0,i.default)({benefitsCategoryComponents:u},e))};t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/react/index.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/prop-types/index.js")),l=r(n("./node_modules/@andes/card/main.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-header/index.js"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var d=function(e){var t=e.header,n=e.children,r=e.deviceType,i=e.className,a=e.typeSection;return s.default.createElement("section",{className:i},s.default.createElement(l.default,{shadow:"desktop"===r?"flat":"elevated",deviceType:r},t&&s.default.createElement(u.default,(0,o.default)({},t,{typeSection:a})),n))};d.propTypes={typeSection:a.string,header:a.default.shape({title:a.default.string,price:a.default.shape({original_price:a.default.string.isRequired,final_price:a.default.string.isRequired,period:a.default.string.isRequired,final_price_color:a.default.string}),badge:a.default.shape({label:a.default.string,color:a.default.string,background_color:a.default.string})}),deviceType:a.default.string.isRequired,className:a.default.string,children:a.default.object.isRequired};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/classnames/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=n("./node_modules/@andes/badge/main.js"),u=function(e){var t=e.title,n=e.price,r=e.price_discounts,o=e.badge,u=e.pill,c=e.typeSection;return i.default.createElement("div",{className:(0,s.default)("card-header",{"card-header--badge":null==o?void 0:o.label,"card-header--v2":"benefits-category-v2"===c})},i.default.createElement("div",{className:"card-header-content"},t&&i.default.createElement("p",{className:(0,s.default)("card-header-content__title",{"card-header-content__title-v2":"benefits-category-v2"===c})},(0,a.default)(t)),n&&i.default.createElement("div",{className:"card-header-content__price"},n.savings_text&&i.default.createElement("span",{className:"card-header-content__price-savings",style:{color:n.savings_text_color||"#00A650"}},n.savings_text)),r&&i.default.createElement("div",{className:"card-header-content__discounts"},r.map((function(e){return e.background_color?i.default.createElement(l.Pill,{className:"card-header-content__discounts-pill",size:"small",style:{backgroundColor:"rgba(".concat(e.background_color,")")}},i.default.createElement("div",{className:"card-header-content__discounts-pill-text",style:{color:e.color}},e.label)):i.default.createElement("span",{className:"card-header-content__discounts-text",style:{color:e.color}},e.label)})))),u&&!(null!=o&&o.label)&&i.default.createElement("div",{className:"card-header__pill-container"},i.default.createElement(l.Pill,{className:"card-header__pill-container__content",size:"small",style:{backgroundColor:u.background_color}},i.default.createElement("div",{className:"card-header__pill-container__content-text",style:{color:u.color}},u.label))),(null==o?void 0:o.label)&&i.default.createElement(l.Pill,{className:"card-header__badge",size:"large",border:"rounded",style:{backgroundColor:o.background_color||"#00A650"}},o.label))};u.propTypes={typeSection:o.default.string,title:o.default.string,subtitle:o.default.object,price:o.default.shape({savings_text:o.default.string.isRequired,savings_text_color:o.default.string.isRequired}),price_discounts:o.default.arrayOf({label:o.default.string.isRequired,color:o.default.string.isRequired,background_color:o.default.string}),badge:o.default.shape({label:o.default.string,color:o.default.string,background_color:o.default.string}),pill:o.default.shape({label:o.default.string,color:o.default.string,background_color:o.default.string})};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card-featured/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=function(e){var t=e.title,n=e.subtitle,r=e.gradient_color,o=e.secondary_picture,l=e.picture,u={background:"linear-gradient(360deg, rgba(".concat(r,") 0%, rgba(1, 20, 123, 0.0001) 100%)")};return i.default.createElement("div",{className:"carousel-container"},i.default.createElement("figure",{className:"carousel__image"},i.default.createElement("div",{className:"carousel__image-gradient carousel__image-gradient-featured",style:r?u:{},"aria-hidden":"true"}),o&&i.default.createElement("div",{className:"carousel__image-secondary-picture"},i.default.createElement(s.default,o)),i.default.createElement(s.default,l)),(t||n)&&i.default.createElement("div",{className:"carousel-container-wordings"},t&&i.default.createElement("p",{className:"carousel-container-wordings-title"},(0,a.default)(t)),n&&i.default.createElement("p",{className:"carousel-container-wordings-subtitle"},(0,a.default)(n))))};l.propTypes={title:o.default.string,subtitle:o.default.string,gradient_color:o.default.string,secondary_picture:o.default.shape({alt:o.default.string,src:o.default.shape({"1x":o.default.string.isRequired,"2x":o.default.string.isRequired})}),picture:o.default.shape({alt:o.default.string,src:o.default.shape({"1x":o.default.string.isRequired,"2x":o.default.string.isRequired})})};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),u=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),c=["backgroundColor","logo"],d=function(e){var t=e.backgroundColor,n=e.logo,r=(0,i.default)(e,c),s={background:"linear-gradient(360deg, rgba(".concat(t,") 0%, rgba(1, 20, 123, 0.0001) 100%)")},d=r.title,p=r.subtitle;return o.default.createElement("div",{className:"carousel-container"},o.default.createElement("figure",{className:"carousel__image"},o.default.createElement("div",{className:"carousel__image-gradient",style:s,"aria-hidden":"true"}),o.default.createElement("div",{className:"carousel__image-logo"},(0,l.default)({id:n})),o.default.createElement(a.default,r)),(d||p)&&o.default.createElement("div",{className:"carousel-container-wordings"},d&&o.default.createElement("p",{className:"carousel-container-wordings-title"},(0,u.default)(d)),p&&o.default.createElement("p",{className:"carousel-container-wordings-subtitle"},(0,u.default)(p))))};d.propTypes={backgroundColor:s.default.string,logo:s.default.string,alt:s.default.string,mounted:s.default.bool,src:s.default.shape({"1x":s.default.string.isRequired,"2x":s.default.string.isRequired}),title:s.default.string,subtitle:s.default.string};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/carousel/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),l=r(n("./node_modules/prop-types/index.js")),u=r(n("./node_modules/ui-library_ml/ui/carousel.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card-featured/index.js")),p=n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/utils/index.js");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var h=function(e){var t,r,i=e.item,l=e.deviceType,f=(0,a.useState)({height:(null===(t=n.g.window)||void 0===t?void 0:t.innerHeight)||0,width:(null===(r=n.g.window)||void 0===r?void 0:r.innerWidth)||0}),h=(0,s.default)(f,2),m=h[0],g=h[1],v={Slide:null!=i&&i.is_featured?d.default:c.default,dots:!1,arrows:"desktop"===l,arrowsVisible:"desktop"===l,variableWidth:!1,infinite:!1,lazyLoad:!0,speed:500,slidesToShow:(0,p.findSlidesToShow)(l,m,i)||1,slidesToScroll:1};return a.default.useEffect((function(){var e=function(){var e,t;g({height:null===(e=n.g.window)||void 0===e?void 0:e.innerHeight,width:null===(t=n.g.window)||void 0===t?void 0:t.innerWidth})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[m]),a.default.createElement(u.default,(0,o.default)({},v,{slides:null!=i&&i.is_featured?null==i?void 0:i.slides:(0,p.extendProps)(null==i?void 0:i.pictures,i)}))};h.propTypes={deviceType:l.default.string.isRequired,item:l.default.shape({is_featured:l.default.bool,name:l.default.string,subtitle:l.default.string,pill:l.default.object,background_color:l.default.string,icon:l.default.string,pictures:l.default.arrayOf(l.default.shape({title:l.default.string,alt:l.default.string,src:l.default.shape({"1x":l.default.string.isRequired,"2x":l.default.string.isRequired})})),slides:l.default.arrayOf(l.default.shape({title:l.default.string,subtitle:l.default.string,gradient_color:l.default.string,icon:l.default.string,picture:l.default.shape({alt:l.default.string,src:l.default.shape({"1x":l.default.string.isRequired,"2x":l.default.string.isRequired})})}))})};var m=h;t.default=m},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/head-title/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/video/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/card-featured/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/carousel/index.js")),h=function(e){var t=e.items,n=e.deviceType,r=e.video,s=e.eventHandlers,h=e.track,m=o.default.useState(!1),g=(0,i.default)(m,2),v=g[0],y=g[1],_=r&&{autoplay:!0,controls:!0,responsive:!0,fluid:!0,sources:[{src:r.mp4,type:"video/mp4"},r.webm&&{src:r.webm||"",type:"video/webm"}],controlBar:{fullscreenToggle:!1,pictureInPictureToggle:!1},disablePictureInPicture:!0};return o.default.createElement("div",{className:"combo-sub"},"desktop"===n&&r&&o.default.createElement("div",{className:"combo-sub__video"},!v&&o.default.createElement("div",{className:"combo-sub__video__poster"},o.default.createElement(a.default,{src:{"1x":r.poster},alt:"poster-video",className:"combo-sub__video__poster-image"}),o.default.createElement("button",{"data-testid":"play-button",onClick:function(){y(!0),s&&s.trackVideoClickEvent&&s.trackVideoClickEvent({trackInfo:h})},className:"combo-sub__video__poster-button"},(0,l.default)({id:"play-button",className:"combo-sub__video__poster-icon"}))),v&&o.default.createElement(c.default,{options:_})),t&&t.map((function(e,t){return o.default.createElement("div",{className:"combo-sub__partner",key:e.is_featured?"featured":e.name},e.name&&!e.pill&&o.default.createElement("h1",{className:"combo-sub__partner-name"},e.name),e.subtitle&&o.default.createElement("h3",{className:"combo-sub__partner-subtitle"},e.subtitle),e.pill&&o.default.createElement(u.default,{title:e.name,pill:e.pill}),o.default.createElement("div",{className:"combo-sub__partner-carousel".concat(e.is_featured?" combo-sub__partner-carousel-is-featured":"")},function(e,t){var r,i;return(null==e||null===(r=e.pictures)||void 0===r?void 0:r.length)>1||(null==e||null===(i=e.slides)||void 0===i?void 0:i.length)>1?o.default.createElement(f.default,{item:e,index:t,deviceType:n}):null!=e&&e.is_featured?o.default.createElement(p.default,null==e?void 0:e.slides[0]):o.default.createElement(d.default,null==e?void 0:e.pictures[0])}(e,t)))})))};h.propTypes={items:s.default.arrayOf(s.default.shape({name:s.default.string,pill:s.default.object,background_color:s.default.string.isRequired,icon:s.default.string,pictures:s.default.arrayOf(s.default.shape({alt:s.default.string,src:s.default.shape({"1x":s.default.string.isRequired,"2x":s.default.string.isRequired}).isRequired}).isRequired).isRequired})).isRequired,deviceType:s.default.string.isRequired,video:s.default.shape({poster:s.default.string,mp4:s.default.string,webm:s.default.string})};var m=o.default.memo(h);t.default=m},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/utils/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.extendProps=function(e,t){return e.map((function(e){return s(s({},e),{},{backgroundColor:t.background_color,logo:t.icon})}))},t.findSlidesToShow=function(e,t,n){var r,i,o=a(null==t?void 0:t.width).slidesToShow,s=(null===(r=n.pictures)||void 0===r?void 0:r.length)||(null===(i=n.slides)||void 0===i?void 0:i.length);if("desktop"!==e&&s>=2)return 2;return o>s?s:o},t.getBreakPoint=a;var i=r(n("./node_modules/@babel/runtime/helpers/defineProperty.js"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return[{width:340,slidesToShow:2},{width:480,slidesToShow:3},{width:600,slidesToShow:4},{width:710,slidesToShow:5},{width:99999999,slidesToShow:6}].find((function(t){return e<t.width}))}},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/combo-sub/video/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VideoJS=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/video.js/dist/video.es.js")),s=function(e){var t=i.default.useRef(null),n=i.default.useRef(null),r=e.options,s=e.onReady;return i.default.useEffect((function(){if(!n.current){var e=t.current;if(!e)return;var i=n.current=(0,o.default)(e,r,(function(){s&&s(i)}))}}),[r,t]),i.default.useEffect((function(){var e=n.current;return function(){e&&(e.dispose(),n.current=null)}}),[n]),i.default.createElement("div",{"data-vjs-player":!0},i.default.createElement("link",{rel:"stylesheet",href:"https://vjs.zencdn.net/7.20.1/video-js.css"}),i.default.createElement("video",{ref:t,className:"video-js vjs-big-play-centered"}))};t.VideoJS=s;var a=s;t.default=a},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/disclaimers/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),a=function(e){var t=e.content;return i.default.createElement("div",{className:"disclaimers"},t.map((function(e,t){return i.default.createElement("div",{className:"disclaimers__item",key:t},(0,s.default)(e))})))};a.propTypes={content:(0,o.arrayOf)(o.string).isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/discount-list/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),l=function(e){var t=e.items;return i.default.createElement("div",{className:"discount-list"},t.map((function(e,t){return i.default.createElement("div",{className:"discount-list__row",key:t},e.icon&&i.default.createElement("div",{className:"discount-list__row__icon",style:{backgroundColor:e.background_color||"#A90F90"}},(0,a.default)({id:e.icon})),e.label&&i.default.createElement("p",{className:"discount-list__row__label"},(0,s.default)(e.label)))})))};l.propTypes={items:o.default.arrayOf(o.default.object).isRequired};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/head-title/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),a=n("./node_modules/@andes/badge/main.js"),l=function(e){var t=e.title,n=e.pill;return i.default.createElement("div",{className:"head-title"},i.default.createElement("div",{className:"head-title__title"},(0,s.default)(t)),n&&i.default.createElement("div",{className:"head-title__pill-container"},i.default.createElement(a.Pill,{className:"head-title__pill-container__content",size:"small",style:{backgroundColor:n.background_color}},i.default.createElement("div",{className:"head-title__pill-container__content-text",style:{color:n.color}},n.label))))};l.propTypes={title:o.default.string.isRequired,pill:o.default.shape({label:o.default.string.isRequired,color:o.default.string.isRequired,background_color:o.default.string.isRequired})};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-disney-day/countdown/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),a=r(n("./node_modules/prop-types/index.js"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var u=function(e,t){var n=t-e;return n<=0?{dd:0,hh:0,mm:0,ss:0}:{dd:Math.floor(n/864e5),hh:Math.floor(n%864e5/36e5),mm:Math.floor(n%36e5/6e4),ss:Math.floor(n%6e4/1e3)}},c=function(e){var t=e.text,n=e.limit_date,r=e.deviceType,i=(0,s.useState)(u(Date.now(),n)),a=(0,o.default)(i,2),l=a[0],c=a[1];return(0,s.useEffect)((function(){var e=setTimeout((function(){c(u(Date.now(),n))}),1e3);return function(){clearTimeout(e)}})),s.default.createElement("div",{className:"countdown"},s.default.createElement("p",{className:"countdown__text-bold"},l.dd),s.default.createElement("p",{className:"countdown__text"},1===l.dd?t.dd_singular:t.dd),s.default.createElement("p",{className:"countdown__text-dots"},":"),s.default.createElement("p",{className:"countdown__text-bold"},l.hh),s.default.createElement("p",{className:"countdown__text"},1===l.hh?t.hh_singular:t.hh),s.default.createElement("p",{className:"countdown__text-dots"},":"),s.default.createElement("p",{className:"countdown__text-bold"},l.mm),s.default.createElement("p",{className:"countdown__text"}," ",t.mm),"desktop"===r&&s.default.createElement(s.default.Fragment,null,s.default.createElement("p",{className:"countdown__text-dots"},":"),s.default.createElement("p",{className:"countdown__text-bold"},l.ss),s.default.createElement("p",{className:"countdown__text"}," ",t.ss)))};c.propTypes={text:a.default.shape({dd:a.default.string,hh:a.default.string,mm:a.default.string,ss:a.default.string,dd_singular:a.default.string,hh_singular:a.default.string}),limit_date:a.default.string.isRequired},c.defaultProps={text:{dd:"días",hh:"hs",mm:"min",ss:"seg"}};var d=c;t.default=d},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-disney-day/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=n("./node_modules/@andes/badge/main.js"),u=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),c=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-disney-day/countdown/index.js")),f=function(e){var t=e.background_color,n=e.title,r=e.subtitle,s=e.countdown,f=e.benefits,h=e.badge,m=e.deviceType,g=t.first_color,v=t.second_color,y={background:"linear-gradient(90deg, rgba(".concat(g,", 1) 0%, rgba(").concat(v,", 1) 100%)")};return o.default.createElement("header",{className:"header-combo-sub-disney-day"},o.default.createElement("div",{className:"header-combo-sub-disney-day__gradient",style:y,"aria-hidden":"true"}),"desktop"===m&&t.background_image&&o.default.createElement(u.default,(0,i.default)({},t.background_image,{style:{height:"100px"},className:"header-combo-sub-disney-day__background"})),o.default.createElement("div",{className:"header-combo-sub-disney-day__details"},n&&o.default.createElement("h4",{className:"header-combo-sub-disney-day__title"},(0,a.default)(n)),r&&o.default.createElement("h3",{className:"header-combo-sub-disney-day__subtitle"},(0,a.default)(r)),h&&o.default.createElement("div",{className:"header-combo-sub-disney-day__benefits"},o.default.createElement(l.Pill,{type:"generic",className:"header-combo-sub-disney-day__benefits__pill",size:"mobile"===m?"small":"large",style:{backgroundColor:h.background_color||"#FFF",color:h.color||"#661475"}},(0,c.default)({id:h.icon}),h.label),s&&o.default.createElement(p.default,(0,i.default)({},s,{deviceType:m}))),o.default.createElement(d.default,{deviceType:m,className:"header-combo-sub__card"},o.default.createElement("div",{className:"header-combo-sub__card-content"},f.map((function(e,t){return o.default.createElement("div",{className:"header-combo-sub__card-details",key:t},o.default.createElement("div",{className:"header-combo-sub__card-icon","aria-hidden":"true"},(0,c.default)({id:e.image})),o.default.createElement("div",{className:"header-combo-sub__card-description"},(0,a.default)(e.label)))}))))))};f.propTypes={pre_title:s.default.string,title:s.default.string,background_color:s.default.shape({first_color:s.default.string.isRequired,second_color:s.default.string.isRequired}),benefits:s.default.arrayOf(s.default.shape({label:s.default.string,image:s.default.string}))};var h=f;t.default=h},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/countdown/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),a=r(n("./node_modules/prop-types/index.js"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var u=function(e,t){var n=t-e;return n<=0?{dd:0,hh:0,mm:0,ss:0}:{dd:Math.floor(n/864e5),hh:Math.floor(n%864e5/36e5),mm:Math.floor(n%36e5/6e4),ss:Math.floor(n%6e4/1e3)}},c=function(e){var t=e.text,n=e.limit_date,r=e.deviceType,i=e.color,a=(0,s.useState)(u(Date.now(),n)),l=(0,o.default)(a,2),c=l[0],d=l[1],p="0";return(0,s.useEffect)((function(){var e=setTimeout((function(){d(u(Date.now(),n))}),1e3);return function(){clearTimeout(e)}})),s.default.createElement("div",{className:"countdown",style:{color:i||"#fff"}},s.default.createElement("div",{className:"countdown__box"},s.default.createElement("div",{className:"countdown__box__text-bold"},(p+c.dd).slice(-2)),s.default.createElement("div",{className:"countdown__box__text"},1===c.dd?t.dd_singular:t.dd)),s.default.createElement("div",{className:"countdown__box__text-dots"},":"),s.default.createElement("div",{className:"countdown__box"},s.default.createElement("div",{className:"countdown__box__text-bold"},(p+c.hh).slice(-2)),s.default.createElement("div",{className:"countdown__box__text"},1===c.hh?t.hh_singular:t.hh)),s.default.createElement("div",{className:"countdown__box__text-dots"},":"),s.default.createElement("div",{className:"countdown__box"},s.default.createElement("div",{className:"countdown__box__text-bold"},(p+c.mm).slice(-2)),s.default.createElement("div",{className:"countdown__box__text"}," ",1===c.mm?t.mm_singular:t.mm)),"desktop"===r&&s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"countdown__box__text-dots"},":"),s.default.createElement("div",{className:"countdown__box"},s.default.createElement("div",{className:"countdown__box__text-bold"},(p+c.ss).slice(-2)),s.default.createElement("div",{className:"countdown__box__text"}," ",1===c.ss?t.ss_singular:t.ss))))};c.propTypes={text:a.default.shape({dd:a.default.string,hh:a.default.string,mm:a.default.string,ss:a.default.string,dd_singular:a.default.string,hh_singular:a.default.string,mm_singular:a.default.string,ss_singular:a.default.string}),limit_date:a.default.string.isRequired,deviceType:a.default.string.isRequired},c.defaultProps={text:{dd:"días",hh:"hs",mm:"min",ss:"seg"}};var d=c;t.default=d},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=n("./node_modules/@andes/badge/main.js"),u=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),c=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/countdown/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/offer/index.js")),h=function(e){var t=e.background_color,n=e.title,r=e.countdown,s=e.benefits,h=e.badge,m=e.offer,g=e.transparent_badge,v=e.deviceType,y=t.first_color,_=t.second_color,b={background:"linear-gradient(90deg, rgba(".concat(y,", 1) 0%, rgba(").concat(_,", 1) 100%)")};return o.default.createElement("header",{className:"header-combo-sub-promo-disney"},o.default.createElement("div",{className:"header-combo-sub-promo-disney__gradient",style:b,"aria-hidden":"true"}),"desktop"===v&&t.background_image&&o.default.createElement(u.default,(0,i.default)({},t.background_image,{className:"header-combo-sub-promo-disney__background"})),o.default.createElement("div",{className:"header-combo-sub-promo-disney__details"},o.default.createElement("div",{className:"header-combo-sub-promo-disney__details__container"},n&&o.default.createElement("h4",{className:"header-combo-sub-promo-disney__details__container-title",style:{color:n.color}},(0,a.default)(n.label)),o.default.createElement("div",{className:"benefits"},h&&o.default.createElement(l.Pill,{type:"generic",className:"badge",size:"mobile"===v?"small":"large",style:{backgroundColor:h.background_color||"#FFF",color:h.color||"#661475"}},(0,c.default)({id:h.icon}),h.label),m&&o.default.createElement(f.default,m),g&&o.default.createElement("div",{className:"transparent-badge",style:{color:g.color}},o.default.createElement("style",null,".transparent-badge svg path {\n                    fill: ".concat(g.color," !important;\n                  }\n                ")),(0,c.default)({id:g.icon}),o.default.createElement("p",{className:"transparent-badge__text",style:{color:g.color}},g.label)),r&&o.default.createElement(p.default,(0,i.default)({},r,{deviceType:v})))),o.default.createElement(d.default,{deviceType:v,className:"header-combo-sub-promo-disney__card"},o.default.createElement("div",{className:"header-combo-sub-promo-disney__card-content"},s.map((function(e,t){return o.default.createElement("div",{className:"header-combo-sub-promo-disney__card-details",key:t},o.default.createElement("div",{className:"header-combo-sub-promo-disney__card-icon","aria-hidden":"true"},(0,c.default)({id:e.image})),o.default.createElement("div",{className:"header-combo-sub-promo-disney__card-description"},(0,a.default)(e.label)))}))))))};h.propTypes={pre_title:s.default.string,title:s.default.shape({label:s.default.string,color:s.default.string}),background_color:s.default.shape({first_color:s.default.string,second_color:s.default.string,background_image:s.default.shape({src:s.default.object,alt:s.default.string})}),benefits:s.default.arrayOf(s.default.shape({label:s.default.string,image:s.default.string})),badge:s.default.shape({background_color:s.default.string,label:s.default.string,color:s.default.string,icon:s.default.string}),offer:s.default.shape({color:s.default.string,text_before:s.default.shape({label:s.default.string}),price_before:s.default.shape({label:s.default.string}),price_after:s.default.shape({label:s.default.string})}),transparent_badge:s.default.shape({color:s.default.string,icon:s.default.string,label:s.default.string}),deviceType:s.default.string,countdown:s.default.object};var m=h;t.default=m},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/offer/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=function(e){var t=e.color,n=e.text_before,r=e.price_before,o=e.price_after;return i.default.createElement("div",{className:"offer"},i.default.createElement("p",{className:"offer__text-before",style:{color:t}},n.label),i.default.createElement("span",{className:"offer__price-before",style:{color:t}},r.label),i.default.createElement("p",{className:"offer__price-after",style:{color:t}},o.label))};s.propTypes={color:o.default.string,text_before:o.default.shape({label:o.default.string}),price_before:o.default.shape({label:o.default.string}),price_after:o.default.shape({label:o.default.string})};var a=s;t.default=a},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/classnames/index.js")),u=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/shared/offer-price/index.js")),p=function(e){var t=e.background_color,n=e.pre_title,r=e.title,s=e.content,p=e.benefits,f=e.deviceType,h=e.isSkeletonMock,m=t.first_color,g=t.second_color,v={background:"linear-gradient(90deg, rgba(".concat(m,", 1) 0%, rgba(").concat(g,", 1) 100%)")},y="header-combo-sub".concat(h?" header-combo-sub-mock":"");return o.default.createElement("header",{className:y},o.default.createElement("div",{className:"header-combo-sub__gradient",style:v,"aria-hidden":"true"}),o.default.createElement("div",{className:"header-combo-sub__details"},o.default.createElement("div",{className:(0,l.default)("header-combo-sub-offer",{"header-combo-sub-offer-centered":!s},{"header-combo-sub-offer-expanded":!(null!=s&&s.since||null!=s&&s.discount)})},o.default.createElement("div",{className:(0,l.default)("header-combo-sub-offer__title",{"header-combo-sub-offer__title-centered":!s})},n&&o.default.createElement("h4",{className:"header-combo-sub-offer__title-content"},(0,a.default)(n)),o.default.createElement("h3",{className:"header-combo-sub-offer__title-sub"},(0,a.default)(r))),s&&o.default.createElement(d.default,(0,i.default)({},s,{deviceType:f,separatorOff:"desktop"===f}))),o.default.createElement(c.default,{deviceType:f,className:"header-combo-sub__card"},o.default.createElement("div",{className:"header-combo-sub__card-content"},p.map((function(e,t){return o.default.createElement("div",{className:"header-combo-sub__card-details",key:t},o.default.createElement("div",{className:"header-combo-sub__card-icon","aria-hidden":"true"},(0,u.default)({id:e.image,color:"desktop"!==f?"#fff":null,width:"desktop"!==f&&"24px"})),o.default.createElement("div",{className:"header-combo-sub__card-description"},(0,a.default)(e.label)))}))))))};p.propTypes={deviceType:s.default.string,pre_title:s.default.string,title:s.default.string,background_color:s.default.shape({first_color:s.default.string.isRequired,second_color:s.default.string.isRequired}),content:s.default.shape({since:s.default.string,price:s.default.shape({total_price:s.default.string,cents:s.default.string,text_period:s.default.string,full_price:s.default.string}),discount:s.default.shape({background_color:s.default.string,label:s.default.string,color:s.default.string}),level:s.default.string}),benefits:s.default.arrayOf(s.default.shape({label:s.default.string,image:s.default.string}))};var f=p;t.default=f},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/items-thumbnails/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/prop-types/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),l=r(n("./node_modules/classnames/index.js")),u=function(e){var t=e.items;return o.default.createElement("div",{className:(0,l.default)("items-thumbnails",{items:t.length>1})},t.map((function(e,t){return o.default.createElement("div",{className:"items-thumbnails__item"},o.default.createElement(a.default,(0,i.default)({},e.picture,{key:t,className:"items-thumbnails__image"})),e.description&&o.default.createElement("span",{className:"items-thumbnails__description"},e.description))})))};u.propTypes={items:s.default.arrayOf(s.default.object).isRequired};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/blank-header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=function(){return i.default.createElement("div",{className:"blank-header"})};t.default=o},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/next-arrow.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=function(e){var t=e.onClick;return i.default.createElement("div",{onClick:t,"data-testid":"next-button",className:"next-button"})};s.propTypes={onClick:o.func.isRequired};var a=s;t.default=a},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/prev-arrow.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=function(e){var t=e.onClick;return i.default.createElement("div",{onClick:t,"data-testid":"prev-button",className:"prev-button"})};s.propTypes={onClick:o.func.isRequired};var a=s;t.default=a},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/slide.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=function(e){var t=e.picture;e.logo;return i.default.createElement("div",{className:"slide",style:{backgroundImage:"url('".concat(t.src["2x"]||t.src["1x"],"')")}})};s.propTypes={picture:(0,o.shape)({src:(0,o.shape)({"2x":o.string})}).isRequired,logo:(0,o.shape)({background_color:o.string}).isRequired};var a=s;t.default=a},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=n("./node_modules/prop-types/index.js"),a=r(n("./node_modules/ui-library_ml/ui/carousel.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/slide.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/prev-arrow.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/components/next-arrow.js")),d=function(e){var t=e.content,n=e.deviceType,r={Slide:l.default,dots:!0,infinite:!0,arrows:"desktop"===n,slidesToShow:1,variableWidth:!1,lazyLoad:!0,slidesToScroll:1,dotsClass:"dot-style",autoplay:!0,prevArrow:"desktop"===n&&o.default.createElement(u.default,null),nextArrow:"desktop"===n&&o.default.createElement(c.default,null),autoplaySpeed:2e3},s=t.reduce((function(e,t,n){return"\n      ".concat(e," .carousel-header .slick-slide:nth-child(").concat(n+2,") {\n        background-color: ").concat(t.picture.background_color,";\n      }")}),"");return o.default.createElement("div",{className:"carousel-header"},o.default.createElement("style",null,s),o.default.createElement(a.default,(0,i.default)({},r,{slides:t})))};d.defaultProps={deviceType:"mobile"},d.propTypes={content:(0,s.arrayOf)((0,s.shape)({picture:(0,s.shape)({src:(0,s.shape)({url:s.string,"1x":s.string,"2x":s.string})}),logo:(0,s.shape)({src:(0,s.shape)({url:s.string,"1x":s.string,"2x":s.string})})})).isRequired,deviceType:s.string};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/static-header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/shared/rating/index.js")),l=function(e){var t=e.picture,n=e.logo,r=e.rating,o=e.epigraph,l=e.isSkeletonMock,u="header".concat(l?" header-mock":"");return i.default.createElement("header",{className:u},i.default.createElement("figure",{className:"background",style:{backgroundColor:t.background_color}},i.default.createElement(s.default,t)),(null==n?void 0:n.src)&&i.default.createElement("div",{className:"header__logo"},i.default.createElement("picture",{className:"logo",style:{backgroundColor:n.background_color}},i.default.createElement(s.default,n))),o&&i.default.createElement("div",{className:"header__epigraph"},i.default.createElement("p",null,o)),r&&i.default.createElement("div",{className:"header__rating"},i.default.createElement(a.default,{rating:r})))};l.propTypes={picture:o.object.isRequired,logo:(0,o.shape)({background_color:o.string}).isRequired,rating:o.object,epigraph:o.string},l.defaultProps={logo:{background_color:"black"}};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/components/dummy-component/index.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/static-header/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/carousel-header/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/components/blank-header/index.js")),c=["id"],d={"partner-header":a.default,"partner-header-carousel":l.default,"blank-header":u.default},p=function(e){var t=e.id,n=(0,i.default)(e,c),r=d[t]||s.default;return o.default.createElement(r,n)};t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/annual-subscription/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=n("./node_modules/@andes/badge/main.js"),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/classnames/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/piano-item.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/tooltip/index.js")),p=function(e){var t=e.title,n=e.subtitle,r=e.price,o=e.level_discounts,p=e.tooltip,f=e.free_trial,h=e.deviceType,m=e.n_months;return i.default.createElement("div",{className:(0,l.default)("annual-subscription",{"annual-subscription--n-months":m})},f&&!m&&i.default.createElement(s.Pill,{className:"annual-subscription__free-trial",style:{backgroundColor:f.background_color||"#00A650",color:f.color}},f.label),i.default.createElement("h1",{className:(0,l.default)("annual-subscription-title",{"annual-subscription-title--n-months":m})},t),n&&m&&i.default.createElement("div",{className:"annual-subscription__container-subtitle--n-months"},(0,a.default)(n)),r&&(null==r?void 0:r.full_price)&&i.default.createElement("div",{className:"annual-subscription__full-price"},r.full_price),i.default.createElement("div",{className:(0,l.default)("annual-subscription__price",{"annual-subscription__price-only":r&&!r.full_price},{"annual-subscription__price--n-months":m})},i.default.createElement("div",{className:"annual-subscription__price-container"},r&&r.total_price&&i.default.createElement("span",{className:(0,l.default)("annual-subscription__price-container-total",{"annual-subscription__price-container-total--n-months":r&&!r.full_price})},(0,a.default)(r.total_price)),r&&r.cents&&i.default.createElement("span",{className:"annual-subscription__price-container-cents"},r.cents)),r&&i.default.createElement("span",{className:(0,l.default)("annual-subscription__price-period",{"annual-subscription__price-period--n-months":r&&!r.full_price})},r.text_period),r&&r.discount&&i.default.createElement("div",{className:"annual-subscription__price-discount"},r.discount)),r&&r.price_discounts&&i.default.createElement("div",{className:"annual-subscription__discounts"},r.price_discounts.map((function(e,t){return e.background_color?i.default.createElement(s.Pill,{className:(0,l.default)("annual-subscription__discounts-pill",{"annual-subscription__discounts-pill--n-months":m}),size:"small",style:{backgroundColor:"rgba(".concat(e.background_color,")")},key:t},i.default.createElement("span",{className:"annual-subscription__discounts-pill-text",style:{color:e.color}},e.label)):i.default.createElement("span",{className:"annual-subscription__discounts-text",style:{color:e.color}},e.label)}))),i.default.createElement("div",{className:(0,l.default)("annual-subscription__container",{"annual-subscription__container-free-trial":f})},o&&i.default.createElement(u.default,{deviceType:h,level:{},levelDiscounts:o,slide:c.default}),n&&!m&&i.default.createElement("div",{className:"annual-subscription__container-subtitle"},(0,a.default)(n))),p&&i.default.createElement(d.default,{label:p.label,background_color:p.background_color}))};p.propTypes={title:o.string.isRequired,subtitle:o.string,free_trial:(0,o.shape)({label:o.string,color:o.string,background_color:o.string}),price:(0,o.shape)({total_price:o.string.isRequired,cents:o.string,text_period:o.string.isRequired,full_price:o.string,discount:o.string,price_discounts:o.array}),level_discounts:(0,o.arrayOf)((0,o.shape)({discount:o.string,label:o.string,level_number:o.number})),tooltip:(0,o.shape)({label:o.string,background_color:o.string}),n_months:o.bool,deviceType:o.string};var f=p;t.default=f},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),a=r(n("./node_modules/prop-types/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/static-piano.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/carrousel-piano.js")),c=n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/utils.js");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=function(e){var t=e.level,n=e.levelDiscounts,r=e.slide,i=e.deviceType,a=(0,s.useState)(t.number),d=(0,o.default)(a,2),p=d[0],f=d[1];return(0,s.useEffect)((function(){f(t.number)}),[t]),s.default.createElement(s.default.Fragment,null,n.length>4&&("mobile"===i||"webview"===i)?s.default.createElement(u.default,(0,c.buildPianoProps)(p,t,n,f,r)):s.default.createElement(l.default,{level:t,levelDiscounts:(0,c.sortDiscountLevel)(n),customItem:r}))};p.propTypes={levelDiscounts:a.default.array.isRequired,deviceType:a.default.string.isRequired,level:a.default.object.isRequired};var f=p;t.default=f},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/piano-item.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item-base.js")),a=function(e){return i.default.createElement(s.default,e,i.default.createElement("p",{className:"pianoItem__price"},e.discount),i.default.createElement("p",{className:"pianoItem__period"},e.period))};a.propTypes={discount:o.default.string.isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/tooltip/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),s=n("./node_modules/prop-types/index.js"),a=function(e){var t=e.label,n=e.background_color;return i.default.createElement("div",{style:{backgroundColor:n},className:"tooltip-combo"},i.default.createElement("div",{className:"tooltip-combo__label"},(0,o.default)(t)))};a.propTypes={label:s.string.isRequired,background_color:s.string.isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/savings-details/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@andes/tooltip/main.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),u=function(e){var t=e.background_color,n=e.title,r=e.list,o=e.total_savings,u=e.deviceType,c=t&&{background:"linear-gradient(90deg, rgba(".concat(t.first_color,",1) 0%, rgba(").concat(t.second_color,",1) 100%)")},d="desktop"===u?"right":"top",p="desktop"===u?"hover":"click";return i.default.createElement(l.default,{className:"benefits-card",deviceType:u},i.default.createElement("div",{style:c,className:"savings-details"},i.default.createElement("div",{className:"savings-details__title"},n),i.default.createElement("div",{className:"savings-details__list"},r.map((function(e){return i.default.createElement("div",{className:"savings-details__list-item"},i.default.createElement("div",{className:"savings-details__list-item-detail"},e.detail),i.default.createElement("div",{className:"savings-details__list-item-amount"},e.amount))}))),i.default.createElement("div",{className:"savings-details-separator"}),i.default.createElement("div",{className:"savings-details__total"},i.default.createElement("div",{className:"savings-details__total-detail"},i.default.createElement("div",{className:"savings-details__total-detail-text"},o.text),o.tooltip&&i.default.createElement(s.default,{className:"savings-details__total-detail-tooltip",content:o.tooltip.content,side:d,type:o.tooltip.type,trigger:p},i.default.createElement("div",{className:"savings-details__total-detail-icon"},(0,a.default)({id:o.tooltip.icon,width:"13.08px",height:"13.12px"})))),i.default.createElement("div",{className:"savings-details__total-amount"},o.amount))))};u.propTypes={deviceType:o.string.isRequired,background_color:(0,o.shape)({first_color:o.string,second_color:o.string}),title:o.string.isRequired,list:(0,o.arrayOf)({detail:o.string,amount:o.string}).isRequired,total_savings:(0,o.shape)({text:o.string,tooltip:(0,o.shape)({icon:o.string,content:o.string,type:o.string}),amount:o.string}).isRequired};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-checkout/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/classnames/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),l=n("./node_modules/prop-types/index.js"),u=r(n("./node_modules/@andes/button/main.js")),c=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),p=function(e){var t=e.eventHandlers,n=e.title,r=e.payment_method,l=e.disclaimer,p=e.primary_action,f=e.tyc,h=e.siteId,m=e.uuid,g=e.partnerName,v=e.urlProps,y=e.classname,_=e.goToCheckout,b=e.paymentNumber,T=e.paymentMethod;return o.default.createElement(d.default,{className:(0,s.default)("subscription-checkout__container",y)},n&&o.default.createElement("h1",{className:"subscription-checkout__title"},n),r&&o.default.createElement("div",{className:(0,s.default)("subscription-checkout__payment-method",{"with-separator":p})},r.icon&&o.default.createElement(a.default,(0,i.default)({},r.icon,{className:"subscription-checkout__payment-logo"})),o.default.createElement("p",{className:"subscription-checkout__payment-info"},(0,c.default)(null==r?void 0:r.detail)),o.default.createElement(u.default,{onClick:function(){t.modifyPaymentMethod&&t.modifyPaymentMethod({partnerName:g,siteId:h,loginLink:v.loginLink,baseDomain:v.baseDomain})},"data-testid":"modify-payment-method",hierarchy:"transparent",size:"medium"},r.action.label)),p&&o.default.createElement("div",{className:(0,s.default)("subscription-checkout__cta",{"with-separator":r})},l&&o.default.createElement("div",{className:"subscription-checkout__disclaimer"},(0,c.default)(l)),o.default.createElement(u.default,{onClick:function(){t.subscribeSMSClickEvent&&p.plan_id&&_?t.subscribeSMSClickEvent({partnerName:g,planId:p.plan_id,siteId:h,uuid:m,paymentNumber:b,paymentMethod:T}):t.modifyPaymentMethod&&t.modifyPaymentMethod({partnerName:g,siteId:h,loginLink:v.loginLink,baseDomain:v.baseDomain})},"data-testid":"subscription-cta",fullWidth:!0},p.label)),f&&o.default.createElement("div",{className:"subscription-tyc__container"},o.default.createElement("p",{className:"subscription-tyc__text"},(0,c.default)(f))))};p.propTypes={eventHandlers:(0,l.shape)({subscribeSMSClickEvent:l.func,modifyPaymentMethod:l.func}),title:l.string,payment_method:(0,l.shape)({icon:(0,l.shape)({alt:l.string,title:l.string,src:(0,l.shape)({"1x":l.string,"2x":l.string})})}),disclaimer:l.string,primary_action:(0,l.shape)({label:l.string}),tyc:l.string,siteId:l.string,uuid:l.string,partnerName:l.string,goToCheckout:l.bool,classname:l.string,urlProps:(0,l.shape)({loginLink:l.string,baseDomain:l.string}),paymentMethod:l.string,paymentNumber:l.string};var f=p;t.default=f},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-payment-tooltip/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@andes/message/main.js")),a=function(e){var t=e.body,n=e.notificationType;return i.default.createElement("div",{className:"subscription-payment__tooltip"},i.default.createElement(s.default,{hierarchy:"quiet",type:n},i.default.createElement("div",null,t)))};a.propTypes={body:o.string.isRequired,notificationType:o.string},a.defaultProps={notificationType:"neutral"};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-summary/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/classnames/index.js")),s=n("./node_modules/prop-types/index.js"),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),u=function(e){var t,n,r=e.title,s=e.details,u=e.final_price,c=e.benefit_completion_message,d=e.text_footer,p=e.className;return i.default.createElement(l.default,{className:(0,o.default)("subscription-summary__container",p)},r&&i.default.createElement("h1",{className:"subscription-summary__title"},r),i.default.createElement("div",{className:"subscription-summary__table"},s.map((function(e){var t,n;return i.default.createElement("div",{className:"subscription-summary__row"},i.default.createElement("p",{className:"subscription-summary__description",style:{color:e.color}},(0,a.default)(e.body)),(null==e?void 0:e.value)&&i.default.createElement("p",{className:"subscription-summary__price",style:{color:e.color}},(null==e||null===(t=e.value)||void 0===t?void 0:t.total_price)&&(0,a.default)(e.value.total_price),(null==e||null===(n=e.value)||void 0===n?void 0:n.cents)&&i.default.createElement("span",{className:"subscription-summary__cents"},(0,a.default)(e.value.cents))))})),i.default.createElement("div",{className:"subscription-summary__total"},i.default.createElement("p",{className:"subscription-summary__description"},(0,a.default)(u.body)),(null==u?void 0:u.value)&&i.default.createElement("p",{className:"subscription-summary__price"},(null==u||null===(t=u.value)||void 0===t?void 0:t.total_price)&&(0,a.default)(u.value.total_price),(null==u||null===(n=u.value)||void 0===n?void 0:n.cents)&&i.default.createElement("span",{className:"subscription-summary__cents"},(0,a.default)(u.value.cents)))),c&&i.default.createElement("p",{className:"subscription-summary__since"},(0,a.default)(c)),d&&i.default.createElement("p",{className:"subscription-summary__text-footer"},(0,a.default)(d))))};u.propTypes={title:s.string,details:(0,s.arrayOf)((0,s.shape)({body:s.string,color:s.string,value:s.string})).isRequired,final_price:(0,s.shape)({body:s.string,color:s.string,value:s.string}).isRequired,benefit_completion_message:s.string,className:s.string};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-underage-modal/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/@andes/button/main.js")),u=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),c=r(n("./node_modules/@andes/modal/main.js")),d=function(e){var t=e.title,n=e.subtitle,r=e.action,o=e.logo,d=e.handleClose;return i.default.createElement(c.default,{isOpen:!0,isVisible:!0,handleClose:d},i.default.createElement("div",{className:"subscription-underage"},i.default.createElement("div",{className:"subscription-underage__modal"},i.default.createElement(s.default,{className:"subscription-underage__modal__card",withoutShadow:!0},i.default.createElement("div",{className:"subscription-underage__modal__card__proposal"},i.default.createElement(u.default,{src:o.src,title:o.alt,className:"subscription-underage__modal__card__proposal__logo"}),t&&i.default.createElement("h2",{className:"subscription-underage__modal__card__proposal__title"},t),n&&i.default.createElement("span",{className:"subscription-underage__modal__card__proposal__subtitle"},(0,a.default)(n))),r&&i.default.createElement(l.default,{id:r.id,href:r.url},r.label)))))};d.propTypes={subtitle:o.string,title:o.string,action:(0,o.shape)({label:o.string,url:o.string})},d.defaultProps={handleClose:null};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/header-promo-ft/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),a=r(n("./node_modules/react/index.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/prop-types/index.js")),u=r(n("./node_modules/classnames/index.js")),c=n("./node_modules/@andes/badge/main.js"),d=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),p=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),f=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/shared/subscription-cta/index.js")),m=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/countdown/index.js")),g=["title","content","cta","eventHandlers","partnerName","siteId","userId","track","deviceType"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(e){e.title;var t,n,r,i,l,v,y,_,b,T,E=e.content,w=e.cta,j=e.eventHandlers,S=e.partnerName,k=e.siteId,x=e.userId,C=e.track,P=e.deviceType,O=(0,s.default)(e,g);return a.default.createElement("header",{className:"header-combo-sub-promo-ft"},a.default.createElement(p.default,(0,o.default)({},E.picture,{className:"header-combo-sub-promo-ft__background"})),a.default.createElement("div",{className:(0,u.default)("header-combo-sub-promo-ft__details",{"header-combo-sub-promo-ft__details-with-countdown":E.countdown},{"header-combo-sub-promo-ft__details-n-months":E.n_months})},E.title&&a.default.createElement("div",{className:"title"},a.default.createElement("h3",{className:(0,u.default)("title__text",{"title__text--n-months":E.n_months})},(0,d.default)(E.title)),E.badge&&a.default.createElement(c.Pill,{className:"title__pill",size:"small",style:{backgroundColor:E.badge.background_color||"#00A650"}},a.default.createElement("span",{style:{color:E.badge.color},className:"title__pill-text"},E.badge.label))),E.offer&&a.default.createElement("div",{className:"offer"},((null===(t=E.offer)||void 0===t||null===(n=t.text_before)||void 0===n?void 0:n.label)||(null===(r=E.offer)||void 0===r||null===(i=r.price_before)||void 0===i?void 0:i.label))&&a.default.createElement("div",{className:(0,u.default)("offer__before",{"offer__before-row":E.offer.text_before.label.length<10})},a.default.createElement("div",{className:(0,u.default)("offer__before-text",{"offer__before-text--n-months":E.n_months})},E.offer.text_before.label,(null===(l=E.offer)||void 0===l||null===(v=l.price_before)||void 0===v?void 0:v.label)&&a.default.createElement("span",{className:(0,u.default)("offer__before-price",{"offer__before-price-row":E.offer.text_before.label.length<10},{"offer__before-price--n-months":E.n_months})},E.offer.price_before.label))),a.default.createElement("div",{className:(0,u.default)("offer__after",{"offer__after--n-months":E.n_months})},(null===(y=E.offer)||void 0===y||null===(_=y.price_after)||void 0===_?void 0:_.label)&&a.default.createElement("span",{className:(0,u.default)("offer__after-price",{"offer__after-price--n-months":E.n_months})},E.offer.price_after.label),(null===(b=E.offer)||void 0===b||null===(T=b.period_after)||void 0===T?void 0:T.label)&&a.default.createElement("span",{className:(0,u.default)("offer__after-period",{"offer__after-period--n-months":E.n_months})},E.offer.period_after.label)),E.badge_free_trial&&a.default.createElement(c.Pill,{className:(0,u.default)("offer__free-trial",{"offer__free-trial--n-months":E.n_months}),size:"small",style:{backgroundColor:E.badge_free_trial.background_color||"#00A650"}},a.default.createElement("span",{style:{color:E.badge_free_trial.color},className:(0,u.default)("offer__free-trial-text",{"offer__free-trial-text--n-months":E.n_months})},E.badge_free_trial.label))),(E.countdown||E.transparent_badge)&&a.default.createElement("div",{className:"header-combo-sub-promo-ft__counter"},E.transparent_badge&&a.default.createElement("div",{className:"header-combo-sub-promo-ft__counter-title"},(0,f.default)({id:E.transparent_badge.icon}),a.default.createElement("p",{className:"header-combo-sub-promo-ft__counter-title-text"},E.transparent_badge.label)),a.default.createElement(m.default,(0,o.default)({},E.countdown,{deviceType:P}))),w&&a.default.createElement("div",{className:(0,u.default)("header-combo-sub-promo-ft__cta",{"header-combo-sub-promo-ft__cta-with-secondary":w.secondary_action})},a.default.createElement(h.default,(0,o.default)({},w,{eventHandlers:j,partnerName:S,track:C,siteId:k,userId:x},O)))))};y.propTypes={title:l.default.string,content:l.default.shape({title:l.default.string.isRequired,n_months:l.default.bool,offer:l.default.shape({text_before:l.default.shape({label:l.default.string}),price_before:l.default.shape({label:l.default.string}),price_after:(0,l.shape)({label:l.default.string}),period_after:(0,l.shape)({label:l.default.string})}),picture:l.default.shape({alt:l.default.string,src:(0,l.shape)({"1x":l.default.string,"2x":l.default.string})}),badge_free_trial:l.default.shape({background_color:l.default.string,label:l.default.string,color:l.default.string}),transparent_badge:l.default.shape({icon:l.default.string,label:l.default.string,color:l.default.string}),badge:l.default.shape({background_color:l.default.string,label:l.default.string,color:l.default.string}),countdown:l.default.object}).isRequired,cta:l.default.object};var _=y;t.default=_},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/header-v2/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=r(n("./node_modules/react/index.js")),a=r(n("./node_modules/prop-types/index.js")),l=n("./node_modules/@andes/badge/main.js"),u=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),c=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),d=r(n("./node_modules/classnames/index.js")),p=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),f=r(n("./node_modules/@loyalty/shared/lib/components/icons/wave.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/shared/subscription-cta/index.js")),m=["title","benefits","content","cta","prices","eventHandlers","partnerName","siteId","userId","track","deviceType"],g=function(e){var t,n,r,a,g=e.title,v=e.benefits,y=e.content,_=e.cta,b=(e.prices,e.eventHandlers),T=e.partnerName,E=e.siteId,w=e.userId,j=e.track,S=(e.deviceType,(0,o.default)(e,m));return s.default.createElement("header",{className:"header-combo-sub-v2"},s.default.createElement(c.default,(0,i.default)({},y.picture,{className:"header-combo-sub-v2__background"})),s.default.createElement("div",{className:(0,d.default)("header-combo-sub-v2__details",{"header-combo-sub-v2__details-free-trial":y.free_trial})},y.free_trial&&s.default.createElement("div",{style:{color:y.free_trial.color},className:"header-combo-sub-v2__free-trial"},y.free_trial.label),g&&s.default.createElement("h4",{className:"header-combo-sub-v2__pre-title"},g),y.title&&s.default.createElement("h3",{className:"header-combo-sub-v2__title"},(0,u.default)(y.title)),v&&s.default.createElement("div",{className:(0,d.default)("header-combo-sub-v2__benefits",{"header-combo-sub-v2__benefits-with-margin":_.secondary_action})},v.map((function(e,t){return s.default.createElement("div",{className:"header-combo-sub-v2__benefits__row",key:t},e.image&&s.default.createElement("div",{className:"header-combo-sub-v2__benefits__row-icon"},s.default.createElement("div",{className:"header-combo-sub-v2__benefits__row-icon-image"},(0,p.default)({id:e.image}))),e.label&&s.default.createElement("p",{className:"header-combo-sub-v2__benefits__row-label"},(0,u.default)(e.label)))}))),y.offer_price&&s.default.createElement("div",{className:"offer_price"},s.default.createElement("div",{className:(0,d.default)("offer_price-separator",{"offer_price-separator-extended":y.offer_price.since,"offer_price-separator-reduced":!y.offer_price.since&&!y.offer_price.discount})}),s.default.createElement("div",{className:"offer_price-proposal"},s.default.createElement("div",{className:"offer_price-proposal-value"},y.offer_price.since&&s.default.createElement("div",{className:"offer_price-proposal-value__since"},y.offer_price.since),(null===(t=y.offer_price.price)||void 0===t?void 0:t.full_price)&&s.default.createElement("div",{className:"offer_price-proposal-value__full-price"},y.offer_price.price.full_price),s.default.createElement("div",{className:"offer_price-proposal-value__price"},s.default.createElement("div",{className:"offer_price-proposal-value__price-total"},y.offer_price.price.total_price),(null===(n=y.offer_price.price)||void 0===n?void 0:n.cents)&&s.default.createElement("div",{className:"offer_price-proposal-value__price-cents"},y.offer_price.price.cents),(null===(r=y.offer_price.price)||void 0===r?void 0:r.text_period)&&s.default.createElement("div",{className:"offer_price-proposal-value__price-period"},y.offer_price.price.text_period))),y.offer_price.level&&s.default.createElement("div",{className:"offer_price-proposal__level"},y.offer_price.level),(null===(a=y.offer_price.discount)||void 0===a?void 0:a.label)&&s.default.createElement(l.Pill,{className:"offer_price-proposal__discount",size:"small",style:{backgroundColor:y.offer_price.discount.background_color||"#00A650",color:y.offer_price.discount.color}},y.offer_price.discount.label))),_&&s.default.createElement("div",{className:(0,d.default)("header-combo-sub-v2__cta",{"header-combo-sub-v2__cta-with-secondary":_.secondary_action})},s.default.createElement(h.default,(0,i.default)({},_,{eventHandlers:b,partnerName:T,track:j,siteId:E,userId:w},S)))),s.default.createElement(f.default,{className:"header-combo-sub-v2__wave"}))};g.propTypes={title:a.default.string,background_color:a.default.shape({first_color:a.default.string.isRequired,second_color:a.default.string.isRequired}),benefits:a.default.arrayOf(a.default.shape({label:a.default.string,image:a.default.string})),content:a.default.shape({title:a.default.string.isRequired,offer_price:a.default.object,picture:a.default.object.isRequired,free_trial:{label:a.default.string,color:a.default.string}}).isRequired,cta:a.default.object};var v=g;t.default=v},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/hero-cta/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=r(n("./node_modules/react/index.js")),a=n("./node_modules/prop-types/index.js"),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/info.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/shared/subscription-cta/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/annual-subscription/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/shared/tooltip-info/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/index.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/piano-item.js")),m=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/tooltip/index.js")),g=["prices","subscription_info","subscription_cta","tooltip","eventHandlers","partnerName","siteId","userId","track","deviceType"],v=function(e){var t=e.prices,n=e.subscription_info,r=e.subscription_cta,a=e.tooltip,v=e.eventHandlers,y=e.partnerName,_=e.siteId,b=e.userId,T=e.track,E=e.deviceType,w=(0,o.default)(e,g),j=t?"extended":"reduced";return s.default.createElement(c.default,{deviceType:E,className:"".concat("hero-cta")},s.default.createElement("div",{className:j},t&&s.default.createElement("div",{className:"level-discounts"},t.title&&s.default.createElement("h3",{className:"level-discounts__title"},t.title),t.level_discounts&&s.default.createElement(f.default,{deviceType:"desktop",level:{},levelDiscounts:t.level_discounts,slide:h.default}),t.tooltip&&s.default.createElement(m.default,{label:t.tooltip.label,background_color:t.tooltip.background_color})),n&&s.default.createElement(d.default,n),a&&s.default.createElement(p.default,{text:a.content.label,IconCustom:l.default}),s.default.createElement(u.default,(0,i.default)({},r,{eventHandlers:v,partnerName:y,track:T,siteId:_,userId:b},w))))};v.propTypes={prices:(0,a.shape)({title:a.string,level_discounts:(0,a.shape)({}),tooltip:(0,a.shape)({label:a.string,background_color:a.string})}),subscription_info:(0,a.shape)({title:a.string.isRequired,sub_title:a.string.isRequired,price:(0,a.shape)({total_price:a.string,cents:a.string,text_period:a.string}).isRequired}),subscription_cta:(0,a.shape)(),tooltip:(0,a.shape)({content:(0,a.shape)({label:a.string})})};var y=v;t.default=y},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/payment-methods/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/classnames/index.js")),a=n("./node_modules/@andes/badge/main.js"),l=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/payment-methods/piano/piano-item.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/shared/ways-to-pay/index.js")),f=function(e){var t,n,r,o=e.level,f=e.n_months,h=e.header,m=e.content,g=e.deviceType,v=e.type;return i.default.createElement(u.default,{className:"benefits-card__without-shadows",deviceType:g},i.default.createElement("div",{className:"payment-methods-v2"},i.default.createElement("div",{className:"payment-methods-v2__separator"}),i.default.createElement("div",{className:(0,s.default)("payment-methods-v2__header",{"payment-methods-v2__header--n-months":f})},h.free_trial&&!f&&i.default.createElement(a.Pill,{className:"payment-methods-v2__header-free-trial",style:{backgroundColor:h.free_trial.background_color||"#00A650",color:h.free_trial.color},size:"large"},h.free_trial.label),h&&h.title&&i.default.createElement("div",{className:(0,s.default)("payment-methods-v2__header-title",{"payment-methods-v2__header-title--n-months":f})},(0,l.default)(h.title)),h&&h.price&&!(null!=h&&h.level_discounts)&&i.default.createElement("div",{className:"price"},h&&h.subtitle&&f&&i.default.createElement("div",{className:"payment-methods-v2__header-subtitle--n-months"},(0,l.default)(h.subtitle)),i.default.createElement("div",{className:"price-proposal"},i.default.createElement("div",{className:"price-proposal-value"},(null===(t=h.price)||void 0===t?void 0:t.full_price)&&i.default.createElement("div",{className:"price-proposal-value__full-price"},h.price.full_price),i.default.createElement("div",{className:"price-proposal-value__price"},i.default.createElement("div",{className:(0,s.default)("price-proposal-value__price-total",{"price-proposal-value__price-total--n-months":f})},h.price.total_price),(null===(n=h.price)||void 0===n?void 0:n.cents)&&i.default.createElement("div",{className:"price-proposal-value__price-cents"},h.price.cents),(null===(r=h.price)||void 0===r?void 0:r.text_period)&&i.default.createElement("div",{className:(0,s.default)("price-proposal-value__price-period",{"price-proposal-value__price-period--n-months":f})},h.price.text_period))),h.price.price_discounts&&h.price.price_discounts[0]&&i.default.createElement(a.Pill,{className:(0,s.default)("price-proposal__discount",{"price-proposal__discount--n-months":f}),size:"large",style:{backgroundColor:"rgba(".concat(h.price.price_discounts[0].background_color,")")||0,color:h.price.price_discounts[0].color}},h.price.price_discounts[0].label))),i.default.createElement("div",{className:(0,s.default)("payment-methods-v2__header-container",{"payment-methods-v2__header-container-reverse":h.free_trial})},h&&h.level_discounts&&!(null!=o&&o.number)&&i.default.createElement(c.default,{deviceType:g,level:{},levelDiscounts:h.level_discounts,slide:d.default}),h&&h.subtitle&&!f&&i.default.createElement("div",{className:"payment-methods-v2__header-container-subtitle"},(0,l.default)(h.subtitle)))),i.default.createElement(p.default,{content:m,deviceType:g,type:v,n_months:f})))};f.propTypes={level:(0,o.shape)({number:o.number,primary_color:o.string,secondary_color:o.string}),deviceType:o.string.isRequired,n_months:o.bool,header:(0,o.shape)({free_trial:{label:o.string,color:o.string,background_color:o.string},title:o.string,subtitle:o.string,price:(0,o.shape)({total_price:o.string,cents:o.string,text_period:o.string,price_discounts:o.array}),level_discounts:(0,o.arrayOf)((0,o.shape)({discount:o.string,label:o.string,level_number:o.number}))}).isRequired,content:(0,o.shape)({title_content:o.string,items:(0,o.arrayOf)((0,o.shape)({icon:(0,o.shape)({id:o.string,height:o.string,width:o.string}),title:(0,o.shape)({label:o.string})}))}).isRequired,type:o.string.isRequired};var h=f;t.default=h},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/sticky/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/react-stickynode/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/components/icons/info.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/shared/tooltip-info/index.js")),u=function(e){var t=e.tooltip;return i.default.createElement(s.default,{innerZ:"2",activeClass:"sticky-desktop--active-sticky",innerClass:"sticky-desktop"},i.default.createElement(l.default,{text:t.label,IconCustom:a.default}))};u.propTypes={tooltip:(0,o.shape)({label:o.string.isRequired}).isRequired};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/free-trial-data.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),s=function(e){return i.default.createElement("div",{className:"freetrial-data"},i.default.createElement("h2",{style:{fontSize:e.font_size||"32px",lineHeight:e.line_height||"1.13"}},e.title),e.subtitle?i.default.createElement("h3",null,(0,o.default)(e.subtitle)):i.default.createElement("h3",null,(0,o.default)(e.price.previous_text),e.price.original_price&&i.default.createElement(i.default.Fragment,null,(0,o.default)(e.price.original_price.total_price),e.price.original_price.cents&&i.default.createElement("span",{className:"freetrial-cents"},(0,o.default)(e.price.original_price.cents)),i.default.createElement("span",{className:"freetrial-period"},(0,o.default)(e.price.original_price.text_period))),e.price.final_price&&i.default.createElement(i.default.Fragment,null,e.price.final_price.total_price,e.price.final_price.cents&&i.default.createElement("span",{className:"freetrial-cents"},e.price.final_price.cents),i.default.createElement("span",{className:"freetrial-period-final"},e.price.final_price.text_period),(0,o.default)(e.price.following_text))))};t.default=s},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),l=r(n("./node_modules/classnames/index.js")),u=r(n("./node_modules/@andes/button/main.js")),c=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),d=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),p=r(n("./node_modules/@andes/snackbar/main.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/subscription-data.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),m=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/free-trial-data.js")),g=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/index.js")),v=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-underage-modal/index.js")),y=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-summary/index.js"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var b=function(e){var t=e.eventHandlers,n=e.track,r=e.label,i=e.primary_action,_=e.secondary_action,b=e.partnerName,T=e.action,E=e.siteId,w=e.nativeApp,j=e.tooltip,S=e.title,k=e.subtitle,x=e.freetrial,C=e.discounts,P=e.subscription,O=e.detail_pay,I=e.level,A=e.disclaimer,N=e.snackbar,L=e.under_age,D=e.urlProps,R=(e.classname,(0,a.useState)(!1)),M=(0,s.default)(R,2),U=M[0],B=M[1],F=(0,a.useState)(!1),H=(0,s.default)(F,2),q=H[0],V=H[1],W=(0,a.useState)(!1),z=(0,s.default)(W,2),G=z[0],K=z[1],X=function(){B(!0)},Y=function(){V(!q)};return a.default.createElement(h.default,null,j&&j.message&&a.default.createElement("div",{className:"disabled-action-disclaimer",onClick:function(e){w||"A"!==e.target.tagName||(e.preventDefault(),window.open(e.target.href,"_blank"))}},a.default.createElement("div",{className:"disabled-action-icon-container"},(0,d.default)({id:"icon-info"})),(0,c.default)(j.message)),a.default.createElement("div",{className:"subscription-plan ".concat(j?"with-tooltip":"")},a.default.createElement("div",{className:(0,l.default)("plan-container",{"only-title":!(k||x||P||C)})},a.default.createElement("h1",null,S),k&&a.default.createElement("h2",null,k),x&&a.default.createElement(m.default,x),P&&a.default.createElement(f.default,P),C&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"suscription-plan-hr"}),a.default.createElement("div",{className:"suscription-discounts-by-level"},a.default.createElement("h2",null,C.title),a.default.createElement(g.default,{levelDiscounts:C.level_discounts,level:I}))),O&&a.default.createElement(y.default,(0,o.default)({},O,{className:"subscription-summary--large"}))),a.default.createElement("div",{className:"cta-container".concat(O?" with-detail-pay":"")},i&&a.default.createElement(u.default,{"data-e2e":"cta-primary",disabled:q,className:"subscription-cta","data-testid":"subscription-cta",onClick:function(){L?K(!0):t&&(t.trackCTAClickEvent&&t.trackCTAClickEvent({trackInfo:n,CTALabel:i.label}),!i.target&&t.subscribeClickEvent&&(Y(),t.subscribeClickEvent({partnerName:b,planId:T.plan_id,siteId:E},X).then((function(){Y()}))),t.modifyPaymentMethod&&t.modifyPaymentMethod({partnerName:b,siteId:E,loginLink:D.loginLink,baseDomain:D.baseDomain}))},href:!L&&i.target,target:"_blank",rel:"noopener noreferrer"},i.label),_&&a.default.createElement(u.default,{"data-e2e":"cta-secondary","data-testid":"cta-secondary",hierarchy:"quiet",onClick:function(){t&&t.trackSecondaryCTAClickEvent&&t.trackSecondaryCTAClickEvent({trackInfo:n,CTALabel:r})},href:_.target},_.label),A&&a.default.createElement("div",{className:"subscription-disclaimer","data-testid":"subscription-disclaimer",onClick:function(){t&&t.trackTycClickEvent&&t.trackTycClickEvent({trackInfo:n})}},(0,c.default)(A)))),a.default.createElement(p.default,{show:U,message:N&&N.message||""}),G&&a.default.createElement(v.default,L))};t.default=b},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/subscription-data.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/classnames/index.js")),s=function(e){var t=e.price;return t?i.default.createElement("div",{className:"subscription-data"},i.default.createElement("div",{className:"discount"},t.original_price&&i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{className:(0,o.default)("subscription-base-price",t.discount?"with-discount":"")},t.original_price.total_price),t.original_price.cents&&i.default.createElement("span",{className:(0,o.default)("subscription-price-cents",t.discount?"with-discount":"")},t.original_price.cents),i.default.createElement("span",{className:"subscription-price-period"},t.original_price.text_period)),i.default.createElement("span",{className:"subscription-discount"},t.discount)),t.final_price&&i.default.createElement("div",{className:"subscription-final-price"},t.previous_text+" "+t.final_price.total_price,t.final_price.cents&&i.default.createElement("span",{className:"subscription-final-price-cents"},t.final_price.cents),i.default.createElement("span",{className:"subscription-final-price-period"},t.final_price.text_period))):i.default.createElement("div",{className:"subscription-data"},i.default.createElement("div",{className:"discount"},i.default.createElement("span",{className:(0,o.default)("subscription-base-price",e.discount?"with-discount":"")},e.base_price),i.default.createElement("span",{className:"subscription-discount"},e.discount)),i.default.createElement("div",{className:"subscription-final-price"},e.final_price))};t.default=s},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/suscription-google-restrictions/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),l=n("./node_modules/prop-types/index.js"),u=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-checkout/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-payment-tooltip/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/subscription-summary/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/subscription-plan/index.js"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=function(e){var t,n,r=e.eventHandlers,i=e.components,l=e.uuid,h=e.urlProps,m=e.partnerName,g=e.siteId,v=(0,a.useState)((function(){return e={},i&&i.forEach((function(t){t.content&&t.content.forEach((function(e){var t;null!==(t=e.plan)&&void 0!==t&&t.label&&(e.description_promo=e.plan.label,delete e.plan.label)})),e[t.type]=t})),e;var e})),y=(0,s.default)(v,1)[0];return a.default.createElement("div",{className:"subscription-google-restrictions"},y["subscription-payment-method"]?a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,y["subscription-plan"]),y["subscription-payment-tooltip"]&&a.default.createElement(d.default,y["subscription-payment-tooltip"]),a.default.createElement("div",{className:"subscription-google-restrictions__container"},a.default.createElement("div",{className:"subscription-google-restrictions__left-column"},a.default.createElement(p.default,y["subscription-detail-pay"])),a.default.createElement("div",{className:"subscription-google-restrictions__right-column"},a.default.createElement(c.default,(0,o.default)({eventHandlers:r},y["subscription-payment-method"],y["subscription-checkout"],{paymentNumber:null===(t=y["subscription-payment-method"].payment_method)||void 0===t?void 0:t.card_id,paymentMethod:null===(n=y["subscription-payment-method"].payment_method)||void 0===n?void 0:n.payment_method,primary_action:y["subscription-checkout"].action,uuid:l,urlProps:h,partnerName:m,siteId:g,goToCheckout:!0})))),a.default.createElement("div",{className:"subscription-tyc__container"},a.default.createElement("p",{className:"subscription-tyc__text"},(0,u.default)(y["subscription-terms-conditions"].body)))):a.default.createElement(f.default,(0,o.default)({},y["subscription-plan"],{detail_pay:y["subscription-detail-pay"],primary_action:y["subscription-checkout"].action,disclaimer:y["subscription-terms-conditions"].body,eventHandlers:r,uuid:l,urlProps:h,partnerName:m,siteId:g})))};m.propTypes={eventHandlers:(0,l.shape)({subscribeSMSClickEvent:l.func,modifyPaymentMethod:l.func}),components:(0,l.arrayOf)((0,l.shape)({type:l.string.isRequired}).isRequired).isRequired,uuid:l.string,urlProps:(0,l.shape)({loginLink:l.string,baseDomain:l.string}),partnerName:l.string,siteId:l.string};var g=m;t.default=g},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/ways-to-pay/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/card-base/index.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/shared/ways-to-pay/index.js")),l=function(e){var t=e.content,n=e.deviceType;return i.default.createElement(s.default,{deviceType:n,className:"benefits-card"},i.default.createElement(a.default,{content:t,deviceType:n}))};l.propTypes={deviceType:o.string.isRequired,content:(0,o.shape)({title_content:o.string,items:(0,o.arrayOf)((0,o.shape)({icon:(0,o.shape)({id:o.string,height:o.string,width:o.string}),title:(0,o.shape)({label:o.string})}))}).isRequired};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/builder.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-disney-day/index.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/header-promo-disney/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/header-promo-ft/index.js")),d=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/partner-header/index.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/shared/subscription-cta/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/benefits-category/desktop.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/hero-cta/index.js")),m=r(n("./node_modules/@loyalty/components-partners/lib/shared/right-reserved/index.js")),g=r(n("./node_modules/@loyalty/components-partners/lib/shared/faq-accordion/index.js")),v=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/header-v2/index.js")),y=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/sticky/index.js")),_=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/ways-to-pay/index.js")),b=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/payment-methods/index.js")),T=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/components/suscription-google-restrictions/index.js")),E={"header-combo-sub":a.default,"header-combo-sub-v1":a.default,"header-combo-sub-v2":v.default,"header-combo-sub-v2-promo-l6":c.default,"header-combo-sub-disney-day":l.default,"header-combo-sub-promo-disney":u.default,"hero-cta":h.default,"benefits-category":f.default,"benefits-category-v2":f.default,"payment-methods":_.default,"payment-methods-v2":b.default,"rights-reserved":m.default,"subscription-cta":p.default,"subscription-google-restrictions":T.default,header:d.default,"subscription-cta-v2":function(e){return o.default.createElement("div",{className:"subscription-cta-v2"},o.default.createElement(p.default,e))},faq:function(e){return o.default.createElement("div",{className:"faqs"},o.default.createElement(g.default,e))},"sticky-v2":y.default},w=function(e){return o.default.createElement(s.default,(0,i.default)({page:"buy-level-6.desktop",className:"buy-level-6-desktop",buyLevelComponents:E},e))};t.default=w},"./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/react/index.js")),a=r(n("./node_modules/@andes/card/main.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/prop-types/index.js"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e){var t="mobile"===e.deviceType?"elevated":"flat";return e.emptyCard?s.default.createElement(a.default,{className:"card-base card-base-empty "+e.className,shadow:t},s.default.createElement("div",{className:!e.withoutShadow&&"shadow"},e.children)):s.default.createElement(a.default,(0,o.default)({},e.className&&{id:e.className},{className:"card-base "+e.className,shadow:t}),s.default.createElement("div",{className:!e.withoutShadow&&"shadow"},e.title&&s.default.createElement("p",{className:"card-base-title"},e.title),e.children))};c.defaultProps={emptyCard:!1,withoutShadow:!1,className:""},c.propTypes={emptyCard:l.default.bool.isRequired,className:l.string,deviceType:l.string};var d=c;t.default=d},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/carrousel-piano.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/ui-library_ml/ui/carousel.js")),a=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item.js")),l=n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/utils.js"),u={dots:!1,arrows:!1,slidesToShow:4,variableWidth:!1,infinite:!1,lazyLoad:!1,speed:500,slidesToScroll:4},c=function(e){return o.default.createElement("div",{className:"piano-container"},o.default.createElement("div",{className:"list".concat(e.currentLevel<u.slidesToShow?" right":" left")},o.default.createElement(s.default,(0,i.default)({},u,{slides:(0,l.levelDiscountWithCurrentLevel)(e.levelDiscounts,e.level),Slide:e.slide?e.slide:a.default,beforeChange:e.callbackSlide,initialSlide:e.currentLevel<u.slidesToShow?0:u.slidesToShow}))))};t.default=c},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),a=r(n("./node_modules/prop-types/index.js")),l=r(n("./node_modules/@loyalty/components-partners/lib/vdp/mobile/context-vdp.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/static-piano.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/carrousel-piano.js")),d=n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/utils.js");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=function(e){var t=e.level,n=e.levelDiscounts,r=e.slide,i=(0,s.useState)(t.number),a=(0,o.default)(i,2),p=a[0],f=a[1];return(0,s.useEffect)((function(){f(t.number)}),[t]),s.default.createElement(l.default.Consumer,null,(function(e){return n.length>4&&("mobile"===e.deviceType||e.webView)?s.default.createElement(c.default,(0,d.buildPianoProps)(p,t,n,f,r)):s.default.createElement(u.default,{level:t,levelDiscounts:(0,d.sortDiscountLevel)(n),customItem:r})}))};f.propTypes={levelDiscounts:a.default.array.isRequired};var h=f;t.default=h},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item-base.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),a=function(e){var t={lock:(0,s.default)({id:"lock",color:"rgba(0, 0, 0, 0.4)"}),tick:(0,s.default)({id:"tick",color:"#00a650",heigh:"12px"})};return i.default.createElement("div",{className:"item".concat(e.current_level===e.level_number?" selected":e.level_number<e.current_level?" disabled":e.highlight?" highlight":"")},e.children,i.default.createElement("p",{className:"pianoItem__level"},e.current_level===e.level_number?t.tick:e.level_number>e.current_level?t.lock:null,e.label))};a.propTypes={current_level:o.default.number.isRequired,level_number:o.default.number,label:o.default.string.isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item-base.js")),a=function(e){var t;return i.default.createElement(s.default,e,(t=e.discount.split("%%")).length>1?t.map((function(e,t){return i.default.createElement("p",{className:"pianoItem__discount discount-".concat(t),key:t},e)})):i.default.createElement("p",{className:"pianoItem__discount"},e.discount))};a.propTypes={discount:o.default.string.isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/static-piano.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/piano-item.js")),a=r(n("./node_modules/prop-types/index.js")),l=function(e){var t=e.levelDiscounts,n=e.customItem,r=e.level;return o.default.createElement("div",{className:"piano-container"},o.default.createElement("div",{className:"list static"},t.map((function(e,t){return n?o.default.createElement(n,(0,i.default)({},e,{key:t,current_level:r.number})):o.default.createElement(s.default,(0,i.default)({},e,{key:t,current_level:r.number}))}))))};l.propTypes={customItem:a.default.elementType,levelDiscounts:a.default.arrayOf(a.default.object),level:a.default.shape({number:a.default.number})};var u=o.default.memo(l);t.default=u},"./node_modules/@loyalty/components-partners/lib/shared/discount-by-level/piano/utils.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortDiscountLevel=t.levelDiscountWithCurrentLevel=t.buildPianoProps=void 0;var n=function(e){return e.sort((function(e,t){return e.level_number-t.level_number}))};t.sortDiscountLevel=n;t.buildPianoProps=function(e,t,r,i,o){return{currentLevel:e,level:t,levelDiscounts:n(r),callbackSlide:function(e,t){return i(t)},slide:o}};t.levelDiscountWithCurrentLevel=function(e,t){var n=[];return e.map((function(e){e.current_level=t.number,n.push(e)})),n}},"./node_modules/@loyalty/components-partners/lib/shared/faq-accordion/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=n("./node_modules/react-sanfona/dist-modules/index.js"),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),u=function(e){var t=e.list,n=e.title;return i.default.createElement("div",{className:"faq-accordion"},i.default.createElement("h3",{className:"faq-accordion__title"},n),i.default.createElement(s.Accordion,{allowMultiple:!0},t.map((function(e){var t=i.default.createElement("div",{className:"faq-accordion__question"},i.default.createElement("h4",null,i.default.createElement("span",{className:"faq-accordion__question-text"},(0,a.default)(e.question))),i.default.createElement("div",{className:"faq-accordion__question-icon"},(0,l.default)({id:"arrow-down",stroke:!0})));return i.default.createElement(s.AccordionItem,{key:"AccordionItem".concat(e.question),uuid:"AccordionItem".concat(e.question),title:t},i.default.createElement("p",{className:"faq-accordion__answer"},(0,a.default)(e.answer)))}))))};u.defaultProps={title:"",list:[]},u.propTypes={title:o.default.string,list:o.default.arrayOf(o.default.shape({question:o.default.string.isRequired,answer:o.default.string.isRequired})).isRequired};var c=i.default.memo(u);t.default=c},"./node_modules/@loyalty/components-partners/lib/shared/offer-price/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=n("./node_modules/@andes/badge/main.js"),a=r(n("./node_modules/classnames/index.js")),l=function(e){var t=e.since,n=e.price,r=e.level,o=e.discount,l=e.deviceType,u=e.separatorOff,c=e.forceSeparator,d=e.featured,p=void 0!==d&&d,f=e.bannerHub,h=(u||!t&&!o&&!f)&&!c;return i.default.createElement("div",{className:"price"},i.default.createElement("div",{className:(0,a.default)("price-separator",{"price-separator-extended":t||!o,"price-separator-deleted":h,"price-separator-forced":c,"price-separator-pill":(null==o?void 0:o.label)&&!p,"price-separator-feature-on":(null==o?void 0:o.label)&&p,"price-separator-feature-off-pill":!o&&p})}),i.default.createElement("div",{className:"price-proposal"},i.default.createElement("div",{className:"price-proposal-value"},t&&i.default.createElement("div",{className:"price-proposal-value__since"},t),(null==n?void 0:n.full_price)&&i.default.createElement("div",{className:"price-proposal-value__full-price"},n.full_price),i.default.createElement("div",{className:"price-proposal-value__price"},i.default.createElement("div",{className:(0,a.default)("price-proposal-value__price-total",{"price-proposal-value__price-total-without-discount":!o&&f})},n.total_price),(null==n?void 0:n.cents)&&i.default.createElement("div",{className:"price-proposal-value__price-cents"},n.cents),(null==n?void 0:n.text_period)&&i.default.createElement("div",{className:"price-proposal-value__price-period"},n.text_period))),r&&i.default.createElement("div",{className:"price-proposal__level"},r),(null==o?void 0:o.label)&&i.default.createElement(s.Pill,{className:"price-proposal__discount",size:"desktop"===l?"large":"small",style:{backgroundColor:o.background_color||"#00A650",color:o.color}},o.label)))};l.defaultProps={separatorOff:!1,forceSeparator:!1,bannerHub:!1},l.propTypes={deviceType:o.default.string,since:o.default.string,price:o.default.shape({total_price:o.default.string,cents:o.default.string,text_period:o.default.string,full_price:o.default.string}),discount:o.default.shape({background_color:o.default.string,label:o.default.string,color:o.default.string}),level:o.default.string,separatorOff:o.default.bool,forceSeparator:o.default.bool,bannerHub:o.default.bool};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/shared/rating/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/prop-types/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),a=function(e){return i.default.createElement("picture",{id:"rating"},i.default.createElement(s.default,e.rating))};a.propTypes={rating:o.default.object};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/shared/right-reserved/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),a=function(e){var t=e.text;return i.default.createElement("div",{className:"rights-reserved__title"},t.label&&i.default.createElement("p",{className:"rights-reserved__text"},(0,s.default)(t.label)))};a.propTypes={text:(0,o.shape)({label:o.string}).isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/shared/subscription-cta/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/extends.js")),s=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=r(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),u=r(n("./node_modules/@andes/button/main.js")),c=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),d=r(n("./node_modules/@andes/snackbar/main.js")),p=r(n("./node_modules/@loyalty/components-partners/lib/vdp/mobile/context-vdp.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-stop-modal/index.js")),h=r(n("./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-underage-modal/index.js")),m=r(n("./node_modules/@loyalty/components-partners/lib/vdp/components/subscribe-instructions-modal/index.js")),g=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/components/disclaimers/index.js")),v=["eventHandlers","plan_id","track","label","partnerName","primary_action","secondary_action","siteId","userId","title","multiplanActive","disclaimer","disclaimers","snackbar","action","wrapper","isSkeletonMock"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var _=function(e){var t=e.eventHandlers,n=e.plan_id,r=e.track,i=e.label,y=e.partnerName,_=e.primary_action,b=e.secondary_action,T=e.siteId,E=e.userId,w=e.title,j=e.multiplanActive,S=e.disclaimer,k=e.disclaimers,x=e.snackbar,C=e.action,P=e.wrapper,O=e.isSkeletonMock,I=(0,a.default)(e,v),A=(0,l.useState)(!1),N=(0,s.default)(A,2),L=N[0],D=N[1],R=(0,l.useState)(!1),M=(0,s.default)(R,2),U=M[0],B=M[1],F=(0,l.useState)(!1),H=(0,s.default)(F,2),q=H[0],V=H[1],W=(0,l.useContext)(p.default),z=["under_age","stop_modal","subscribe_instructions"],G=function(){D(!0)},K=function(){B(!1)},X=function(){V((function(e){return!e}))},Y=function(){return z.find((function(e){return I[e]}))};return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:O?"subscription-cta subscription-cta-skeleton":"subscription-cta"},w&&l.default.createElement("p",{className:"subscription-cta__title"},(0,c.default)(w)),l.default.createElement(u.default,(0,o.default)({disabled:q,onClick:function(){return function(){if(Y())return B(!0),void(t&&t.trackShowModal&&t.trackShowModal({trackInfo:r,partnerSelected:W.indexSelected+1}));t&&t.trackCTAPrimaryClickEvent&&t.trackCTAPrimaryClickEvent({cancellation_type:r.cancellation_type,subscription_status:r.subscription_status,subscription_partner:r.partner,level:r.level,type:_.type}),t&&t.trackCTAClickEvent&&t.trackCTAClickEvent({trackInfo:r,CTALabel:i,planId:W.plan_id||n||C&&C.plan_id,partnerName:y,userId:E||null}),!_.target&&t&&t.subscribeClickEvent&&(X(),t.subscribeClickEvent({partnerName:y,planId:W.plan_id||n||C&&C.plan_id,siteId:T,userId:E,eventType:_.event_type,wrapper:P},G).then((function(){return X()})))}(W.plan_id)}},!Y()&&{href:_.target},{loading:j&&!W.cta_description&&!_.label}),W.cta_description||_.label),b&&l.default.createElement(u.default,{hierarchy:"quiet",onClick:function(){t&&t.trackSecondaryCTAClickEvent&&t.trackSecondaryCTAClickEvent({trackInfo:r,CTALabel:i}),t&&t.trackCTASecondaryClickEvent&&t.trackCTASecondaryClickEvent({cancellation_type:r.cancellation_type,subscription_status:r.subscription_status,subscription_partner:r.partner,level:r.level,type:b.type})},href:b.target},b.label),S&&l.default.createElement("p",{onClick:function(){t&&t.trackTycClickEvent&&t.trackTycClickEvent({trackInfo:r})},className:"subscription-cta__disclaimer","data-testid":"subscription-cta__disclaimer"},(0,c.default)(S)),k&&l.default.createElement(g.default,k)),l.default.createElement(d.default,{show:L,message:x&&x.message||""}),U&&{stop_modal:l.default.createElement(f.default,(0,o.default)({},I.stop_modal,{partnerName:y,planId:W.plan_id||n||C&&C.plan_id,labelPlanName:W.title,siteId:T,userId:E,handleModalVisibility:K,eventHandlers:t,track:r,partnerSelected:W.indexSelected+1},I)),under_age:l.default.createElement(h.default,I.under_age),subscribe_instructions:l.default.createElement(m.default,(0,o.default)({},I.subscribe_instructions,{handleModalVisibility:K}))}[Y()])};t.default=_},"./node_modules/@loyalty/components-partners/lib/shared/tooltip-info/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),s=n("./node_modules/prop-types/index.js"),a=function(e){var t=e.title,n=e.text,r=e.IconCustom,s=e.IconCustomClass;return i.default.createElement("div",{className:"toolTipInfo"},r&&i.default.createElement("div",{className:s},i.default.createElement(r,null)),i.default.createElement("div",{className:"toolTipInfo__texts"},t&&i.default.createElement("h4",{className:"toolTipInfo__title"},(0,o.default)(t)),n&&i.default.createElement("p",{className:"toolTipInfo__text"},(0,o.default)(n))))};a.propTypes={title:s.string,text:s.string,IconCustom:s.elementType,IconCustomClass:s.string},a.defaultProps={IconCustomClass:"toolTipInfo__icon"};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/shared/ways-to-pay/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/classnames/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),u=function(e){var t,n,r=e.content,o=e.deviceType,u=e.type,c=e.n_months,d=void 0!==c&&c,p={mobile:"19px",webview:"19px",desktop:"32px"},f=null==r||null===(t=r.items)||void 0===t?void 0:t.find((function(e){return e.subtitle})),h=2===(null==r||null===(n=r.items)||void 0===n?void 0:n.length);return i.default.createElement("div",{className:(0,s.default)("ways-to-pay",{"ways-to-pay-white":"payment-methods-v2"===u},{"ways-to-pay--n-months":d})},i.default.createElement("h2",{className:"ways-to-pay-title"},(0,a.default)(r.title_content)),i.default.createElement("div",{className:(0,s.default)("ways-to-pay-list",{"ways-to-pay-list-evenly":h})},r.items&&r.items.map((function(e,t){return i.default.createElement("div",{key:t,className:"ways-to-pay-list__item"},i.default.createElement("div",{className:"ways-to-pay-list__item-icon"},"desktop"!==o?(0,l.default)({id:"".concat(e.icon.id,"_mobile"),width:p[o],color:"black"}):(0,l.default)({id:e.icon.id,width:p[o]})),i.default.createElement("div",{className:"ways-to-pay-list__item__text"},i.default.createElement("div",{className:(0,s.default)("ways-to-pay-list__item__text-title",{"ways-to-pay-list__item__text-title-expanded":"desktop"===o&&f||d})},(0,a.default)(e.title.label)),e.subtitle&&i.default.createElement("div",{className:"ways-to-pay-list__item__text-subtitle"},(0,a.default)(e.subtitle.label))))}))))};u.propTypes={deviceType:o.string.isRequired,content:(0,o.shape)({title_content:o.string,items:(0,o.arrayOf)((0,o.shape)({icon:(0,o.shape)({id:o.string,height:o.string,width:o.string}),title:(0,o.shape)({label:o.string})}))}).isRequired,type:o.string,n_months:o.bool};var c=u;t.default=c},"./node_modules/@loyalty/components-partners/lib/vdp/components/subscribe-instructions-modal-steps/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/components-partners/lib/vdp/mobile/components/button-copy/index.js")),a=function(e){var t=e.steps;return i.default.createElement("div",{className:"subscribe-instructions-modal-card-steps"},t.map((function(e,t){var n;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"subscribe-instructions-modal-card-step"},i.default.createElement("p",{className:"subscribe-instructions-modal-card-index"},"".concat(t+1,".")),i.default.createElement("p",{className:"subscribe-instructions-modal-card-step-title"},null===(n=e.title)||void 0===n?void 0:n.label)),e.link&&i.default.createElement("div",{className:"subscribe-instructions-modal-card-link"},i.default.createElement(s.default,e.link)))})))};a.propTypes={steps:(0,o.arrayOf)((0,o.shape)({title:(0,o.shape)({label:o.string.isRequired}).isRequired,link:(0,o.shape)({label:o.string.isRequired,icon_copy:(0,o.shape)({id:o.string,label:o.string}),icon_copied:{id:o.string,label:o.string},text_link:{label:o.string,link:o.string},"background_prev*":o.string,"background_post*":o.string})}),(0,o.shape)({title:(0,o.shape)({label:o.string.isRequired})})).isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/vdp/components/subscribe-instructions-modal/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@andes/button/main.js")),s=n("./node_modules/prop-types/index.js"),a=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),l=r(n("./node_modules/@loyalty/shared/lib/components/icons/close.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),c=r(n("./node_modules/@loyalty/components-partners/lib/vdp/components/subscribe-instructions-modal-steps/index.js")),d=function(e){var t=e.title,n=e.logo,r=e.steps,s=e.primary_action,d=e.hide_close_button,p=e.handleModalVisibility,f=function(){p()};return i.default.createElement("div",{className:"subscribe-instructions-modal-container"},i.default.createElement("div",{className:"subscribe-instructions-modal"},!d&&i.default.createElement("div",{className:"close-button","data-testid":"close-button",onClick:f},i.default.createElement(l.default,{color:"gray"})),i.default.createElement(u.default,{className:"subscribe-instructions-modal-card",withoutShadow:!0},i.default.createElement("div",{className:"container"},i.default.createElement(a.default,{src:n.src,title:n.alt,className:"subscribe-instructions-modal-card-logo"}),t&&i.default.createElement("h2",{className:"subscribe-instructions-modal-card-title"},t.label),r&&i.default.createElement(c.default,{steps:r})),i.default.createElement("div",{className:"buttons-container"},s&&i.default.createElement(o.default,{id:s.id,onClick:f,"data-testid":"primary-action",hierarchy:s.hierarchy},s.label)))))};d.propTypes={deviceType:s.string,benefits:(0,s.arrayOf)(s.string).isRequired,partnerName:s.string,handleDismissTrack:s.func,proposal:(0,s.shape)({desc:s.string,title:s.string}),site_id:s.string,primary_action:(0,s.shape)({label:s.string,target:s.string,hierarchy:s.string}),secondary_action:(0,s.shape)({label:s.string,handler:s.string,hierarchy:s.string}),eventHandlers:(0,s.shape)({trackCTAClickEvent:s.func,subscribeClickEvent:s.func}).isRequired,isModalVisible:s.bool.isRequired},d.defaultProps={proposal:{},eventHandlers:{}};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-stop-modal/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),a=r(n("./node_modules/@andes/button/main.js")),l=r(n("./node_modules/@andes/snackbar/main.js")),u=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),c=r(n("./node_modules/@loyalty/shared/lib/components/icons/close.js")),d=n("./node_modules/prop-types/index.js"),p=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),f=r(n("./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-stop-modal/subscription-stop-option.js"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=function(e){var t=e.benefits,n=e.partnerName,r=e.handleModalVisibility,i=e.proposal,d=e.primary_action,h=e.secondary_action,m=e.site_id,g=e.eventHandlers,v=e.planId,y=e.userId,_=e.snackbar,b=e.logo,T=e.track,E=e.labelPlanName,w=e.action,j=e.partnerSelected,S=(0,s.useState)(!1),k=(0,o.default)(S,2),x=k[0],C=k[1],P=(0,s.useState)(!1),O=(0,o.default)(P,2),I=O[0],A=O[1],N=(0,s.useState)(!1),L=(0,o.default)(N,2),D=L[0],R=L[1],M=i.title,U=i.desc,B=function(){C(!0)},F=function(e){e?A((function(e){return!e})):R((function(e){return!e}))},H=function(e,t){g&&("trackCTAClickEvent"in g&&function(e,t){t?g&&"trackCTAClickEvent"in g&&g.trackCTAClickEvent({trackInfo:T,CTALabel:e.label,partnerName:t?null==w?void 0:w.partner_name:n,isModal:!0,userId:y||null,partnerSelected:j}):g&&"trackSecondaryCTAClickEvent"in g&&g.trackSecondaryCTAClickEvent({trackInfo:T,CTALabel:w.label,partnerName:n,isModal:!0,userId:y||null,partnerSelected:j})}(e,t),"subscribeClickEvent"in g&&(F(t),g.subscribeClickEvent({partnerName:t?null==w?void 0:w.partner_name:n,planId:t?null==w?void 0:w.plan_id:v,siteId:m,userId:y},B).then((function(){return F(t)}))))};return s.default.createElement("div",{className:"subscription-stop-modal-container"},s.default.createElement("div",{className:"subscription-stop-modal"},s.default.createElement("div",{className:"close-button","data-testid":"close-button",onClick:function(){g&&"trackExitClickEvent"in g&&g.trackExitClickEvent({trackInfo:T,partnerSelected:j}),r()}},s.default.createElement(c.default,{color:"gray"})),s.default.createElement(p.default,{className:"stop-modal",withoutShadow:!0},s.default.createElement("div",{className:"container"},s.default.createElement(u.default,{src:b.src,title:b.alt,className:"stop-modal-logo"}),M&&s.default.createElement("h2",{className:"stop-modal-proposal-title"},M),U&&s.default.createElement("span",{className:"stop-modal-proposal-desc"},U),t&&s.default.createElement(f.default,{benefits:t}),s.default.createElement(l.default,{show:x,message:_&&_.message||""})),s.default.createElement("div",{className:"buttons-container"},d&&s.default.createElement(a.default,{id:d.id,onClick:function(){return H(d,!0)},disabled:I,"data-testid":"primary-action",hierarchy:d.hierarchy},d.label),h&&s.default.createElement(a.default,{id:h.id,onClick:function(){return H(h,!1)},disabled:D,"data-testid":"secondary-action",hierarchy:h.hierarchy},"".concat(h.label," ").concat(E))))))};m.propTypes={deviceType:d.string,benefits:(0,d.arrayOf)(d.string).isRequired,partnerName:d.string,handleDismissTrack:d.func,proposal:(0,d.shape)({desc:d.string,title:d.string}),site_id:d.string,primary_action:(0,d.shape)({label:d.string,target:d.string,hierarchy:d.string}),secondary_action:(0,d.shape)({label:d.string,handler:d.string,hierarchy:d.string}),eventHandlers:(0,d.shape)({trackCTAClickEvent:d.func,subscribeClickEvent:d.func}).isRequired,isModalVisible:d.bool.isRequired},m.defaultProps={proposal:{},eventHandlers:{}};var g=m;t.default=g},"./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-stop-modal/subscription-stop-option.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),a=function(e){var t=e.benefits;return i.default.createElement("div",{className:"stop-modal-proposal-option-container"},t.map((function(e,t){return i.default.createElement("div",{className:"stop-modal-proposal-option",key:t},i.default.createElement("div",{className:"tick-container"},(0,s.default)({id:"tick",color:"#FFF",width:"14px",height:"14px"})),i.default.createElement("span",null,e))})))};a.propTypes={benefits:(0,o.arrayOf)(o.string).isRequired};var l=a;t.default=l},"./node_modules/@loyalty/components-partners/lib/vdp/components/subscription-underage-modal/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=r(n("./node_modules/@loyalty/components-partners/lib/shared/card-base/index.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/index.js")),l=r(n("./node_modules/@andes/button/main.js")),u=r(n("./node_modules/@loyalty/shared/lib/components/image/index.js")),c=r(n("./node_modules/@andes/modal/main.js")),d=function(e){var t=e.title,n=e.subtitle,r=e.action,o=e.logo,d=e.handleClose;return i.default.createElement(c.default,{isOpen:!0,isVisible:!0,handleClose:d},i.default.createElement("div",{className:"subscription-underage"},i.default.createElement("div",{className:"subscription-underage__modal"},i.default.createElement(s.default,{className:"subscription-underage__modal__card",withoutShadow:!0},i.default.createElement("div",{className:"subscription-underage__modal__card__proposal"},i.default.createElement(u.default,{src:o.src,title:o.alt,className:"subscription-underage__modal__card__proposal__logo"}),t&&i.default.createElement("h2",{className:"subscription-underage__modal__card__proposal__title"},t),n&&i.default.createElement("span",{className:"subscription-underage__modal__card__proposal__subtitle"},(0,a.default)(n))),r&&i.default.createElement(l.default,{id:r.id,href:r.url},r.label)))))};d.propTypes={subtitle:o.string,title:o.string,action:(0,o.shape)({label:o.string,url:o.string})},d.defaultProps={handleClose:null};var p=d;t.default=p},"./node_modules/@loyalty/components-partners/lib/vdp/mobile/components/button-copy/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),o=r(n("./node_modules/react/index.js")),s=r(n("./node_modules/@loyalty/shared/lib/components/icons/index.js")),a=n("./node_modules/prop-types/index.js"),l=function(e){var t=e.icon_copy,n=e.icon_copied,r=e.text_link,a=e.deviceType,l=o.default.useState(!1),u=(0,i.default)(l,2),c=u[0],d=u[1];return o.default.createElement("button",{className:"buttonLink".concat(c?"-active":""),onClick:function(){var e=document.createElement("textarea");e.innerText=r.link,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),d(!0)},"data-testid":"button-cta"},o.default.createElement("div",{className:"url"},r.label),o.default.createElement("div",{className:"copy"},c?o.default.createElement(o.default.Fragment,null,n&&n.id&&o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{"data-testid":"icon"},(0,s.default)({id:"tick",color:"#00A650",height:"13",width:"13",mobile:"mobile"===a})),n.label&&n.label)):o.default.createElement(o.default.Fragment,null,t&&t.id&&o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{"data-testid":"icon"},(0,s.default)({id:t.id,mobile:"mobile"===a})),t.label&&t.label))))};l.propTypes={icon_copy:(0,a.shape)({id:a.string,label:a.string}),icon_copied:(0,a.shape)({id:a.string,label:a.string}),text_link:(0,a.shape)({label:a.string,link:a.string})},l.defaultProps={text_link:null,icon_copy:null,icon_copied:null};var u=l;t.default=u},"./node_modules/@loyalty/components-partners/lib/vdp/mobile/context-vdp.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n("./node_modules/react/index.js").createContext)({deviceType:null,webView:null,platformId:null,plan_id:null,cta_description:null,changePlanIdAndCta:null,title:null,indexSelected:null});r.displayName="ContextVdp";var i=r;t.default=i},"./node_modules/@loyalty/shared/lib/components/dummy-component/index.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return null}},"./node_modules/@loyalty/shared/lib/components/icons/wave.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=n("./node_modules/prop-types/index.js"),s=function(e){var t=e.style,n=e.className;return i.default.createElement("svg",{style:t,className:n,width:"1280",height:"68",viewBox:"0 0 1280 68",fill:"none",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M0 46.9995C329.454 39.4066 686.5 46.9995 1024 7.99976C1163.33 4.78869 1280 17.4995 1280 17.4995V67.9995H0V46.9995Z",fill:"white"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 15.8871C0 15.8871 260 57.0662 669 17.3787C974.966 -12.3108 1194.09 3.65999 1280 10.0393V24.6886C1157 15.0009 914.5 11.7717 549.5 54.1104C285.677 76.0225 164.737 66.532 65.747 58.764C43.1678 56.9921 21.7305 55.3099 0 54.1104V15.8871Z",fill:"#A90F90"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 15.8871C0 15.8871 260 57.0662 669 17.3787C974.966 -12.3108 1194.09 3.65999 1280 10.0393V24.6886C1157 15.0009 914.5 11.7717 549.5 54.1104C285.677 76.0225 164.737 66.532 65.747 58.764C43.1678 56.9921 21.7305 55.3099 0 54.1104V15.8871Z",fill:"url(#paint0_linear_4312_58343)"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"paint0_linear_4312_58343",x1:"1280",y1:"67.639",x2:"122.667",y2:"67.639",gradientUnits:"userSpaceOnUse"},i.default.createElement("stop",{stopColor:"#0C1A51"}),i.default.createElement("stop",{offset:"1",stopColor:"#0C1A51",stopOpacity:"0"}))))};s.propTypes={style:(0,o.objectOf)(o.string),className:o.string};var a=s;t.default=a},"./node_modules/@loyalty/shared/lib/utils/markdown/bold.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=new RegExp(/\*\*([^*]+)\*\*/,"g");return(e.match(n)?e.match(n):[]).map((function(e){var n=e.replace(/\*\*/g,"");t=t.replace(e,"<b>".concat(n,"</b>"))})),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/break-line.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=/%%/g;return(e.match(n)?e.match(n):[]).map((function(e){t=t.replace("%%","<br />")})),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("./node_modules/react/index.js")),o=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/bold.js")),s=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/strike.js")),a=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/break-line.js")),l=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/link.js")),u=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/sup.js")),c=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/italic.js")),d=r(n("./node_modules/@loyalty/shared/lib/utils/markdown/separator.js")),p=function(e){if("string"!=typeof e)return i.default.createElement("span",{dangerouslySetInnerHTML:{__html:""}});var t=e;return t=(0,d.default)(t),t=(0,o.default)(t),t=(0,c.default)(t),t=(0,s.default)(t),t=(0,a.default)(t),t=(0,l.default)(t),t=(0,u.default)(t),i.default.createElement("span",{dangerouslySetInnerHTML:{__html:t}})};t.default=p},"./node_modules/@loyalty/shared/lib/utils/markdown/italic.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=/~([^~]+)~/;return(e.match(n)?e.match(n):[]).map((function(e){t=t.replace("~".concat(e,"~"),"<em>".concat(e,"</em>"))})),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/link.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=/(\[[^\]\(\)\{\}]+\]){1}(\([^\)\{\}]+\)){1}(\{[:\w="]+\})?/,r=e.match(/(\[[^\]\(\)\{\}]+\]){1}(\([^\)\{\}]+\)){1}(\{[:\w="]+\})?/g),i=null==r?void 0:r.map((function(e){return e.match(n)}));return null==i||i.map((function(e){t=t.replace(e[0],'<a href="'.concat(e[2].replace(/\(|\)/g,""),'"').concat(e[3]?" ".concat(e[3].replace(/\{|\}|:/g," ")):"",">").concat(e[1].replace(/\[|\]/g,""),"</a>"))})),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/separator.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e;return t.includes("---")&&(t=t.replace("---","<hr />")),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/strike.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=/--([^-]+)--/;return(e.match(n)?e.match(n):[]).map((function(e){t=t.replace("--".concat(e,"--"),"<strike>".concat(e,"</strike>"))})),t};t.default=n},"./node_modules/@loyalty/shared/lib/utils/markdown/sup.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e,n=/\^\^([^*]+)\^\^/;return(e.match(n)?e.match(n):[]).map((function(e){t=t.replace("^^".concat(e,"^^"),"<sup>".concat(e,"</sup>"))})),t};t.default=n},"./node_modules/@react-aria/dialog/dist/module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{useDialog:function(){return a}});var r=n("./node_modules/react/index.js"),i=n("./node_modules/@react-aria/focus/dist/module.js"),o=n("./node_modules/@react-aria/utils/dist/module.js"),s=n("./node_modules/@babel/runtime/helpers/esm/extends.js");function a(e,t){let{role:n="dialog"}=e,a=(0,o.useSlotId)();return a=e["aria-label"]?void 0:a,(0,r.useEffect)((()=>{if(t.current&&!t.current.contains(document.activeElement)){(0,i.focusSafely)(t.current);let e=setTimeout((()=>{document.activeElement===t.current&&(t.current.blur(),(0,i.focusSafely)(t.current))}),500);return()=>{clearTimeout(e)}}}),[t]),{dialogProps:(0,s.Z)({},(0,o.filterDOMProps)(e,{labelable:!0}),{role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||a}),titleProps:{id:a}}}},"./node_modules/@react-aria/focus/dist/module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{FocusRing:function(){return S},FocusScope:function(){return f},FocusableProvider:function(){return C},focusSafely:function(){return l},getFocusableTreeWalker:function(){return w},useFocusManager:function(){return h},useFocusRing:function(){return j},useFocusable:function(){return P}});var r=n("./node_modules/clsx/dist/clsx.m.js"),i=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("./node_modules/react/index.js"),s=n("./node_modules/@react-aria/interactions/dist/module.js"),a=n("./node_modules/@react-aria/utils/dist/module.js");function l(e){if("virtual"===(0,s.Jz)()){let t=document.activeElement;(0,a.runAfterTransition)((()=>{document.activeElement===t&&document.contains(e)&&(0,a.focusWithoutScrolling)(e)}))}else(0,a.focusWithoutScrolling)(e)}function u(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,r="none"!==t&&"hidden"!==n&&"collapse"!==n;if(r){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:i}=t(e);r="none"!==n&&"hidden"!==i&&"collapse"!==i}return r}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||u(e.parentElement,e))}const c=o.createContext(null);let d=null,p=new Set;function f(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,s=(0,o.useRef)(),l=(0,o.useRef)(),u=(0,o.useRef)([]);(0,a.useLayoutEffect)((()=>{let e=s.current.nextSibling,t=[];for(;e&&e!==l.current;)t.push(e),e=e.nextSibling;return u.current=t,p.add(u),()=>{p.delete(u)}}),[t]),function(e,t){let n=(0,o.useRef)(),r=(0,o.useRef)(null);(0,o.useEffect)((()=>{let i=e.current;if(!t)return;let o=e=>{if("Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey)return;let t=document.activeElement;if(!b(t,i))return;let n=w(y(i),{tabbable:!0},i);n.currentNode=t;let r=e.shiftKey?n.previousNode():n.nextNode();r||(n.currentNode=e.shiftKey?i[i.length-1].nextElementSibling:i[0].previousElementSibling,r=e.shiftKey?n.previousNode():n.nextNode()),e.preventDefault(),r&&T(r,!0)},s=t=>{_(t.target,p)?(d=e,n.current=t.target):n.current?n.current.focus():d&&E(d.current)},a=t=>{r.current=requestAnimationFrame((()=>{_(document.activeElement,p)||(d=e,n.current=t.target,n.current.focus())}))};return document.addEventListener("keydown",o,!1),document.addEventListener("focusin",s,!1),i.forEach((e=>e.addEventListener("focusin",s,!1))),i.forEach((e=>e.addEventListener("focusout",a,!1))),()=>{document.removeEventListener("keydown",o,!1),document.removeEventListener("focusin",s,!1),i.forEach((e=>e.removeEventListener("focusin",s,!1))),i.forEach((e=>e.removeEventListener("focusout",a,!1)))}}),[e,t]),(0,o.useEffect)((()=>()=>cancelAnimationFrame(r.current)),[r])}(u,n),function(e,t,n){(0,a.useLayoutEffect)((()=>{let r=e.current,i=document.activeElement,o=e=>{if("Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey)return;let t=document.activeElement;if(!b(t,r))return;let n=w(document.body,{tabbable:!0});n.currentNode=t;let o=e.shiftKey?n.previousNode():n.nextNode();if(document.body.contains(i)&&i!==document.body||(i=null),(!o||!b(o,r))&&i){n.currentNode=i;do{o=e.shiftKey?n.previousNode():n.nextNode()}while(b(o,r));e.preventDefault(),e.stopPropagation(),o?T(o,!0):t.blur()}};return n||document.addEventListener("keydown",o,!0),()=>{n||document.removeEventListener("keydown",o,!0),t&&i&&b(document.activeElement,r)&&requestAnimationFrame((()=>{document.body.contains(i)&&T(i)}))}}),[e,t,n])}(u,r,n),function(e,t){(0,o.useEffect)((()=>{t&&(d=e,b(document.activeElement,d.current)||E(e.current))}),[e,t])}(u,i);let f=function(e){return{focusNext(t){void 0===t&&(t={});let n=e.current,{from:r,tabbable:i,wrap:o}=t,s=r||document.activeElement,a=n[0].previousElementSibling,l=w(y(n),{tabbable:i},n);l.currentNode=b(s,n)?s:a;let u=l.nextNode();return!u&&o&&(l.currentNode=a,u=l.nextNode()),u&&T(u,!0),u},focusPrevious(t){void 0===t&&(t={});let n=e.current,{from:r,tabbable:i,wrap:o}=t,s=r||document.activeElement,a=n[n.length-1].nextElementSibling,l=w(y(n),{tabbable:i},n);l.currentNode=b(s,n)?s:a;let u=l.previousNode();return!u&&o&&(l.currentNode=a,u=l.previousNode()),u&&T(u,!0),u}}}(u);return o.createElement(c.Provider,{value:f},o.createElement("span",{hidden:!0,ref:s}),t,o.createElement("span",{hidden:!0,ref:l}))}function h(){return(0,o.useContext)(c)}const m=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],g=m.join(":not([hidden]),")+",[tabindex]:not([hidden])";m.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const v=m.join(':not([hidden]):not([tabindex="-1"]),');function y(e){return e[0].parentElement}function _(e,t){for(let n of t.values())if(b(e,n.current))return!0;return!1}function b(e,t){return t.some((t=>t.contains(e)))}function T(e,t){if(void 0===t&&(t=!1),null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{l(e)}catch(e){}}function E(e){let t=e[0].previousElementSibling,n=w(y(e),{tabbable:!0},e);n.currentNode=t,T(n.nextNode())}function w(e,t,n){let r=(null==t?void 0:t.tabbable)?v:g,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null==t||null==(i=t.from)?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:e.matches(r)&&u(e)&&(!n||b(e,n))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return(null==t?void 0:t.from)&&(i.currentNode=t.from),i}function j(e){void 0===e&&(e={});let{within:t}=e,[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(!1),{isFocusVisible:l}=(0,s._Y)(e),{focusProps:u}=(0,s.KK)({isDisabled:t,onFocusChange:r}),{focusWithinProps:c}=(0,s.L_)({isDisabled:!t,onFocusWithinChange:a});return{isFocused:t?i:n,isFocusVisible:(t?i:n)&&l,focusProps:t?c:u}}function S(e){let{children:t,focusClass:n,focusRingClass:s}=e,{isFocused:l,isFocusVisible:u,focusProps:c}=j(e),d=o.Children.only(t);return o.cloneElement(d,(0,a.mergeProps)(d.props,(0,i.Z)({},c,{className:(0,r.Z)({[n||""]:l,[s||""]:u})})))}let k=o.createContext(null);function x(e,t){let{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children"]),s=(0,i.Z)({},r,{ref:t});return o.createElement(k.Provider,{value:s},n)}let C=o.forwardRef(x);function P(e,t){let{focusProps:n}=(0,s.KK)(e),{keyboardProps:r}=(0,s.v5)(e),l=(0,a.mergeProps)(n,r),u=function(e){let t=(0,o.useContext)(k)||{};return(0,a.useSyncRef)(t,e),t}(t),c=e.isDisabled?{}:u;return(0,o.useEffect)((()=>{e.autoFocus&&t.current&&t.current.focus()}),[e.autoFocus,t]),{focusableProps:(0,a.mergeProps)((0,i.Z)({},l,{tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0}),c)}}},"./node_modules/@react-aria/interactions/dist/module.js":function(e,t,n){"use strict";n.d(t,{Jz:function(){return qe},KK:function(){return ke},_Y:function(){return ze},L_:function(){return Ke},Fc:function(){return et},v5:function(){return rt}});var r=n("./node_modules/react/index.js"),i=n("./node_modules/@react-aria/ssr/dist/module.js"),o=n("./node_modules/clsx/dist/clsx.m.js"),s=n("./node_modules/@react-stately/utils/dist/module.js");function a(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var l={};a(l,"useId",(()=>d)),a(l,"mergeIds",(()=>p)),a(l,"useSlotId",(()=>f));a({},"useLayoutEffect",(()=>u));const u="undefined"!=typeof window?r.useLayoutEffect:()=>{};let c=new Map;function d(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(null),s=(0,i.gP)(t),a=(0,r.useCallback)((e=>{o.current=e}),[]);return c.set(s,a),u((()=>{let e=s;return()=>{c.delete(e)}}),[s]),(0,r.useEffect)((()=>{let e=o.current;e&&(o.current=null,n(e))})),s}function p(e,t){if(e===t)return e;let n=c.get(e);if(n)return n(t),t;let r=c.get(t);return r?(r(e),e):t}function f(e=[]){let t=d(),[n,i]=re(t),o=(0,r.useCallback)((()=>{i((function*(){yield t,yield document.getElementById(t)?t:null}))}),[t,i]);return u(o,[t,o,...e]),n}function h(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}a({},"chain",(()=>h));function m(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=h(n,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?"id"===e&&n&&i?t.id=p(n,i):t[e]=void 0!==i?i:n:t[e]=(0,o.Z)(n,i)}}return t}a({},"mergeProps",(()=>m));function g(...e){return t=>{for(let n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}}a({},"mergeRefs",(()=>g));a({},"filterDOMProps",(()=>b));const v=new Set(["id"]),y=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),_=/^(data-.*)$/;function b(e,t={}){let{labelable:n,propNames:r}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(v.has(t)||n&&y.has(t)||(null==r?void 0:r.has(t))||_.test(t))&&(i[t]=e[t]);return i}function T(e){if(function(){if(null==E){E=!1;try{document.createElement("div").focus({get preventScroll(){return E=!0,!0}})}catch(e){}}return E}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}a({},"focusWithoutScrolling",(()=>T));let E=null;function w(e,t,n="horizontal"){let r=e.getBoundingClientRect();return t?"horizontal"===n?r.right:r.bottom:"horizontal"===n?r.left:r.top}a({},"getOffset",(()=>w));var j={};a(j,"clamp",(()=>s.uZ)),a(j,"snapValueToStep",(()=>s.N4));a({},"runAfterTransition",(()=>C));let S=new Map,k=new Set;function x(){if("undefined"==typeof window)return;let e=t=>{let n=S.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),S.delete(t.target)),0===S.size)){for(let e of k)e();k.clear()}};document.body.addEventListener("transitionrun",(t=>{let n=S.get(t.target);n||(n=new Set,S.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function C(e){requestAnimationFrame((()=>{0===S.size?e():k.add(e)}))}"undefined"!=typeof document&&("loading"!==document.readyState?x():document.addEventListener("DOMContentLoaded",x));a({},"useDrag1D",(()=>O));const P=[];function O(e){console.warn("useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html");let{containerRef:t,reverse:n,orientation:i,onHover:o,onDrag:s,onPositionChange:a,onIncrement:l,onDecrement:u,onIncrementToMax:c,onDecrementToMin:d,onCollapseToggle:p}=e,f=e=>{let r=w(t.current,n,i),o=(e=>"horizontal"===i?e.clientX:e.clientY)(e);return n?r-o:o-r},h=(0,r.useRef)(!1),m=(0,r.useRef)(0),g=(0,r.useRef)({onPositionChange:a,onDrag:s});g.current.onDrag=s,g.current.onPositionChange=a;let v=e=>{e.preventDefault();let t=f(e);h.current||(h.current=!0,g.current.onDrag&&g.current.onDrag(!0),g.current.onPositionChange&&g.current.onPositionChange(t)),m.current!==t&&(m.current=t,a&&a(t))},y=e=>{const t=e.target;h.current=!1;let n=f(e);g.current.onDrag&&g.current.onDrag(!1),g.current.onPositionChange&&g.current.onPositionChange(n),P.splice(P.indexOf(t),1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("mousemove",v,!1)};return{onMouseDown:e=>{const t=e.currentTarget;P.some((e=>t.contains(e)))||(P.push(t),window.addEventListener("mousemove",v,!1),window.addEventListener("mouseup",y,!1))},onMouseEnter:()=>{o&&o(!0)},onMouseOut:()=>{o&&o(!1)},onKeyDown:e=>{switch(e.key){case"Left":case"ArrowLeft":"horizontal"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Up":case"ArrowUp":"vertical"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Right":case"ArrowRight":"horizontal"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Down":case"ArrowDown":"vertical"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Home":e.preventDefault(),d&&d();break;case"End":e.preventDefault(),c&&c();break;case"Enter":e.preventDefault(),p&&p()}}}}function I(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,n,r,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)}),[]),n=(0,r.useCallback)(((t,n,r,i)=>{var o;let s=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,s,i),e.current.delete(r)}),[]),i=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>i),[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}a({},"useGlobalListeners",(()=>I));function A(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;if(n=d(n),i&&r){let e=new Set([...i.trim().split(/\s+/),n]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}a({},"useLabels",(()=>A));function N(e){const t=(0,r.useRef)();return u((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),[e]),t}a({},"useObjectRef",(()=>N));function L(e,t){const n=(0,r.useRef)(!0);(0,r.useEffect)((()=>{n.current?n.current=!1:e()}),t)}a({},"useUpdateEffect",(()=>L));function D(e){const{ref:t,onResize:n}=e;(0,r.useEffect)((()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver((e=>{e.length&&n()}));return t.observe(e),()=>{e&&t.unobserve(e)}}}}),[n,t])}a({},"useResizeObserver",(()=>D));function R(e,t){u((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}a({},"useSyncRef",(()=>R));function M(e){for(;e&&!U(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function U(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}a({},"getScrollParent",(()=>M));a({},"useViewportSize",(()=>F));let B="undefined"!=typeof window&&window.visualViewport;function F(){let[e,t]=(0,r.useState)((()=>H()));return(0,r.useEffect)((()=>{let e=()=>{t((e=>{let t=H();return t.width===e.width&&t.height===e.height?e:t}))};return B?B.addEventListener("resize",e):window.addEventListener("resize",e),()=>{B?B.removeEventListener("resize",e):window.removeEventListener("resize",e)}}),[]),e}function H(){return{width:(null==B?void 0:B.width)||window.innerWidth,height:(null==B?void 0:B.height)||window.innerHeight}}a({},"useDescription",(()=>W));let q=0;const V=new Map;function W(e){let[t,n]=(0,r.useState)(null);return u((()=>{if(!e)return;let t=V.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+q++;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},V.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),V.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}var z={};function G(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function K(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test((window.navigator.userAgentData||window.navigator).platform)}function X(){return K(/^Mac/i)}function Y(){return K(/^iPhone/i)}function $(){return K(/^iPad/i)||X()&&navigator.maxTouchPoints>1}function Q(){return Y()||$()}function Z(){return X()||Q()}function J(){return G(/AppleWebKit/i)&&!ee()}function ee(){return G(/Chrome/i)}function te(){return G(/Android/i)}a(z,"isMac",(()=>X)),a(z,"isIPhone",(()=>Y)),a(z,"isIPad",(()=>$)),a(z,"isIOS",(()=>Q)),a(z,"isAppleDevice",(()=>Z)),a(z,"isWebKit",(()=>J)),a(z,"isChrome",(()=>ee)),a(z,"isAndroid",(()=>te));function ne(e,t,n,i){let o=(0,r.useRef)(n);o.current=n;let s=null==n;(0,r.useEffect)((()=>{if(s)return;let n=e.current,r=e=>o.current.call(this,e);return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}),[e,t,i,s])}a({},"useEvent",(()=>ne));function re(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(t),o=(0,r.useRef)(null);i.current=t;let s=(0,r.useRef)(null);s.current=()=>{let e=o.current.next();e.done?o.current=null:t===e.value?s.current():n(e.value)},u((()=>{o.current&&s.current()}));let a=(0,r.useCallback)((e=>{o.current=e(i.current),s.current()}),[o,s]);return[t,a]}a({},"useValueEffect",(()=>re));function ie(e,t){let n=oe(e,t,"left"),r=oe(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,s=e.scrollLeft,a=e.scrollTop,l=s+e.offsetWidth,u=a+e.offsetHeight;n<=s?s=n:n+i>l&&(s+=n+i-l),r<=a?a=r:r+o>u&&(a+=r+o-u),e.scrollLeft=s,e.scrollTop=a}function oe(e,t,n){const r="left"===n?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}function se(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}a({},"scrollIntoView",(()=>ie));se({},"Pressable",(()=>je));se({},"usePress",(()=>ge));let ae="default",le="",ue=new WeakMap;function ce(e){Q()?("default"===ae&&(le=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),ae="disabled"):e&&(ue.set(e,e.style.userSelect),e.style.userSelect="none")}function de(e){if(Q()){if("disabled"!==ae)return;ae="restoring",setTimeout((()=>{C((()=>{"restoring"===ae&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=le||""),le="",ae="default")}))}),300)}else if(e&&ue.has(e)){let t=ue.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),ue.delete(e)}}function pe(e){return!(0!==e.mozInputSource||!e.isTrusted)||0===e.detail&&!e.pointerType}class fe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function he(e){let t=(0,r.useRef)({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,u((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),(0,r.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=e.target,r=e=>{var r,i;t.current.isFocused=!1,n.disabled&&(null===(i=(r=t.current).onBlur)||void 0===i||i.call(r,new fe("blur",e))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver((()=>{t.current.isFocused&&n.disabled&&(t.current.observer.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))})),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}}),[])}const me=r.createContext(null);function ge(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:s,isDisabled:a,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:d,ref:p,...f}=function(e){let t=(0,r.useContext)(me);if(t){let{register:n,...r}=t;e=m(r,e),n()}return R(t,e.ref),e}(e),h=(0,r.useRef)(null);h.current={onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:s,isDisabled:a,shouldCancelOnPointerExit:c};let[g,v]=(0,r.useState)(!1),y=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:_,removeAllGlobalListeners:b}=I(),E=(0,r.useMemo)((()=>{let e=y.current,t=(t,n)=>{let{onPressStart:r,onPressChange:i,isDisabled:o}=h.current;o||e.didFirePressStart||(r&&r({type:"pressstart",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),i&&i(!0),e.didFirePressStart=!0,v(!0))},n=(t,n,r=!0)=>{let{onPressEnd:i,onPressChange:o,onPress:s,isDisabled:a}=h.current;e.didFirePressStart&&(e.ignoreClickAfterPress=!0,e.didFirePressStart=!1,i&&i({type:"pressend",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),o&&o(!1),v(!1),s&&r&&!a&&s({type:"press",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}))},r=(e,t)=>{let{onPressUp:n,isDisabled:r}=h.current;r||n&&n({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})},i=t=>{e.isPressed&&(e.isOverTarget&&n(be(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,b(),d||de(e.target))},o={onKeyDown(n){ye(n.nativeEvent)&&n.currentTarget.contains(n.target)&&(we(n.target)&&n.preventDefault(),n.stopPropagation(),e.isPressed||n.repeat||(e.target=n.currentTarget,e.isPressed=!0,t(n,"keyboard"),_(document,"keyup",s,!1)))},onKeyUp(t){ye(t.nativeEvent)&&!t.repeat&&t.currentTarget.contains(t.target)&&r(be(e.target,t),"keyboard")},onClick(i){i&&!i.currentTarget.contains(i.target)||i&&0===i.button&&(i.stopPropagation(),a&&i.preventDefault(),e.ignoreClickAfterPress||e.ignoreEmulatedMouseEvents||"virtual"!==e.pointerType&&!pe(i.nativeEvent)||(a||u||T(i.currentTarget),t(i,"virtual"),r(i,"virtual"),n(i,"virtual")),e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1)}},s=t=>{if(e.isPressed&&ye(t)){we(t.target)&&t.preventDefault(),t.stopPropagation(),e.isPressed=!1;let r=t.target;n(be(e.target,t),"keyboard",e.target.contains(r)),b(),(e.target.contains(r)&&ve(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){o.onPointerDown=n=>{var r;0===n.button&&n.currentTarget.contains(n.target)&&(0===(r=n.nativeEvent).width&&0===r.height||1===r.width&&1===r.height&&0===r.pressure&&0===r.detail&&"mouse"===r.pointerType?e.pointerType="virtual":(Ee(n.currentTarget)&&n.preventDefault(),e.pointerType=n.pointerType,n.stopPropagation(),e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=n.pointerId,e.target=n.currentTarget,a||u||T(n.currentTarget),d||ce(e.target),t(n,e.pointerType),_(document,"pointermove",s,!1),_(document,"pointerup",l,!1),_(document,"pointercancel",c,!1))))},o.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(Ee(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},o.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&Te(t,t.currentTarget)&&r(t,e.pointerType||t.pointerType)};let s=r=>{r.pointerId===e.activePointerId&&(Te(r,e.target)?e.isOverTarget||(e.isOverTarget=!0,t(be(e.target,r),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,n(be(e.target,r),e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(r)))},l=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(Te(t,e.target)?n(be(e.target,t),e.pointerType):e.isOverTarget&&n(be(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,b(),d||de(e.target))},c=e=>{i(e)};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&i(e)}}else{o.onMouseDown=n=>{0===n.button&&n.currentTarget.contains(n.target)&&(Ee(n.currentTarget)&&n.preventDefault(),n.stopPropagation(),e.ignoreEmulatedMouseEvents||(e.isPressed=!0,e.isOverTarget=!0,e.target=n.currentTarget,e.pointerType=pe(n.nativeEvent)?"virtual":"mouse",a||u||T(n.currentTarget),t(n,e.pointerType),_(document,"mouseup",s,!1)))},o.onMouseEnter=n=>{n.currentTarget.contains(n.target)&&(n.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,t(n,e.pointerType)))},o.onMouseLeave=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,n(t,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(t)))},o.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||r(t,e.pointerType))};let s=t=>{0===t.button&&(e.isPressed=!1,b(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(Te(t,e.target)?n(be(e.target,t),e.pointerType):e.isOverTarget&&n(be(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};o.onTouchStart=n=>{if(!n.currentTarget.contains(n.target))return;n.stopPropagation();let r=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(n.nativeEvent);r&&(e.activePointerId=r.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=n.currentTarget,e.pointerType="touch",a||u||T(n.currentTarget),d||ce(e.target),t(n,e.pointerType),_(window,"scroll",l,!0))},o.onTouchMove=r=>{if(!r.currentTarget.contains(r.target))return;if(r.stopPropagation(),!e.isPressed)return;let o=_e(r.nativeEvent,e.activePointerId);o&&Te(o,r.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,t(r,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,n(r,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(r))},o.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(t.stopPropagation(),!e.isPressed)return;let i=_e(t.nativeEvent,e.activePointerId);i&&Te(i,t.currentTarget)?(r(t,e.pointerType),n(t,e.pointerType)):e.isOverTarget&&n(t,e.pointerType,!1),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,d||de(e.target),b()},o.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&i(t))};let l=t=>{e.isPressed&&t.target.contains(e.target)&&i({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&i(e)}}return o}),[_,a,u,b,d]);return(0,r.useEffect)((()=>()=>{d||de(y.current.target)}),[d]),{isPressed:l||g,pressProps:m(f,E)}}function ve(e){return"A"===e.tagName&&e.hasAttribute("href")}function ye(e){const{key:t,code:n,target:r}=e,i=r,{tagName:o,isContentEditable:s}=i,a=i.getAttribute("role");return!("Enter"!==t&&" "!==t&&"Spacebar"!==t&&"Space"!==n||"INPUT"===o||"TEXTAREA"===o||!0===s||ve(i)&&("button"!==a||"Enter"===t)||"link"===a&&"Enter"!==t)}function _e(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const r=n[e];if(r.identifier===t)return r}return null}function be(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Te(e,t){let n=t.getBoundingClientRect(),r=function(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);return o=r,!((i=n).left>o.right||o.left>i.right||i.top>o.bottom||o.top>i.bottom);var i,o}function Ee(e){return!e.draggable}function we(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&"submit"===e.type)}me.displayName="PressResponderContext";const je=r.forwardRef((({children:e,...t},n)=>{let i=(0,r.useRef)();n=null!=n?n:i;let{pressProps:o}=ge({...t,ref:n}),s=r.Children.only(e);return r.cloneElement(s,{ref:n,...m(s.props,o)})}));se({},"PressResponder",(()=>Se));const Se=r.forwardRef((({children:e,...t},n)=>{let i=(0,r.useRef)(!1),o=(0,r.useContext)(me),s=m(o||{},{...t,ref:n||(null==o?void 0:o.ref),register(){i.current=!0,o&&o.register()}});return R(o,n),(0,r.useEffect)((()=>{i.current||console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component.")}),[]),r.createElement(me.Provider,{value:s},e)}));function ke(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:o}=e;const s=(0,r.useCallback)((e=>{if(e.target===e.currentTarget)return i&&i(e),o&&o(!1),!0}),[i,o]),a=he(s),l=(0,r.useCallback)((e=>{e.target===e.currentTarget&&(n&&n(e),o&&o(!0),a(e))}),[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||i)?l:void 0,onBlur:t||!i&&!o?null:s}}}se({},"useFocus",(()=>ke));var xe={};se(xe,"isFocusVisible",(()=>He)),se(xe,"getInteractionModality",(()=>qe)),se(xe,"setInteractionModality",(()=>Ve)),se(xe,"useInteractionModality",(()=>We)),se(xe,"useFocusVisible",(()=>ze)),se(xe,"useFocusVisibleListener",(()=>Ge));let Ce=null,Pe=new Set,Oe=!1,Ie=!1,Ae=!1;const Ne={Tab:!0,Escape:!0};function Le(e,t){for(let n of Pe)n(e,t)}function De(e){Ie=!0,function(e){return!(e.metaKey||!X()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Ce="keyboard",Le("keyboard",e))}function Re(e){Ce="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Ie=!0,Le("pointer",e))}function Me(e){pe(e)&&(Ie=!0,Ce="virtual")}function Ue(e){e.target!==window&&e.target!==document&&(Ie||Ae||(Ce="virtual",Le("virtual",e)),Ie=!1,Ae=!1)}function Be(){Ie=!1,Ae=!0}function Fe(){if("undefined"==typeof window||Oe)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){Ie=!0,e.apply(this,arguments)},document.addEventListener("keydown",De,!0),document.addEventListener("keyup",De,!0),document.addEventListener("click",Me,!0),window.addEventListener("focus",Ue,!0),window.addEventListener("blur",Be,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",Re,!0),document.addEventListener("pointermove",Re,!0),document.addEventListener("pointerup",Re,!0)):(document.addEventListener("mousedown",Re,!0),document.addEventListener("mousemove",Re,!0),document.addEventListener("mouseup",Re,!0)),Oe=!0}function He(){return"pointer"!==Ce}function qe(){return Ce}function Ve(e){Ce=e,Le(e,null)}function We(){Fe();let[e,t]=(0,r.useState)(Ce);return(0,r.useEffect)((()=>{let e=()=>{t(Ce)};return Pe.add(e),()=>{Pe.delete(e)}}),[]),e}function ze(e={}){let{isTextInput:t,autoFocus:n}=e,[i,o]=(0,r.useState)(n||He());return Ge((e=>{o(e)}),[t],{isTextInput:t}),{isFocusVisible:i}}function Ge(e,t,n){Fe(),(0,r.useEffect)((()=>{let t=(t,r)=>{(function(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!Ne[n.key])})(null==n?void 0:n.isTextInput,t,r)&&e(He())};return Pe.add(t),()=>{Pe.delete(t)}}),t)}"undefined"!=typeof document&&("loading"!==document.readyState?Fe():document.addEventListener("DOMContentLoaded",Fe));function Ke(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:o}=e,s=(0,r.useRef)({isFocusWithin:!1}),a=(0,r.useCallback)((e=>{s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(e),o&&o(!1))}),[n,o,s]),l=he(a),u=(0,r.useCallback)((e=>{s.current.isFocusWithin||(i&&i(e),o&&o(!0),s.current.isFocusWithin=!0,l(e))}),[i,o,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:u,onBlur:a}}}se({},"useFocusWithin",(()=>Ke));se({},"useHover",(()=>Je));let Xe=!1,Ye=0;function $e(){Xe=!0,setTimeout((()=>{Xe=!1}),50)}function Qe(e){"touch"===e.pointerType&&$e()}function Ze(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",Qe):document.addEventListener("touchend",$e),Ye++,()=>{Ye--,Ye>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",Qe):document.removeEventListener("touchend",$e))}}function Je(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:i,isDisabled:o}=e,[s,a]=(0,r.useState)(!1),l=(0,r.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,r.useEffect)(Ze,[]);let{hoverProps:u,triggerHoverEnd:c}=(0,r.useMemo)((()=>{let e=(e,r)=>{if(l.pointerType=r,o||"touch"===r||l.isHovered||!e.currentTarget.contains(e.target))return;l.isHovered=!0;let i=e.currentTarget;l.target=i,t&&t({type:"hoverstart",target:i,pointerType:r}),n&&n(!0),a(!0)},r=(e,t)=>{if(l.pointerType="",l.target=null,"touch"===t||!l.isHovered)return;l.isHovered=!1;let r=e.currentTarget;i&&i({type:"hoverend",target:r,pointerType:t}),n&&n(!1),a(!1)},s={};return"undefined"!=typeof PointerEvent?(s.onPointerEnter=t=>{Xe&&"mouse"===t.pointerType||e(t,t.pointerType)},s.onPointerLeave=e=>{!o&&e.currentTarget.contains(e.target)&&r(e,e.pointerType)}):(s.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},s.onMouseEnter=t=>{l.ignoreEmulatedMouseEvents||Xe||e(t,"mouse"),l.ignoreEmulatedMouseEvents=!1},s.onMouseLeave=e=>{!o&&e.currentTarget.contains(e.target)&&r(e,"mouse")}),{hoverProps:s,triggerHoverEnd:r}}),[t,n,i,o,l]);return(0,r.useEffect)((()=>{o&&c({currentTarget:l.target},l.pointerType)}),[o]),{hoverProps:u,isHovered:s}}function et(e){let{ref:t,onInteractOutside:n,isDisabled:i,onInteractOutsideStart:o}=e,s=(0,r.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:n,onInteractOutsideStart:o}).current;s.onInteractOutside=n,s.onInteractOutsideStart=o,(0,r.useEffect)((()=>{if(i)return;let e=e=>{tt(e,t)&&s.onInteractOutside&&(s.onInteractOutsideStart&&s.onInteractOutsideStart(e),s.isPointerDown=!0)};if("undefined"!=typeof PointerEvent){let n=e=>{s.isPointerDown&&s.onInteractOutside&&tt(e,t)&&(s.isPointerDown=!1,s.onInteractOutside(e))};return document.addEventListener("pointerdown",e,!0),document.addEventListener("pointerup",n,!0),()=>{document.removeEventListener("pointerdown",e,!0),document.removeEventListener("pointerup",n,!0)}}{let n=e=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&s.onInteractOutside&&tt(e,t)&&(s.isPointerDown=!1,s.onInteractOutside(e))},r=e=>{s.ignoreEmulatedMouseEvents=!0,s.onInteractOutside&&s.isPointerDown&&tt(e,t)&&(s.isPointerDown=!1,s.onInteractOutside(e))};return document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",n,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",r,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("mouseup",n,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",r,!0)}}}),[t,s,i])}function tt(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1}return t.current&&!t.current.contains(e.target)}se({},"useInteractOutside",(()=>et));function nt(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function rt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:nt(e.onKeyDown),onKeyUp:nt(e.onKeyUp)}}}se({},"useKeyboard",(()=>rt));function it(e){let{onMoveStart:t,onMove:n,onMoveEnd:i}=e,o=(0,r.useRef)({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:s,removeGlobalListener:a}=I();return{moveProps:(0,r.useMemo)((()=>{let e={},r=()=>{ce(),o.current.didMove=!1},l=(e,r,i,s)=>{0===i&&0===s||(o.current.didMove||(o.current.didMove=!0,null==t||t({type:"movestart",pointerType:r,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})),n({type:"move",pointerType:r,deltaX:i,deltaY:s,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}))},u=(e,t)=>{de(),o.current.didMove&&(null==i||i({type:"moveend",pointerType:t,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey}))};if("undefined"==typeof PointerEvent){let t=e=>{0===e.button&&(l(e,"mouse",e.pageX-o.current.lastPosition.pageX,e.pageY-o.current.lastPosition.pageY),o.current.lastPosition={pageX:e.pageX,pageY:e.pageY})},n=e=>{0===e.button&&(u(e,"mouse"),a(window,"mousemove",t,!1),a(window,"mouseup",n,!1))};e.onMouseDown=e=>{0===e.button&&(r(),e.stopPropagation(),e.preventDefault(),o.current.lastPosition={pageX:e.pageX,pageY:e.pageY},s(window,"mousemove",t,!1),s(window,"mouseup",n,!1))};let i=e=>{let t=[...e.changedTouches].findIndex((({identifier:e})=>e===o.current.id));if(t>=0){let{pageX:n,pageY:r}=e.changedTouches[t];l(e,"touch",n-o.current.lastPosition.pageX,r-o.current.lastPosition.pageY),o.current.lastPosition={pageX:n,pageY:r}}},c=e=>{[...e.changedTouches].findIndex((({identifier:e})=>e===o.current.id))>=0&&(u(e,"touch"),o.current.id=null,a(window,"touchmove",i),a(window,"touchend",c),a(window,"touchcancel",c))};e.onTouchStart=e=>{if(0===e.changedTouches.length||null!=o.current.id)return;let{pageX:t,pageY:n,identifier:a}=e.changedTouches[0];r(),e.stopPropagation(),e.preventDefault(),o.current.lastPosition={pageX:t,pageY:n},o.current.id=a,s(window,"touchmove",i,!1),s(window,"touchend",c,!1),s(window,"touchcancel",c,!1)}}else{let t=e=>{if(e.pointerId===o.current.id){let t=e.pointerType||"mouse";l(e,t,e.pageX-o.current.lastPosition.pageX,e.pageY-o.current.lastPosition.pageY),o.current.lastPosition={pageX:e.pageX,pageY:e.pageY}}},n=e=>{if(e.pointerId===o.current.id){let r=e.pointerType||"mouse";u(e,r),o.current.id=null,a(window,"pointermove",t,!1),a(window,"pointerup",n,!1),a(window,"pointercancel",n,!1)}};e.onPointerDown=e=>{0===e.button&&null==o.current.id&&(r(),e.stopPropagation(),e.preventDefault(),o.current.lastPosition={pageX:e.pageX,pageY:e.pageY},o.current.id=e.pointerId,s(window,"pointermove",t,!1),s(window,"pointerup",n,!1),s(window,"pointercancel",n,!1))}}let c=(e,t,n)=>{r(),l(e,"keyboard",t,n),u(e,"keyboard")};return e.onKeyDown=e=>{switch(e.key){case"Left":case"ArrowLeft":e.preventDefault(),e.stopPropagation(),c(e,-1,0);break;case"Right":case"ArrowRight":e.preventDefault(),e.stopPropagation(),c(e,1,0);break;case"Up":case"ArrowUp":e.preventDefault(),e.stopPropagation(),c(e,0,-1);break;case"Down":case"ArrowDown":e.preventDefault(),e.stopPropagation(),c(e,0,1)}},e}),[o,t,n,i,s,a])}}se({},"useMove",(()=>it));function ot(e,t){let{onScroll:n,isDisabled:i}=e,o=(0,r.useCallback)((e=>{e.ctrlKey||(e.preventDefault(),e.stopPropagation(),n&&n({deltaX:e.deltaX,deltaY:e.deltaY}))}),[n]);ne(t,"wheel",i?null:o)}se({},"useScrollWheel",(()=>ot));se({},"useLongPress",(()=>at));const st=500;function at(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:i,onLongPress:o,threshold:s=st,accessibilityDescription:a}=e;const l=(0,r.useRef)(null);let{addGlobalListener:u,removeGlobalListener:c}=I(),{pressProps:d}=ge({isDisabled:t,onPressStart(e){if(("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout((()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...e,type:"longpress"}),l.current=null}),s),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};u(e.target,"contextmenu",t,{once:!0}),u(window,"pointerup",(()=>{setTimeout((()=>{c(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!i||"mouse"!==e.pointerType&&"touch"!==e.pointerType||i({...e,type:"longpressend"})}});return{longPressProps:m(d,W(o&&!t?a:null))}}},"./node_modules/@react-aria/overlays/dist/module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DismissButton:function(){return Yr},ModalProvider:function(){return lr},OverlayContainer:function(){return pr},OverlayProvider:function(){return dr},ariaHideOutside:function(){return Qr},useModal:function(){return fr},useModalProvider:function(){return ur},useOverlay:function(){return Jn},useOverlayPosition:function(){return $n},useOverlayTrigger:function(){return er},usePreventScroll:function(){return rr}});var r=n("./node_modules/react/index.js"),i=n("./node_modules/@react-aria/ssr/dist/module.js"),o=n("./node_modules/clsx/dist/clsx.m.js"),s=n("./node_modules/@react-stately/utils/dist/module.js");function a(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var l={};a(l,"useId",(()=>d)),a(l,"mergeIds",(()=>p)),a(l,"useSlotId",(()=>f));a({},"useLayoutEffect",(()=>u));const u="undefined"!=typeof window?r.useLayoutEffect:()=>{};let c=new Map;function d(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(null),s=(0,i.gP)(t),a=(0,r.useCallback)((e=>{o.current=e}),[]);return c.set(s,a),u((()=>{let e=s;return()=>{c.delete(e)}}),[s]),(0,r.useEffect)((()=>{let e=o.current;e&&(o.current=null,n(e))})),s}function p(e,t){if(e===t)return e;let n=c.get(e);if(n)return n(t),t;let r=c.get(t);return r?(r(e),e):t}function f(e=[]){let t=d(),[n,i]=re(t),o=(0,r.useCallback)((()=>{i((function*(){yield t,yield document.getElementById(t)?t:null}))}),[t,i]);return u(o,[t,o,...e]),n}function h(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}a({},"chain",(()=>h));function m(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=h(n,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?"id"===e&&n&&i?t.id=p(n,i):t[e]=void 0!==i?i:n:t[e]=(0,o.Z)(n,i)}}return t}a({},"mergeProps",(()=>m));function g(...e){return t=>{for(let n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}}a({},"mergeRefs",(()=>g));a({},"filterDOMProps",(()=>b));const v=new Set(["id"]),y=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),_=/^(data-.*)$/;function b(e,t={}){let{labelable:n,propNames:r}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(v.has(t)||n&&y.has(t)||(null==r?void 0:r.has(t))||_.test(t))&&(i[t]=e[t]);return i}function T(e){if(function(){if(null==E){E=!1;try{document.createElement("div").focus({get preventScroll(){return E=!0,!0}})}catch(e){}}return E}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}a({},"focusWithoutScrolling",(()=>T));let E=null;function w(e,t,n="horizontal"){let r=e.getBoundingClientRect();return t?"horizontal"===n?r.right:r.bottom:"horizontal"===n?r.left:r.top}a({},"getOffset",(()=>w));var j={};a(j,"clamp",(()=>s.uZ)),a(j,"snapValueToStep",(()=>s.N4));a({},"runAfterTransition",(()=>C));let S=new Map,k=new Set;function x(){if("undefined"==typeof window)return;let e=t=>{let n=S.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),S.delete(t.target)),0===S.size)){for(let e of k)e();k.clear()}};document.body.addEventListener("transitionrun",(t=>{let n=S.get(t.target);n||(n=new Set,S.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function C(e){requestAnimationFrame((()=>{0===S.size?e():k.add(e)}))}"undefined"!=typeof document&&("loading"!==document.readyState?x():document.addEventListener("DOMContentLoaded",x));a({},"useDrag1D",(()=>O));const P=[];function O(e){console.warn("useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html");let{containerRef:t,reverse:n,orientation:i,onHover:o,onDrag:s,onPositionChange:a,onIncrement:l,onDecrement:u,onIncrementToMax:c,onDecrementToMin:d,onCollapseToggle:p}=e,f=e=>{let r=w(t.current,n,i),o=(e=>"horizontal"===i?e.clientX:e.clientY)(e);return n?r-o:o-r},h=(0,r.useRef)(!1),m=(0,r.useRef)(0),g=(0,r.useRef)({onPositionChange:a,onDrag:s});g.current.onDrag=s,g.current.onPositionChange=a;let v=e=>{e.preventDefault();let t=f(e);h.current||(h.current=!0,g.current.onDrag&&g.current.onDrag(!0),g.current.onPositionChange&&g.current.onPositionChange(t)),m.current!==t&&(m.current=t,a&&a(t))},y=e=>{const t=e.target;h.current=!1;let n=f(e);g.current.onDrag&&g.current.onDrag(!1),g.current.onPositionChange&&g.current.onPositionChange(n),P.splice(P.indexOf(t),1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("mousemove",v,!1)};return{onMouseDown:e=>{const t=e.currentTarget;P.some((e=>t.contains(e)))||(P.push(t),window.addEventListener("mousemove",v,!1),window.addEventListener("mouseup",y,!1))},onMouseEnter:()=>{o&&o(!0)},onMouseOut:()=>{o&&o(!1)},onKeyDown:e=>{switch(e.key){case"Left":case"ArrowLeft":"horizontal"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Up":case"ArrowUp":"vertical"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Right":case"ArrowRight":"horizontal"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Down":case"ArrowDown":"vertical"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Home":e.preventDefault(),d&&d();break;case"End":e.preventDefault(),c&&c();break;case"Enter":e.preventDefault(),p&&p()}}}}function I(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,n,r,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)}),[]),n=(0,r.useCallback)(((t,n,r,i)=>{var o;let s=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,s,i),e.current.delete(r)}),[]),i=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>i),[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}a({},"useGlobalListeners",(()=>I));function A(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;if(n=d(n),i&&r){let e=new Set([...i.trim().split(/\s+/),n]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}a({},"useLabels",(()=>A));function N(e){const t=(0,r.useRef)();return u((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),[e]),t}a({},"useObjectRef",(()=>N));function L(e,t){const n=(0,r.useRef)(!0);(0,r.useEffect)((()=>{n.current?n.current=!1:e()}),t)}a({},"useUpdateEffect",(()=>L));function D(e){const{ref:t,onResize:n}=e;(0,r.useEffect)((()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver((e=>{e.length&&n()}));return t.observe(e),()=>{e&&t.unobserve(e)}}}}),[n,t])}a({},"useResizeObserver",(()=>D));function R(e,t){u((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}a({},"useSyncRef",(()=>R));function M(e){for(;e&&!U(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function U(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}a({},"getScrollParent",(()=>M));a({},"useViewportSize",(()=>F));let B="undefined"!=typeof window&&window.visualViewport;function F(){let[e,t]=(0,r.useState)((()=>H()));return(0,r.useEffect)((()=>{let e=()=>{t((e=>{let t=H();return t.width===e.width&&t.height===e.height?e:t}))};return B?B.addEventListener("resize",e):window.addEventListener("resize",e),()=>{B?B.removeEventListener("resize",e):window.removeEventListener("resize",e)}}),[]),e}function H(){return{width:(null==B?void 0:B.width)||window.innerWidth,height:(null==B?void 0:B.height)||window.innerHeight}}a({},"useDescription",(()=>W));let q=0;const V=new Map;function W(e){let[t,n]=(0,r.useState)(null);return u((()=>{if(!e)return;let t=V.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+q++;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},V.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),V.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}var z={};function G(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function K(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test((window.navigator.userAgentData||window.navigator).platform)}function X(){return K(/^Mac/i)}function Y(){return K(/^iPhone/i)}function $(){return K(/^iPad/i)||X()&&navigator.maxTouchPoints>1}function Q(){return Y()||$()}function Z(){return X()||Q()}function J(){return G(/AppleWebKit/i)&&!ee()}function ee(){return G(/Chrome/i)}function te(){return G(/Android/i)}a(z,"isMac",(()=>X)),a(z,"isIPhone",(()=>Y)),a(z,"isIPad",(()=>$)),a(z,"isIOS",(()=>Q)),a(z,"isAppleDevice",(()=>Z)),a(z,"isWebKit",(()=>J)),a(z,"isChrome",(()=>ee)),a(z,"isAndroid",(()=>te));function ne(e,t,n,i){let o=(0,r.useRef)(n);o.current=n;let s=null==n;(0,r.useEffect)((()=>{if(s)return;let n=e.current,r=e=>o.current.call(this,e);return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}),[e,t,i,s])}a({},"useEvent",(()=>ne));function re(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(t),o=(0,r.useRef)(null);i.current=t;let s=(0,r.useRef)(null);s.current=()=>{let e=o.current.next();e.done?o.current=null:t===e.value?s.current():n(e.value)},u((()=>{o.current&&s.current()}));let a=(0,r.useCallback)((e=>{o.current=e(i.current),s.current()}),[o,s]);return[t,a]}a({},"useValueEffect",(()=>re));function ie(e,t){let n=oe(e,t,"left"),r=oe(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,s=e.scrollLeft,a=e.scrollTop,l=s+e.offsetWidth,u=a+e.offsetHeight;n<=s?s=n:n+i>l&&(s+=n+i-l),r<=a?a=r:r+o>u&&(a+=r+o-u),e.scrollLeft=s,e.scrollTop=a}function oe(e,t,n){const r="left"===n?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}a({},"scrollIntoView",(()=>ie));var se=n("./node_modules/@react-aria/interactions/dist/module.js");function ae(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var le={};ae(le,"useVisuallyHidden",(()=>ce)),ae(le,"VisuallyHidden",(()=>de));const ue={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"};function ce(e={}){let{style:t,isFocusable:n}=e,[i,o]=(0,r.useState)(!1),{focusProps:s}=(0,se.KK)({isDisabled:!n,onFocusChange:o});return{visuallyHiddenProps:{...s,style:(0,r.useMemo)((()=>i?t:t?{...ue,...t}:ue),[i])}}}function de(e){let{children:t,elementType:n="div",isFocusable:i,style:o,...s}=e,{visuallyHiddenProps:a}=ce(e);return r.createElement(n,m(s,a),t)}function pe(e){return e&&e.__esModule?e:{default:e}}var fe=n("./node_modules/react-dom/index.js"),he=n("./node_modules/@react-aria/utils/dist/module.js"),me=function(e,t){return me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},me(e,t)};function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}me(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ve.apply(this,arguments)};Object.create;function ye(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var _e,be,Te;Object.create;function Ee(e){return e.type===be.literal}function we(e){return e.type===be.argument}function je(e){return e.type===be.number}function Se(e){return e.type===be.date}function ke(e){return e.type===be.time}function xe(e){return e.type===be.select}function Ce(e){return e.type===be.plural}function Pe(e){return e.type===be.pound}function Oe(e){return e.type===be.tag}function Ie(e){return!(!e||"object"!=typeof e||e.type!==Te.number)}function Ae(e){return!(!e||"object"!=typeof e||e.type!==Te.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(_e||(_e={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(be||(be={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Te||(Te={}));var Ne=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Le=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function De(e){var t={};return e.replace(Le,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Re=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var Me=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ue=/^(@+)?(\+|#+)?[rs]?$/g,Be=/(\*)(0+)|(#+)(0+)|(0+)/g,Fe=/^(0+)$/;function He(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Ue,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function qe(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Ve(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Fe.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function We(e){var t=qe(e);return t||{}}function ze(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ve(ve(ve({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return ve(ve({},e),We(t))}),{}));continue;case"engineering":t=ve(ve(ve({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return ve(ve({},e),We(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Be,(function(e,n,r,i,o,s){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Fe.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Me.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Me,(function(e,n,r,i,o,s){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=i.options[0];"w"===o?t=ve(ve({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=ve(ve({},t),He(o)))}else if(Ue.test(i.stem))t=ve(ve({},t),He(i.stem));else{var s=qe(i.stem);s&&(t=ve(ve({},t),s));var a=Ve(i.stem);a&&(t=ve(ve({},t),a))}}return t}var Ge,Ke={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function Xe(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(Ke[n||""]||Ke[r||""]||Ke["".concat(r,"-001")]||Ke["001"])[0]}var Ye=new RegExp("^".concat(Ne.source,"*")),$e=new RegExp("".concat(Ne.source,"*$"));function Qe(e,t){return{start:e,end:t}}var Ze=!!String.prototype.startsWith,Je=!!String.fromCodePoint,et=!!Object.fromEntries,tt=!!String.prototype.codePointAt,nt=!!String.prototype.trimStart,rt=!!String.prototype.trimEnd,it=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ot=!0;try{ot="a"===(null===(Ge=ft("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Ge?void 0:Ge[0])}catch(e){ot=!1}var st,at=Ze?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},lt=Je?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},ut=et?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],s=i[1];t[o]=s}return t},ct=tt?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},dt=nt?function(e){return e.trimStart()}:function(e){return e.replace(Ye,"")},pt=rt?function(e){return e.trimEnd()}:function(e){return e.replace($e,"")};function ft(e,t){return new RegExp(e,t)}if(ot){var ht=ft("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");st=function(e,t){var n;return ht.lastIndex=t,null!==(n=ht.exec(e)[1])&&void 0!==n?n:""}}else st=function(e,t){for(var n=[];;){var r=ct(e,t);if(void 0===r||vt(r)||yt(r))break;n.push(r),t+=r>=65536?2:1}return lt.apply(void 0,n)};var mt=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((o=this.parseArgument(e,n)).err)return o;r.push(o.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(_e.UNMATCHED_CLOSING_TAG,Qe(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&gt(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;r.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;r.push(o.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:be.pound,location:Qe(s,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:be.literal,value:"<".concat(r,"/>"),location:Qe(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var o=i.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!gt(this.char()))return this.error(_e.INVALID_TAG,Qe(s,this.clonePosition()));var a=this.clonePosition();return r!==this.parseTagName()?this.error(_e.UNMATCHED_CLOSING_TAG,Qe(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:be.tag,value:r,children:o,location:Qe(n,this.clonePosition())},err:null}:this.error(_e.INVALID_TAG,Qe(s,this.clonePosition())))}return this.error(_e.UNCLOSED_TAG,Qe(n,this.clonePosition()))}return this.error(_e.INVALID_TAG,Qe(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var o=this.tryParseUnquoted(e,t);if(o)r+=o;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var a=Qe(n,this.clonePosition());return{val:{type:be.literal,value:r,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(gt(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return lt.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),lt(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Qe(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(_e.EMPTY_ARGUMENT,Qe(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(_e.MALFORMED_ARGUMENT,Qe(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Qe(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:be.argument,value:r,location:Qe(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Qe(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(_e.MALFORMED_ARGUMENT,Qe(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=st(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:Qe(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,o=this.clonePosition(),s=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(s){case"":return this.error(_e.EXPECT_ARGUMENT_TYPE,Qe(o,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition();if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(f=pt(v.val)).length)return this.error(_e.EXPECT_ARGUMENT_STYLE,Qe(this.clonePosition(),this.clonePosition()));l={style:f,styleLocation:Qe(u,this.clonePosition())}}if((y=this.tryParseArgumentClose(r)).err)return y;var c=Qe(r,this.clonePosition());if(l&&at(null==l?void 0:l.style,"::",0)){var d=dt(l.style.slice(2));if("number"===s)return(v=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?v:{val:{type:be.number,value:n,location:c,style:v.val},err:null};if(0===d.length)return this.error(_e.EXPECT_DATE_TIME_SKELETON,c);var p=d;this.locale&&(p=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var s=1+(1&o),a=o<2?1:3+(o>>1),l=Xe(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)n+="a";for(;s-- >0;)n=l+n}else n+="J"===i?"H":i}return n}(d,this.locale));var f={type:Te.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?De(p):{}};return{val:{type:"date"===s?be.date:be.time,value:n,location:c,style:f},err:null}}return{val:{type:"number"===s?be.number:"date"===s?be.date:be.time,value:n,location:c,style:null!==(i=null==l?void 0:l.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var h=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(_e.EXPECT_SELECT_ARGUMENT_OPTIONS,Qe(h,ve({},h)));this.bumpSpace();var m=this.parseIdentifierIfPossible(),g=0;if("select"!==s&&"offset"===m.value){if(!this.bumpIf(":"))return this.error(_e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Qe(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(_e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,_e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),m=this.parseIdentifierIfPossible(),g=v.val}var y,_=this.tryParsePluralOrSelectOptions(e,s,t,m);if(_.err)return _;if((y=this.tryParseArgumentClose(r)).err)return y;var b=Qe(r,this.clonePosition());return"select"===s?{val:{type:be.select,value:n,options:ut(_.val),location:b},err:null}:{val:{type:be.plural,value:n,options:ut(_.val),offset:g,pluralType:"plural"===s?"cardinal":"ordinal",location:b},err:null};default:return this.error(_e.INVALID_ARGUMENT_TYPE,Qe(o,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(_e.EXPECT_ARGUMENT_CLOSING_BRACE,Qe(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(_e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Qe(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(Re).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],s=i.slice(1),a=0,l=s;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:s})}return t}(e)}catch(e){return this.error(_e.INVALID_NUMBER_SKELETON,t)}return{val:{type:Te.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?ze(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,o=!1,s=[],a=new Set,l=r.value,u=r.location;;){if(0===l.length){var c=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(_e.EXPECT_PLURAL_ARGUMENT_SELECTOR,_e.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;u=Qe(c,this.clonePosition()),l=this.message.slice(c.offset,this.offset())}if(a.has(l))return this.error("select"===t?_e.DUPLICATE_SELECT_ARGUMENT_SELECTOR:_e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===l&&(o=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?_e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:_e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Qe(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,n);if(f.err)return f;var h=this.tryParseArgumentClose(p);if(h.err)return h;s.push([l,{value:f.val,location:Qe(p,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(i=this.parseIdentifierIfPossible()).value,u=i.location}return 0===s.length?this.error("select"===t?_e.EXPECT_SELECT_ARGUMENT_SELECTOR:_e.EXPECT_PLURAL_ARGUMENT_SELECTOR,Qe(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(_e.MISSING_OTHER_CLAUSE,Qe(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;i=!0,o=10*o+(s-48),this.bump()}var a=Qe(r,this.clonePosition());return i?it(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=ct(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(at(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&vt(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function gt(e){return e>=97&&e<=122||e>=65&&e<=90}function vt(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function yt(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function _t(e){e.forEach((function(e){if(delete e.location,xe(e)||Ce(e))for(var t in e.options)delete e.options[t].location,_t(e.options[t].value);else je(e)&&Ie(e.style)||(Se(e)||ke(e))&&Ae(e.style)?delete e.style.location:Oe(e)&&_t(e.children)}))}function bt(e,t){void 0===t&&(t={}),t=ve({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new mt(e,t).parse();if(n.err){var r=SyntaxError(_e[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||_t(n.val),n.val}function Tt(e,t){var n=t&&t.cache?t.cache:Pt,r=t&&t.serializer?t.serializer:kt;return(t&&t.strategy?t.strategy:St)(e,{cache:n,serializer:r})}function Et(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),s=t.get(o);return void 0===s&&(s=e.call(this,r),t.set(o,s)),s}function wt(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function jt(e,t,n,r,i){return n.bind(t,e,r,i)}function St(e,t){return jt(e,this,1===e.length?Et:wt,t.cache.create(),t.serializer)}var kt=function(){return JSON.stringify(arguments)};function xt(){this.cache=Object.create(null)}xt.prototype.get=function(e){return this.cache[e]},xt.prototype.set=function(e,t){this.cache[e]=t};var Ct,Pt={create:function(){return new xt}},Ot={variadic:function(e,t){return jt(e,this,wt,t.cache.create(),t.serializer)},monadic:function(e,t){return jt(e,this,Et,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ct||(Ct={}));var It,At=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return ge(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Nt=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ct.INVALID_VALUE,i)||this}return ge(t,e),t}(At),Lt=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ct.INVALID_VALUE,r)||this}return ge(t,e),t}(At),Dt=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ct.MISSING_VALUE,n)||this}return ge(t,e),t}(At);function Rt(e){return"function"==typeof e}function Mt(e,t,n,r,i,o,s){if(1===e.length&&Ee(e[0]))return[{type:It.literal,value:e[0].value}];for(var a=[],l=0,u=e;l<u.length;l++){var c=u[l];if(Ee(c))a.push({type:It.literal,value:c.value});else if(Pe(c))"number"==typeof o&&a.push({type:It.literal,value:n.getNumberFormat(t).format(o)});else{var d=c.value;if(!i||!(d in i))throw new Dt(d,s);var p=i[d];if(we(c))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),a.push({type:"string"==typeof p?It.literal:It.object,value:p});else if(Se(c)){var f="string"==typeof c.style?r.date[c.style]:Ae(c.style)?c.style.parsedOptions:void 0;a.push({type:It.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(ke(c)){f="string"==typeof c.style?r.time[c.style]:Ae(c.style)?c.style.parsedOptions:r.time.medium;a.push({type:It.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(je(c)){(f="string"==typeof c.style?r.number[c.style]:Ie(c.style)?c.style.parsedOptions:void 0)&&f.scale&&(p*=f.scale||1),a.push({type:It.literal,value:n.getNumberFormat(t,f).format(p)})}else{if(Oe(c)){var h=c.children,m=c.value,g=i[m];if(!Rt(g))throw new Lt(m,"function",s);var v=g(Mt(h,t,n,r,i,o).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),a.push.apply(a,v.map((function(e){return{type:"string"==typeof e?It.literal:It.object,value:e}})))}if(xe(c)){if(!(y=c.options[p]||c.options.other))throw new Nt(c.value,p,Object.keys(c.options),s);a.push.apply(a,Mt(y.value,t,n,r,i))}else if(Ce(c)){var y;if(!(y=c.options["=".concat(p)])){if(!Intl.PluralRules)throw new At('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ct.MISSING_INTL_API,s);var _=n.getPluralRules(t,{type:c.pluralType}).select(p-(c.offset||0));y=c.options[_]||c.options.other}if(!y)throw new Nt(c.value,p,Object.keys(c.options),s);a.push.apply(a,Mt(y.value,t,n,r,i,p-(c.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===It.literal&&t.type===It.literal?n.value+=t.value:e.push(t),e}),[])}(a)}function Ut(e,t){return t?Object.keys(e).reduce((function(n,r){var i,o;return n[r]=(i=e[r],(o=t[r])?ve(ve(ve({},i||{}),o||{}),Object.keys(i).reduce((function(e,t){return e[t]=ve(ve({},i[t]),o[t]||{}),e}),{})):i),n}),ve({},e)):e}function Bt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(It||(It={}));var Ft=function(){function e(t,n,r,i){var o,s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===It.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Mt(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){return{locale:s.resolvedLocale.toString()}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ut(e.formats,r),this.formatters=i&&i.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Tt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,ye([void 0],t,!1)))}),{cache:Bt(o.number),strategy:Ot.variadic}),getDateTimeFormat:Tt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,ye([void 0],t,!1)))}),{cache:Bt(o.dateTime),strategy:Ot.variadic}),getPluralRules:Tt((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,ye([void 0],t,!1)))}),{cache:Bt(o.pluralRules),strategy:Ot.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=bt,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Ht=Ft;function qt(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}qt({},"MessageDictionary",(()=>Vt));class Vt{getStringForLocale(e,t){let n=this.messages[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);for(let e in t)if(e.startsWith(r+"-"))return t[e];return t[n]}(t,this.messages,this.defaultLocale),this.messages[t]=n);let r=n[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}constructor(e,t="en-US"){this.messages={...e},this.defaultLocale=t}}qt({},"MessageFormatter",(()=>Wt));class Wt{format(e,t){let n,r=this.cache[e];if(!r){let t=this.messages.getStringForLocale(e,this.locale);if(!t)throw new Error(`Could not find intl message ${e} in ${this.locale} locale`);r=new Ht(t,this.locale),this.cache[e]=r}return t&&(n=Object.keys(t).reduce(((e,n)=>(e[n]=null!=t[n]&&t[n],e)),{})),r.format(n)}constructor(e,t){this.locale=e,this.messages=t,this.cache={}}}new Map;new Map;new WeakMap;new WeakMap;new WeakMap;new WeakMap;let zt=new Map;class Gt{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if("function"==typeof this.formatter.formatRange)return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if("function"==typeof this.formatter.formatRangeToParts)return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(e),r=this.formatter.formatToParts(t);return[...n.map((e=>({...e,source:"startRange"}))),{type:"literal",value:" – ",source:"shared"},...r.map((e=>({...e,source:"endRange"})))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return function(){null==$t&&($t="h12"===new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle);return $t}()&&(this.resolvedHourCycle||(this.resolvedHourCycle=function(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,"");let n=Xt(e+=(e.includes("-u-")?"":"-u")+"-nu-latn",{...t,timeZone:void 0}),r=parseInt(n.formatToParts(new Date(2020,2,3,0)).find((e=>"hour"===e.type)).value,10),i=parseInt(n.formatToParts(new Date(2020,2,3,23)).find((e=>"hour"===e.type)).value,10);if(0===r&&23===i)return"h23";if(24===r&&23===i)return"h24";if(0===r&&11===i)return"h11";if(12===r&&11===i)return"h12";throw new Error("Unexpected hour cycle result")}(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12="h11"===this.resolvedHourCycle||"h12"===this.resolvedHourCycle),e}constructor(e,t={}){this.formatter=Xt(e,t),this.options=t}}const Kt={true:{ja:"h11"},false:{}};function Xt(e,t={}){if("boolean"==typeof t.hour12&&function(){null==Yt&&(Yt="24"===new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0)));return Yt}()){t={...t};let n=Kt[String(t.hour12)][e.split("-")[0]],r=t.hour12?"h12":"h23";t.hourCycle=null!=n?n:r,delete t.hour12}let n=e+(t?Object.entries(t).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(zt.has(n))return zt.get(n);let r=new Intl.DateTimeFormat(e,t);return zt.set(n,r),r}let Yt=null;let $t=null;let Qt=new Map,Zt=!1;try{Zt="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let Jt=!1;try{Jt="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}const en={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class tn{format(e){let t="";if(t=Zt||null==this.options.signDisplay?this.numberFormatter.format(e):function(e,t,n){if("auto"===t)return e.format(n);if("never"===t)return e.format(Math.abs(n));{let r=!1;if("always"===t?r=n>0||Object.is(n,0):"exceptZero"===t&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let t=e.format(-n),r=e.format(n),i=t.replace(r,"").replace(/\u200e|\u061C/,"");return 1!==[...i].length&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),t.replace(r,"!!!").replace(i,"+").replace("!!!",r)}return e.format(n)}}(this.numberFormatter,this.options.signDisplay,e),"unit"===this.options.style&&!Jt){var n;let{unit:e,unitDisplay:r="short",locale:i}=this.resolvedOptions(),o=null===(n=en[e])||void 0===n?void 0:n[r];t+=o[i]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if("function"==typeof this.numberFormatter.formatRange)return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if("function"==typeof this.numberFormatter.formatRangeToParts)return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(t);return[...n.map((e=>({...e,source:"startRange"}))),{type:"literal",value:" – ",source:"shared"},...r.map((e=>({...e,source:"endRange"})))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return Zt||null==this.options.signDisplay||(e={...e,signDisplay:this.options.signDisplay}),Jt||"unit"!==this.options.style||(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=function(e,t={}){let{numberingSystem:n}=t;n&&-1===e.indexOf("-u-nu-")&&(e=`${e}-u-nu-${n}`);if("unit"===t.style&&!Jt){var r;let{unit:e,unitDisplay:n="short"}=t;if(!e)throw new Error('unit option must be provided with style: "unit"');if(!(null===(r=en[e])||void 0===r?void 0:r[n]))throw new Error(`Unsupported unit ${e} with unitDisplay = ${n}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(Qt.has(i))return Qt.get(i);let o=new Intl.NumberFormat(e,t);return Qt.set(i,o),o}(e,t),this.options=t}}new Map;new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function nn(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var rn={};nn(rn,"I18nProvider",(()=>hn)),nn(rn,"useLocale",(()=>mn));const on=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),sn=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function an(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return on.has(t)}let t=e.split("-")[0];return sn.has(t)}function ln(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:an(e)?"rtl":"ltr"}}let un=ln(),cn=new Set;function dn(){un=ln();for(let e of cn)e(un)}function pn(){let e=(0,i.Av)(),[t,n]=(0,r.useState)(un);return(0,r.useEffect)((()=>(0===cn.size&&window.addEventListener("languagechange",dn),cn.add(n),()=>{cn.delete(n),0===cn.size&&window.removeEventListener("languagechange",dn)})),[]),e?{locale:"en-US",direction:"ltr"}:t}const fn=r.createContext(null);function hn(e){let{locale:t,children:n}=e,i=pn(),o=t?{locale:t,direction:an(t)?"rtl":"ltr"}:i;return r.createElement(fn.Provider,{value:o},n)}function mn(){let e=pn();return(0,r.useContext)(fn)||e}nn({},"useMessageFormatter",(()=>vn));const gn=new WeakMap;function vn(e){let{locale:t}=mn(),n=(0,r.useMemo)((()=>function(e){let t=gn.get(e);return t||(t=new Vt(e),gn.set(e,t)),t}(e)),[e]),i=(0,r.useMemo)((()=>new Wt(t,n)),[t,n]);return(0,r.useCallback)(((e,t)=>i.format(e,t)),[i])}function yn(e){let t=(0,r.useRef)(null);e&&t.current&&function(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r of n)if(t[r]!==e[r])return!1;return!0}(e,t.current)&&(e=t.current),t.current=e;let{locale:n}=mn();return(0,r.useMemo)((()=>new Gt(n,e)),[n,e])}nn({},"useDateFormatter",(()=>yn));function _n(e={}){let{locale:t}=mn();return(0,r.useMemo)((()=>new tn(t,e)),[t,e])}nn({},"useNumberFormatter",(()=>_n));nn({},"useCollator",(()=>Tn));let bn=new Map;function Tn(e){let{locale:t}=mn(),n=t+(e?Object.entries(e).sort(((e,t)=>e[0]<t[0]?-1:1)).join():"");if(bn.has(n))return bn.get(n);let r=new Intl.Collator(t,e);return bn.set(n,r),r}function En(e){let t=Tn({usage:"search",...e});return{startsWith(e,n){return 0===n.length||(e=e.normalize("NFC"),n=n.normalize("NFC"),0===t.compare(e.slice(0,n.length),n))},endsWith(e,n){return 0===n.length||(e=e.normalize("NFC"),n=n.normalize("NFC"),0===t.compare(e.slice(-n.length),n))},contains(e,n){if(0===n.length)return!0;e=e.normalize("NFC");let r=0,i=(n=n.normalize("NFC")).length;for(;r+i<=e.length;r++){let o=e.slice(r,r+i);if(0===t.compare(n,o))return!0}return!1}}}nn({},"useFilter",(()=>En));var wn=n("./node_modules/dom-helpers/ownerDocument.js"),jn=n.n(wn),Sn=n("./node_modules/dom-helpers/query/scrollTop.js"),kn=n.n(Sn),xn=n("./node_modules/dom-helpers/query/scrollLeft.js"),Cn=n.n(xn),Pn=n("./node_modules/dom-helpers/query/position.js"),On=n.n(Pn),In=n("./node_modules/dom-helpers/query/offset.js"),An=n.n(In),Nn=n("./node_modules/dom-helpers/style/index.js"),Ln=n.n(Nn),Dn=n("./node_modules/@babel/runtime/helpers/esm/extends.js");const Rn={top:"top",bottom:"top",left:"left",right:"left"},Mn={top:"bottom",bottom:"top",left:"right",right:"left"},Un={top:"left",left:"top"},Bn={top:"height",left:"width"},Fn={};let Hn="undefined"!=typeof window&&window.visualViewport;function qn(e,t,n,r,i){let o=r.scroll[e],s=r[Bn[e]],a=t-i-o,l=t+i-o+n;return a<0?-a:l>s?Math.max(s-l,-a):0}function Vn(e){if(Fn[e])return Fn[e];let[t,n]=e.split(" "),r=Rn[t]||"right",i=Un[r];Rn[n]||(n="center");let o=Bn[r],s=Bn[i];return Fn[e]={placement:t,crossPlacement:n,axis:r,crossAxis:i,size:o,crossSize:s},Fn[e]}function Wn(e,t,n,r,i,o,s,a){let{placement:l,crossPlacement:u,axis:c,crossAxis:d,size:p,crossSize:f}=r,h={};h[d]=e[d],"center"===u?h[d]+=(e[f]-n[f])/2:u!==d&&(h[d]+=e[f]-n[f]),h[d]+=o;let m=e[d]+e[f]/2-n[f],g=e[d]+e[f]/2;if(h[d]=Math.min(Math.max(m,h[d]),g),l===c){const n=a?s[p]:t[p];h[Mn[c]]=Math.floor(n-e[c]+i)}else h[c]=Math.floor(e[c]+e[p]+i);return h}function zn(e,t,n,r,i,o){let{placement:s,axis:a,size:l}=o;return s===a?Math.max(0,n[a]-e[a]-e.scroll[a]+t[a]-r[a]-r[Mn[a]]-i):Math.max(0,e[l]+e[a]+e.scroll[a]-t[a]-n[a]-n[l]-r[a]-r[Mn[a]]-i)}function Gn(e,t,n,r,i,o,s,a,l,u,c,d){let p=Vn(e),{size:f,crossAxis:h,crossSize:m,placement:g,crossPlacement:v}=p,y=Wn(t,a,n,p,u,c,l,d),_=u,b=zn(a,l,t,i,o+u,p);if(s&&r[f]>b){let e=Vn(Mn[g]+" "+v),r=Wn(t,a,n,e,u,c,l,d);zn(a,l,t,i,o+u,e)>b&&(p=e,y=r,_=u)}let T=qn(h,y[h],n[m],a,o);y[h]+=T;let E=function(e,t,n,r,i,o){return null!=e.top?Math.max(0,t.height+t.top+t.scroll.top-(n.top+e.top)-(i.top+i.bottom+o)):Math.max(0,r.top+n.top-(t.top+t.scroll.top)-(i.top+i.bottom+o))}(y,a,l,t,i,o);n.height=Math.min(n.height,E),y=Wn(t,a,n,p,_,c,l,d),T=qn(h,y[h],n[m],a,o),y[h]+=T;let w={};return w[h]=t[h]-y[h]+t[m]/2,{position:y,maxHeight:E,arrowOffsetLeft:w.left,arrowOffsetTop:w.top,placement:p.placement}}function Kn(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:i,padding:o,shouldFlip:s,boundaryElement:a,offset:l,crossOffset:u}=e,c=r.offsetParent||document.body,d="BODY"===c.tagName;const p=window.getComputedStyle(c).position;let f=!!p&&"static"!==p,h=d?An()(n):On()(n,c);d||(h.top+=parseInt(Ln()(n,"marginTop"),10)||0,h.left+=parseInt(Ln()(n,"marginLeft"),10)||0);let m=An()(r),g=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(r);var v;return m.width+=g.left+g.right,m.height+=g.top+g.bottom,Gn(t,h,m,{top:(v=i).scrollTop,left:v.scrollLeft,width:v.scrollWidth,height:v.scrollHeight},g,o,s,function(e){let t=0,n=0,r=0,i=0,o={};var s,a;return"BODY"===e.tagName?(t=null!=(s=null==Hn?void 0:Hn.width)?s:document.documentElement.clientWidth,n=null!=(a=null==Hn?void 0:Hn.height)?a:document.documentElement.clientHeight,o.top=kn()(jn()(e).documentElement)||kn()(e),o.left=Cn()(jn()(e).documentElement)||Cn()(e)):(({width:t,height:n,top:r,left:i}=An()(e)),o.top=kn()(e),o.left=Cn()(e)),{width:t,height:n,scroll:o,top:r,left:i}}(a),"BODY"===a.tagName?An()(c):On()(c,a),l,u,f)}const Xn=new WeakMap;let Yn="undefined"!=typeof window&&window.visualViewport;function $n(e){let{direction:t}=mn(),{targetRef:n,overlayRef:i,scrollRef:o=i,placement:s="bottom",containerPadding:a=12,shouldFlip:l=!0,boundaryElement:u=("undefined"!=typeof document?document.body:null),offset:c=0,crossOffset:d=0,shouldUpdatePosition:p=!0,isOpen:f=!0,onClose:h}=e,[m,g]=(0,r.useState)({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),v=[p,s,i.current,n.current,o.current,a,l,u,c,d,f,t],y=(0,r.useCallback)((()=>{!1!==p&&f&&i.current&&n.current&&o.current&&u&&g(Kn({placement:Qn(s,t),overlayNode:i.current,targetNode:n.current,scrollNode:o.current,padding:a,shouldFlip:l,boundaryElement:u,offset:c,crossOffset:d}))}),v);var _;(0,r.useEffect)(y,v),_=y,(0,r.useEffect)((()=>(window.addEventListener("resize",_,!1),()=>{window.removeEventListener("resize",_,!1)})),[_]);let b=(0,r.useRef)(!1);(0,r.useEffect)((()=>{let e,t=()=>{b.current=!0,clearTimeout(e),e=setTimeout((()=>{b.current=!1}),500),y()};return null==Yn||Yn.addEventListener("resize",t),()=>{null==Yn||Yn.removeEventListener("resize",t)}}),[y]);let T=(0,r.useCallback)((()=>{b.current||h()}),[h,b]);return function(e){let{triggerRef:t,isOpen:n,onClose:i}=e;(0,r.useEffect)((()=>{if(!n)return;let e=e=>{let n=e.target;if(!t.current||!n.contains(t.current))return;let r=i||Xn.get(t.current);r&&r()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}}),[n,i,t])}({triggerRef:n,isOpen:f,onClose:h?T:void 0}),{overlayProps:{style:(0,Dn.Z)({position:"absolute",zIndex:1e5},m.position,{maxHeight:m.maxHeight})},placement:m.placement,arrowProps:{style:{left:m.arrowOffsetLeft,top:m.arrowOffsetTop}},updatePosition:y}}function Qn(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const Zn=[];function Jn(e,t){let{onClose:n,shouldCloseOnBlur:i,isOpen:o,isDismissable:s=!1,isKeyboardDismissDisabled:a=!1,shouldCloseOnInteractOutside:l}=e;(0,r.useEffect)((()=>(o&&Zn.push(t),()=>{let e=Zn.indexOf(t);e>=0&&Zn.splice(e,1)})),[o,t]);let u=()=>{Zn[Zn.length-1]===t&&n&&n()};(0,se.Fc)({ref:t,onInteractOutside:s?e=>{l&&!l(e.target)||u()}:null});let{focusWithinProps:c}=(0,se.L_)({isDisabled:!i,onBlurWithin:e=>{l&&!l(e.relatedTarget)||n()}});return{overlayProps:(0,Dn.Z)({onKeyDown:e=>{"Escape"!==e.key||a||(e.preventDefault(),u())}},c)}}function er(e,t,n){let i,{type:o}=e,{isOpen:s}=t;(0,r.useEffect)((()=>{n.current&&Xn.set(n.current,t.close)})),"menu"===o?i=!0:"listbox"===o&&(i="listbox");let a=(0,he.useId)();return{triggerProps:{"aria-haspopup":i,"aria-expanded":s,"aria-controls":s?a:null},overlayProps:{id:a}}}const tr="undefined"!=typeof window&&window.visualViewport,nr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function rr(e){void 0===e&&(e={});let{isDisabled:t}=e;(0,he.useLayoutEffect)((()=>{if(!t)return(0,he.isIOS)()?function(){let e,t=0,n=n=>{e=(0,he.getScrollParent)(n.target),e===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)},r=n=>{if(e===document.documentElement||e===document.body)return void n.preventDefault();let r=n.changedTouches[0].pageY,i=e.scrollTop,o=e.scrollHeight-e.clientHeight;(i<=0&&r>t||i>=o&&r<t)&&n.preventDefault(),t=r},i=e=>{let t=e.target;t instanceof HTMLInputElement&&!nr.has(t.type)&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame((()=>{t.style.transform=""})))},o=e=>{let t=e.target;t instanceof HTMLInputElement&&!nr.has(t.type)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame((()=>{t.style.transform="",tr&&(tr.height<window.innerHeight?requestAnimationFrame((()=>{sr(t)})):tr.addEventListener("resize",(()=>sr(t)),{once:!0}))})))},s=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,u=(0,he.chain)(ir(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),ir(document.documentElement,"overflow","hidden"),ir(document.body,"marginTop","-"+l+"px"));window.scrollTo(0,0);let c=(0,he.chain)(or(document,"touchstart",n,{passive:!1,capture:!0}),or(document,"touchmove",r,{passive:!1,capture:!0}),or(document,"touchend",i,{passive:!1,capture:!0}),or(document,"focus",o,!0),or(window,"scroll",s));return()=>{u(),c(),window.scrollTo(a,l)}}():(0,he.chain)(ir(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"),ir(document.documentElement,"overflow","hidden"))}),[t])}function ir(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function or(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function sr(e){let t=(0,he.getScrollParent)(e);if(t!==document.documentElement&&t!==document.body){let n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(t.scrollTop+=r-n)}}const ar=r.createContext(null);function lr(e){let{children:t}=e,n=(0,r.useContext)(ar),[i,o]=(0,r.useState)(0),s=(0,r.useMemo)((()=>({parent:n,modalCount:i,addModal(){o((e=>e+1)),n&&n.addModal()},removeModal(){o((e=>e-1)),n&&n.removeModal()}})),[n,i]);return r.createElement(ar.Provider,{value:s},t)}function ur(){let e=(0,r.useContext)(ar);return{modalProviderProps:{"aria-hidden":!!(e&&e.modalCount>0)||null}}}function cr(e){let{modalProviderProps:t}=ur();return r.createElement("div",(0,Dn.Z)({},e,t))}function dr(e){return r.createElement(lr,null,r.createElement(cr,e))}function pr(e){let t=r.createElement(dr,e);return fe.createPortal(t,document.body)}function fr(e){let t=(0,r.useContext)(ar);if(!t)throw new Error("Modal is not contained within a provider");return(0,r.useEffect)((()=>{if(!(null==e?void 0:e.isDisabled)&&t&&t.parent)return t.parent.addModal(),()=>{t&&t.parent&&t.parent.removeModal()}}),[t,t.parent,null==e?void 0:e.isDisabled]),{modalProps:{"data-ismodal":!(null==e?void 0:e.isDisabled)}}}var hr;hr=JSON.parse('{"dismiss":"تجاهل"}');var mr;mr=JSON.parse('{"dismiss":"Отхвърляне"}');var gr;gr=JSON.parse('{"dismiss":"Odstranit"}');var vr;vr=JSON.parse('{"dismiss":"Luk"}');var yr;yr=JSON.parse('{"dismiss":"Schließen"}');var _r;_r=JSON.parse('{"dismiss":"Απόρριψη"}');var br;br=JSON.parse('{"dismiss":"Dismiss"}');var Tr;Tr=JSON.parse('{"dismiss":"Descartar"}');var Er;Er=JSON.parse('{"dismiss":"Lõpeta"}');var wr;wr=JSON.parse('{"dismiss":"Hylkää"}');var jr;jr=JSON.parse('{"dismiss":"Rejeter"}');var Sr;Sr=JSON.parse('{"dismiss":"התעלם"}');var kr;kr=JSON.parse('{"dismiss":"Odbaci"}');var xr;xr=JSON.parse('{"dismiss":"Elutasítás"}');var Cr;Cr=JSON.parse('{"dismiss":"Ignora"}');var Pr;Pr=JSON.parse('{"dismiss":"閉じる"}');var Or;Or=JSON.parse('{"dismiss":"무시"}');var Ir;Ir=JSON.parse('{"dismiss":"Atmesti"}');var Ar;Ar=JSON.parse('{"dismiss":"Nerādīt"}');var Nr;Nr=JSON.parse('{"dismiss":"Lukk"}');var Lr;Lr=JSON.parse('{"dismiss":"Negeren"}');var Dr;Dr=JSON.parse('{"dismiss":"Zignoruj"}');var Rr;Rr=JSON.parse('{"dismiss":"Descartar"}');var Mr;Mr=JSON.parse('{"dismiss":"Dispensar"}');var Ur;Ur=JSON.parse('{"dismiss":"Revocare"}');var Br;Br=JSON.parse('{"dismiss":"Пропустить"}');var Fr;Fr=JSON.parse('{"dismiss":"Zrušiť"}');var Hr;Hr=JSON.parse('{"dismiss":"Opusti"}');var qr;qr=JSON.parse('{"dismiss":"Odbaci"}');var Vr;Vr=JSON.parse('{"dismiss":"Avvisa"}');var Wr;Wr=JSON.parse('{"dismiss":"Kapat"}');var zr;zr=JSON.parse('{"dismiss":"Скасувати"}');var Gr;Gr=JSON.parse('{"dismiss":"取消"}');var Kr;Kr=JSON.parse('{"dismiss":"關閉"}');const Xr={"ar-AE":pe(hr).default,"bg-BG":pe(mr).default,"cs-CZ":pe(gr).default,"da-DK":pe(vr).default,"de-DE":pe(yr).default,"el-GR":pe(_r).default,"en-US":pe(br).default,"es-ES":pe(Tr).default,"et-EE":pe(Er).default,"fi-FI":pe(wr).default,"fr-FR":pe(jr).default,"he-IL":pe(Sr).default,"hr-HR":pe(kr).default,"hu-HU":pe(xr).default,"it-IT":pe(Cr).default,"ja-JP":pe(Pr).default,"ko-KR":pe(Or).default,"lt-LT":pe(Ir).default,"lv-LV":pe(Ar).default,"nb-NO":pe(Nr).default,"nl-NL":pe(Lr).default,"pl-PL":pe(Dr).default,"pt-BR":pe(Rr).default,"pt-PT":pe(Mr).default,"ro-RO":pe(Ur).default,"ru-RU":pe(Br).default,"sk-SK":pe(Fr).default,"sl-SI":pe(Hr).default,"sr-SP":pe(qr).default,"sv-SE":pe(Vr).default,"tr-TR":pe(Wr).default,"uk-UA":pe(zr).default,"zh-CN":pe(Gr).default,"zh-TW":pe(Kr).default};function Yr(e){let{onDismiss:t}=e,n=vn(Xr);return r.createElement(de,null,r.createElement("button",{tabIndex:-1,"aria-label":n("dismiss"),onClick:()=>{t&&t()}}))}let $r=new WeakMap;function Qr(e,t){void 0===t&&(t=document.body);let n=new Set(e),r=new Set,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(t){return t instanceof HTMLElement&&"true"===t.dataset.liveAnnouncer&&n.add(t),n.has(t)||r.has(t.parentElement)?NodeFilter.FILTER_REJECT:t instanceof HTMLElement&&"row"===t.getAttribute("role")||e.some((e=>t.contains(e)))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),o=e=>{var t;let n=null!=(t=$r.get(e))?t:0;"true"===e.getAttribute("aria-hidden")&&0===n||(0===n&&e.setAttribute("aria-hidden","true"),r.add(e),$r.set(e,n+1))},s=i.nextNode();for(;null!=s;)o(s),s=i.nextNode();let a=new MutationObserver((e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...r].some((e=>e.contains(t.target))))for(let e of t.addedNodes)e instanceof HTMLElement&&"true"===e.dataset.liveAnnouncer?n.add(e):e instanceof Element&&o(e)}));return a.observe(t,{childList:!0,subtree:!0}),()=>{a.disconnect();for(let e of r){let t=$r.get(e);1===t?(e.removeAttribute("aria-hidden"),$r.delete(e)):$r.set(e,t-1)}}}},"./node_modules/@react-aria/ssr/dist/module.js":function(e,t,n){"use strict";n.d(t,{gP:function(){return c},Av:function(){return d}});var r=n("./node_modules/react/index.js");function i(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var o={};i(o,"SSRProvider",(()=>l)),i(o,"useSSRSafeId",(()=>c)),i(o,"useIsSSR",(()=>d));const s={prefix:String(Math.round(1e10*Math.random())),current:0},a=r.createContext(s);function l(e){let t=(0,r.useContext)(a),n=(0,r.useMemo)((()=>({prefix:t===s?"":`${t.prefix}-${++t.current}`,current:0})),[t]);return r.createElement(a.Provider,{value:n},e.children)}let u=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function c(e){let t=(0,r.useContext)(a);return t!==s||u||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((()=>e||`react-aria${t.prefix}-${++t.current}`),[e])}function d(){let e=(0,r.useContext)(a)!==s,[t,n]=(0,r.useState)(e);return"undefined"!=typeof window&&e&&(0,r.useLayoutEffect)((()=>{n(!1)}),[]),t}},"./node_modules/@react-aria/utils/dist/module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{useId:function(){return d},mergeIds:function(){return p},useSlotId:function(){return f},chain:function(){return h},mergeProps:function(){return m},filterDOMProps:function(){return _},focusWithoutScrolling:function(){return b},getOffset:function(){return E},clamp:function(){return s.uZ},snapValueToStep:function(){return s.N4},runAfterTransition:function(){return x},useDrag1D:function(){return P},useGlobalListeners:function(){return O},useLabels:function(){return I},useObjectRef:function(){return A},useUpdateEffect:function(){return N},useLayoutEffect:function(){return u},useResizeObserver:function(){return L},useSyncRef:function(){return D},getScrollParent:function(){return R},useViewportSize:function(){return B},useDescription:function(){return V},isMac:function(){return K},isIPhone:function(){return X},isIPad:function(){return Y},isIOS:function(){return $},isAppleDevice:function(){return Q},isWebKit:function(){return Z},isChrome:function(){return J},isAndroid:function(){return ee},useEvent:function(){return te},useValueEffect:function(){return ne},scrollIntoView:function(){return re}});var r=n("./node_modules/react/index.js"),i=n("./node_modules/@react-aria/ssr/dist/module.js"),o=n("./node_modules/clsx/dist/clsx.m.js"),s=n("./node_modules/@react-stately/utils/dist/module.js");function a(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var l={};a(l,"useId",(()=>d)),a(l,"mergeIds",(()=>p)),a(l,"useSlotId",(()=>f));a({},"useLayoutEffect",(()=>u));const u="undefined"!=typeof window?r.useLayoutEffect:()=>{};let c=new Map;function d(e){let t=(0,r.useRef)(!0);t.current=!0;let[n,o]=(0,r.useState)(e),s=(0,r.useRef)(null),a=(0,i.gP)(n),l=e=>{t.current?s.current=e:o(e)};return c.set(a,l),u((()=>{t.current=!1}),[l]),u((()=>{let e=a;return()=>{c.delete(e)}}),[a]),(0,r.useEffect)((()=>{let e=s.current;e&&(o(e),s.current=null)}),[o,l]),a}function p(e,t){if(e===t)return e;let n=c.get(e);if(n)return n(t),t;let r=c.get(t);return r?(r(e),e):t}function f(e=[]){let t=d(),[n,i]=ne(t),o=(0,r.useCallback)((()=>{i((function*(){yield t,yield document.getElementById(t)?t:null}))}),[t,i]);return u(o,[t,o,...e]),n}function h(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}a({},"chain",(()=>h));function m(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=h(n,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?"id"===e&&n&&i?t.id=p(n,i):t[e]=void 0!==i?i:n:t[e]=(0,o.Z)(n,i)}}return t}a({},"mergeProps",(()=>m));a({},"filterDOMProps",(()=>_));const g=new Set(["id"]),v=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),y=/^(data-.*)$/;function _(e,t={}){let{labelable:n,propNames:r}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g.has(t)||n&&v.has(t)||(null==r?void 0:r.has(t))||y.test(t))&&(i[t]=e[t]);return i}function b(e){if(function(){if(null==T){T=!1;try{document.createElement("div").focus({get preventScroll(){return T=!0,!0}})}catch(e){}}return T}())e.focus({preventScroll:!0});else{let t=function(e){var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}a({},"focusWithoutScrolling",(()=>b));let T=null;function E(e,t,n="horizontal"){let r=e.getBoundingClientRect();return t?"horizontal"===n?r.right:r.bottom:"horizontal"===n?r.left:r.top}a({},"getOffset",(()=>E));var w={};a(w,"clamp",(()=>s.uZ)),a(w,"snapValueToStep",(()=>s.N4));a({},"runAfterTransition",(()=>x));let j=new Map,S=new Set;function k(){if("undefined"==typeof window)return;let e=t=>{let n=j.get(t.target);if(n&&(n.delete(t.propertyName),0===n.size&&(t.target.removeEventListener("transitioncancel",e),j.delete(t.target)),0===j.size)){for(let e of S)e();S.clear()}};document.body.addEventListener("transitionrun",(t=>{let n=j.get(t.target);n||(n=new Set,j.set(t.target,n),t.target.addEventListener("transitioncancel",e)),n.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function x(e){requestAnimationFrame((()=>{0===j.size?e():S.add(e)}))}"undefined"!=typeof document&&("loading"!==document.readyState?k():document.addEventListener("DOMContentLoaded",k));a({},"useDrag1D",(()=>P));const C=[];function P(e){console.warn("useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html");let{containerRef:t,reverse:n,orientation:i,onHover:o,onDrag:s,onPositionChange:a,onIncrement:l,onDecrement:u,onIncrementToMax:c,onDecrementToMin:d,onCollapseToggle:p}=e,f=e=>{let r=E(t.current,n,i),o=(e=>"horizontal"===i?e.clientX:e.clientY)(e);return n?r-o:o-r},h=(0,r.useRef)(!1),m=(0,r.useRef)(0),g=(0,r.useRef)({onPositionChange:a,onDrag:s});g.current.onDrag=s,g.current.onPositionChange=a;let v=e=>{e.preventDefault();let t=f(e);h.current||(h.current=!0,g.current.onDrag&&g.current.onDrag(!0),g.current.onPositionChange&&g.current.onPositionChange(t)),m.current!==t&&(m.current=t,a&&a(t))},y=e=>{const t=e.target;h.current=!1;let n=f(e);g.current.onDrag&&g.current.onDrag(!1),g.current.onPositionChange&&g.current.onPositionChange(n),C.splice(C.indexOf(t),1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("mousemove",v,!1)};return{onMouseDown:e=>{const t=e.currentTarget;C.some((e=>t.contains(e)))||(C.push(t),window.addEventListener("mousemove",v,!1),window.addEventListener("mouseup",y,!1))},onMouseEnter:()=>{o&&o(!0)},onMouseOut:()=>{o&&o(!1)},onKeyDown:e=>{switch(e.key){case"Left":case"ArrowLeft":"horizontal"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Up":case"ArrowUp":"vertical"===i&&(e.preventDefault(),u&&!n?u():l&&n&&l());break;case"Right":case"ArrowRight":"horizontal"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Down":case"ArrowDown":"vertical"===i&&(e.preventDefault(),l&&!n?l():u&&n&&u());break;case"Home":e.preventDefault(),d&&d();break;case"End":e.preventDefault(),c&&c();break;case"Enter":e.preventDefault(),p&&p()}}}}function O(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,n,r,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:o,options:i}),t.addEventListener(n,r,i)}),[]),n=(0,r.useCallback)(((t,n,r,i)=>{var o;let s=(null===(o=e.current.get(r))||void 0===o?void 0:o.fn)||r;t.removeEventListener(n,s,i),e.current.delete(r)}),[]),i=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>i),[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}a({},"useGlobalListeners",(()=>O));function I(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;if(n=d(n),i&&r){let e=new Set([...i.trim().split(/\s+/),n]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));return r||i||!t||(r=t),{id:n,"aria-label":r,"aria-labelledby":i}}a({},"useLabels",(()=>I));function A(e){const t=(0,r.useRef)();return u((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),[e]),t}a({},"useObjectRef",(()=>A));function N(e,t){const n=(0,r.useRef)(!0);(0,r.useEffect)((()=>{n.current?n.current=!1:e()}),t)}a({},"useUpdateEffect",(()=>N));function L(e){const{ref:t,onResize:n}=e;(0,r.useEffect)((()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)};{const t=new window.ResizeObserver((e=>{e.length&&n()}));return t.observe(e),()=>{e&&t.unobserve(e)}}}}),[n,t])}a({},"useResizeObserver",(()=>L));function D(e,t){u((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}a({},"useSyncRef",(()=>D));function R(e){for(;e&&!M(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function M(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}a({},"getScrollParent",(()=>R));a({},"useViewportSize",(()=>B));let U="undefined"!=typeof window&&window.visualViewport;function B(){let[e,t]=(0,r.useState)((()=>F()));return(0,r.useEffect)((()=>{let e=()=>{t((e=>{let t=F();return t.width===e.width&&t.height===e.height?e:t}))};return U?U.addEventListener("resize",e):window.addEventListener("resize",e),()=>{U?U.removeEventListener("resize",e):window.removeEventListener("resize",e)}}),[]),e}function F(){return{width:(null==U?void 0:U.width)||window.innerWidth,height:(null==U?void 0:U.height)||window.innerHeight}}a({},"useDescription",(()=>V));let H=0;const q=new Map;function V(e){let[t,n]=(0,r.useState)(null);return u((()=>{if(!e)return;let t=q.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+H++;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},q.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),q.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}var W={};function z(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function G(e){return"undefined"!=typeof window&&null!=window.navigator&&e.test((window.navigator.userAgentData||window.navigator).platform)}function K(){return G(/^Mac/i)}function X(){return G(/^iPhone/i)}function Y(){return G(/^iPad/i)||K()&&navigator.maxTouchPoints>1}function $(){return X()||Y()}function Q(){return K()||$()}function Z(){return z(/AppleWebKit/i)&&!J()}function J(){return z(/Chrome/i)}function ee(){return z(/Android/i)}a(W,"isMac",(()=>K)),a(W,"isIPhone",(()=>X)),a(W,"isIPad",(()=>Y)),a(W,"isIOS",(()=>$)),a(W,"isAppleDevice",(()=>Q)),a(W,"isWebKit",(()=>Z)),a(W,"isChrome",(()=>J)),a(W,"isAndroid",(()=>ee));function te(e,t,n,i){let o=(0,r.useRef)(n);o.current=n;let s=null==n;(0,r.useEffect)((()=>{if(s)return;let n=e.current,r=e=>o.current.call(this,e);return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}),[e,t,i,s])}a({},"useEvent",(()=>te));function ne(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(t),o=(0,r.useRef)(null);i.current=t;let s=(0,r.useRef)(null);s.current=()=>{let e=o.current.next();e.done?o.current=null:t===e.value?s.current():n(e.value)},u((()=>{o.current&&s.current()}));let a=(0,r.useCallback)((e=>{o.current=e(i.current),s.current()}),[o,s]);return[t,a]}a({},"useValueEffect",(()=>ne));function re(e,t){let n=ie(e,t,"left"),r=ie(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,s=e.scrollLeft,a=e.scrollTop,l=s+e.offsetWidth,u=a+e.offsetHeight;n<=s?s=n:n+i>l&&(s+=n+i-l),r<=a?a=r:r+o>u&&(a+=r+o-u),e.scrollLeft=s,e.scrollTop=a}function ie(e,t,n){const r="left"===n?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[r];break}t=t.offsetParent}return i}a({},"scrollIntoView",(()=>re))},"./node_modules/@react-stately/utils/dist/module.js":function(e,t,n){"use strict";n.d(t,{uZ:function(){return a},N4:function(){return l}});var r=n("./node_modules/react/index.js");function i(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function o(e,t,n){let[i,o]=(0,r.useState)(e||t),s=(0,r.useRef)(void 0!==e),a=s.current,l=void 0!==e,u=(0,r.useRef)(i);a!==l&&console.warn(`WARN: A component changed from ${a?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),s.current=l;let c=(0,r.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(u.current,e)||n(e,...t)),l||(u.current=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),o(((n,...i)=>{let o=e(l?u.current:n,...i);return r(o,...t),l?n:o}))}else l||o(e),r(e,...t)}),[l,n]);return l?u.current=e:e=i,[e,c]}i({},"useControlledState",(()=>o));var s={};function a(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}function l(e,t,n,r){let i=(e-(isNaN(t)?0:t))%r,o=2*Math.abs(i)>=r?e+Math.sign(i)*(r-Math.abs(i)):e-i;isNaN(t)?!isNaN(n)&&o>n&&(o=Math.floor(n/r)*r):o<t?o=t:!isNaN(n)&&o>n&&(o=t+Math.floor((n-t)/r)*r);let s=r.toString(),a=s.indexOf("."),l=a>=0?s.length-a:0;if(l>0){let e=Math.pow(10,l);o=Math.round(o*e)/e}return o}function u(e,t,n=10){const r=Math.pow(n,t);return Math.round(e*r)/r}i(s,"clamp",(()=>a)),i(s,"snapValueToStep",(()=>l)),i(s,"toFixedNumber",(()=>u))},"./node_modules/@videojs/xhr/lib/http-handler.js":function(e,t,n){"use strict";var r=n("./node_modules/global/window.js");e.exports=function(e,t){return void 0===t&&(t=!1),function(n,i,o){if(n)e(n);else if(i.statusCode>=400&&i.statusCode<=599){var s=o;if(t)if(r.TextDecoder){var a=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return"charset"===r.trim()?i.trim():e}),"utf-8")}(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:s})}else e(null,o)}}},"./node_modules/@videojs/xhr/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/global/window.js"),i=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n("./node_modules/is-function/index.js");a.httpHandler=n("./node_modules/@videojs/xhr/lib/http-handler.js");function s(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=i({},t,{uri:e}),r.callback=n,r}function a(e,t,n){return l(t=s(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),g)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function o(){if(!l){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=v,o=null;return 0!==t?(i={body:r(),statusCode:t,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var s,l,u=e.xhr||null;u||(u=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var c,d=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,h=u.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(g=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=i,u.onprogress=function(){},u.onabort=function(){l=!0},u.ontimeout=i,u.open(p,d,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout((function(){if(!l){l=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(s in h)h.hasOwnProperty(s)&&u.setRequestHeader(s,h[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}e.exports=a,e.exports.default=a,a.XMLHttpRequest=r.XMLHttpRequest||function(){},a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){a["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}}))},"./node_modules/@xmldom/xmldom/lib/conventions.js":function(e,t){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},"./node_modules/@xmldom/xmldom/lib/dom-parser.js":function(e,t,n){var r=n("./node_modules/@xmldom/xmldom/lib/conventions.js"),i=n("./node_modules/@xmldom/xmldom/lib/dom.js"),o=n("./node_modules/@xmldom/xmldom/lib/entities.js"),s=n("./node_modules/@xmldom/xmldom/lib/sax.js"),a=i.DOMImplementation,l=r.NAMESPACE,u=s.ParseError,c=s.XMLReader;function d(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new c,i=n.domBuilder||new p,s=n.errorHandler,a=n.locator,u=n.xmlns||{},d=/\/x?html?$/.test(t),f=d?o.HTML_ENTITIES:o.XML_ENTITIES;return a&&i.setDocumentLocator(a),r.errorHandler=function(e,t,n){if(!e){if(t instanceof p)return t;e=t}var r={},i=e instanceof Function;function o(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+h(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),r}(s,i,a),r.domBuilder=n.domBuilder||i,d&&(u[""]=l.HTML),u.xml=u.xml||l.XML,e&&"string"==typeof e?r.parse(e,u,f):r.errorHandler.error("invalid doc source"),i.doc},p.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;g(this,o),this.currentElement=o,this.locator&&f(this.locator,o);for(var a=0;a<s;a++){e=r.getURI(a);var l=r.getValue(a),u=(n=r.getQName(a),i.createAttributeNS(e,n));this.locator&&f(r.getLocator(a),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&f(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&f(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&f(this.locator,i),g(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),t.DOMParser=d,i.DOMImplementation,i.XMLSerializer},"./node_modules/@xmldom/xmldom/lib/dom.js":function(e,t,n){var r=n("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE;function i(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}(e);return Object.keys(t.reduce(o,{}))}function a(e,t){for(var n in e)t[n]=e[n]}function l(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,a(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var u={},c=u.ELEMENT_NODE=1,d=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,f=u.CDATA_SECTION_NODE=4,h=u.ENTITY_REFERENCE_NODE=5,m=u.ENTITY_NODE=6,g=u.PROCESSING_INSTRUCTION_NODE=7,v=u.COMMENT_NODE=8,y=u.DOCUMENT_NODE=9,_=u.DOCUMENT_TYPE_NODE=10,b=u.DOCUMENT_FRAGMENT_NODE=11,T=u.NOTATION_NODE=12,E={},w={},j=(E.INDEX_SIZE_ERR=(w[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(w[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(w[3]="Hierarchy request error",3)),S=(E.WRONG_DOCUMENT_ERR=(w[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(w[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(w[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(w[7]="No modification allowed",7),E.NOT_FOUND_ERR=(w[8]="Not found",8)),k=(E.NOT_SUPPORTED_ERR=(w[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(w[10]="Attribute in use",10));E.INVALID_STATE_ERR=(w[11]="Invalid state",11),E.SYNTAX_ERR=(w[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(w[13]="Invalid modification",13),E.NAMESPACE_ERR=(w[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(w[15]="Invalid access",15);function x(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,w[e]),this.message=w[e],Error.captureStackTrace&&Error.captureStackTrace(this,x);return n.code=e,t&&(this.message=this.message+": "+t),n}function C(){}function P(e,t){this._node=e,this._refresh=t,O(this)}function O(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ue(e,"length",n.length),a(n,e),e._inc=t}}function I(){}function A(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function N(e,t,n,i){if(i?t[A(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(i&&F(o,e,i),function(e,t,n){e&&e._inc++,n.namespaceURI===r.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function L(e,t,n){var r=A(t,n);if(!(r>=0))throw x(S,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(F(o,e,n),n.ownerElement=null)}}function D(){}function R(){}function M(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function U(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(U(e,t))return!0}while(e=e.nextSibling)}function B(){}function F(e,t,n,i){e&&e._inc++,n.namespaceURI===r.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function q(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,H(e.ownerDocument,e),t}function V(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===b){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function W(){this._nsMap={}}function z(){}function G(){}function K(){}function X(){}function Y(){}function $(){}function Q(){}function Z(){}function J(){}function ee(){}function te(){}function ne(){}function re(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return se(this,n,e,t,s),n.join("")}function ie(e,t,n){var i=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===i&&o===r.XML||o===r.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==o}return!0}function oe(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,M),'"')}function se(e,t,n,i,o){if(o||(o=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var s=e.attributes,a=s.length,l=e.firstChild,u=e.tagName,m=u;if(!(n=r.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var T,E=0;E<s.length;E++)if("xmlns"===s.item(E).name){T=s.item(E).value;break}if(!T)for(var w=o.length-1;w>=0;w--){if(""===(j=o[w]).prefix&&j.namespace===e.namespaceURI){T=j.namespace;break}}if(T!==e.namespaceURI)for(w=o.length-1;w>=0;w--){var j;if((j=o[w]).namespace===e.namespaceURI){j.prefix&&(m=j.prefix+":"+u);break}}}t.push("<",m);for(var S=0;S<a;S++){"xmlns"==(k=s.item(S)).prefix?o.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&o.push({prefix:"",namespace:k.value})}for(S=0;S<a;S++){var k,x,C;if(ie(k=s.item(S),0,o))oe(t,(x=k.prefix||"")?"xmlns:"+x:"xmlns",C=k.namespaceURI),o.push({prefix:x,namespace:C});se(k,t,n,i,o)}if(u===m&&ie(e,0,o))oe(t,(x=e.prefix||"")?"xmlns:"+x:"xmlns",C=e.namespaceURI),o.push({prefix:x,namespace:C});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;l;)l.data?t.push(l.data):se(l,t,n,i,o.slice()),l=l.nextSibling;else for(;l;)se(l,t,n,i,o.slice()),l=l.nextSibling;t.push("</",m,">")}else t.push("/>");return;case y:case b:for(l=e.firstChild;l;)se(l,t,n,i,o.slice()),l=l.nextSibling;return;case d:return oe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&]/g,M).replace(/]]>/g,"]]&gt;"));case f:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case _:var P=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),P)t.push(" PUBLIC ",P),O&&"."!=O&&t.push(" ",O),t.push(">");else if(O&&"."!=O)t.push(" SYSTEM ",O,">");else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case h:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ae(e,t,n){var r;switch(t.nodeType){case c:(r=t.cloneNode(!1)).ownerDocument=e;case b:break;case d:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ae(e,i,n)),i=i.nextSibling;return r}function le(e,t,n){var r=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new C),r.ownerDocument=e,r.nodeType){case c:var s=t.attributes,a=r.attributes=new I,l=s.length;a._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(le(e,s.item(u),!0));break;case d:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(le(e,p,n)),p=p.nextSibling;return r}function ue(e,t,n){e[t]=n}x.prototype=Error.prototype,a(E,x),C.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)se(this[r],n,e,t);return n.join("")}},P.prototype.item=function(e){return O(this),this[e]},l(P,C),I.prototype={length:0,item:C.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new x(k);var n=this.getNamedItem(e.nodeName);return N(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new x(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),N(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return L(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return L(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},D.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new B;if(r.implementation=this,r.childNodes=new C,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new $;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},R.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return V(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return le(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},a(u,R),a(u,R.prototype),B.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),V(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},importNode:function(e,t){return ae(this,e,t)},getElementById:function(e){var t=null;return U(this.documentElement,(function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=s(e);return new P(this,(function(n){var r=[];return t.length>0&&U(n.documentElement,(function(i){if(i!==n&&i.nodeType===c){var o=i.getAttribute("class");if(o){var a=e===o;if(!a){var l=s(o);a=t.every((u=l,function(e){return u&&-1!==u.indexOf(e)}))}a&&r.push(i)}}var u})),r}))},createElement:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new C,(t.attributes=new I)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new C,e},createTextNode:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new te;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new W,r=t.split(":"),i=n.attributes=new I;return n.childNodes=new C,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new z,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},l(B,R),W.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,(function(t){var n=[];return U(t,(function(r){r===t||r.nodeType!=c||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new P(this,(function(n){var r=[];return U(n,(function(i){i===n||i.nodeType!==c||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},B.prototype.getElementsByTagName=W.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=W.prototype.getElementsByTagNameNS,l(W,R),z.prototype.nodeType=d,l(z,R),G.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(w[j])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(G,R),K.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},l(K,G),X.prototype={nodeName:"#comment",nodeType:v},l(X,G),Y.prototype={nodeName:"#cdata-section",nodeType:f},l(Y,G),$.prototype.nodeType=_,l($,R),Q.prototype.nodeType=T,l(Q,R),Z.prototype.nodeType=m,l(Z,R),J.prototype.nodeType=h,l(J,R),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=b,l(ee,R),te.prototype.nodeType=g,l(te,R),ne.prototype.serializeToString=function(e,t,n){return re.call(e,t,n)},R.prototype.toString=re;try{if(Object.defineProperty){function ce(e){switch(e.nodeType){case c:case b:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ce(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(R.prototype,"textContent",{get:function(){return ce(this)},set:function(e){switch(this.nodeType){case c:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ue=function(e,t,n){e["$$"+t]=n}}}catch(de){}t.DocumentType=$,t.DOMException=x,t.DOMImplementation=D,t.Element=W,t.Node=R,t.NodeList=C,t.XMLSerializer=ne},"./node_modules/@xmldom/xmldom/lib/entities.js":function(e,t,n){var r=n("./node_modules/@xmldom/xmldom/lib/conventions.js").freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},"./node_modules/@xmldom/xmldom/lib/index.js":function(e,t,n){var r=n("./node_modules/@xmldom/xmldom/lib/dom.js");r.DOMImplementation,r.XMLSerializer,t.DOMParser=n("./node_modules/@xmldom/xmldom/lib/dom-parser.js").DOMParser},"./node_modules/@xmldom/xmldom/lib/sax.js":function(e,t,n){var r=n("./node_modules/@xmldom/xmldom/lib/conventions.js").NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function l(){}function u(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,i,o,s){function a(e,t,r){n.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var l,u=++t,c=0;;){var d=e.charAt(u);switch(d){case"=":if(1===c)l=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(s.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,!((u=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");a(l,p=e.slice(t,u).replace(/&#?\w+;/g,o),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(l,p=e.slice(t,u).replace(/&#?\w+;/g,o),t),s.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,u)).slice(-1)&&(n.closed=!0,p=p.slice(0,-1));case 2:2===c&&(p=l),4==c?(s.warning('attribute "'+p+'" missed quot(")!'),a(l,p.replace(/&#?\w+;/g,o),t)):(r.isHTML(i[""])&&p.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),a(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:l=e.slice(t,u),c=2;break;case 4:var p=e.slice(t,u).replace(/&#?\w+;/g,o);s.warning('attribute "'+p+'" missed quot(")!!'),a(l,p,t);case 5:c=6}else switch(c){case 2:n.tagName;r.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,t),t=u,c=1;break;case 5:s.warning('attribute space is required"'+l+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function d(e,t,n){for(var i=e.tagName,o=null,s=e.length;s--;){var a=e[s],l=a.qName,u=a.value;if((f=l.indexOf(":"))>0)var c=a.prefix=l.slice(0,f),d=l.slice(f+1),p="xmlns"===c&&d;else d=l,c=null,p="xmlns"===l&&"";a.localName=d,!1!==p&&(null==o&&(o={},h(n,n={})),n[p]=o[p]=u,a.uri=r.XMLNS,t.startPrefixMapping(p,u))}for(s=e.length;s--;){(c=(a=e[s]).prefix)&&("xml"===c&&(a.uri=r.XML),"xmlns"!==c&&(a.uri=n[c||""]))}var f;(f=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,f),d=e.localName=i.slice(f+1)):(c=null,d=e.localName=i);var m=e.uri=n[c||""];if(t.startElement(m,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(m,d,i),o)for(c in o)t.endPrefixMapping(c)}function p(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function f(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function h(e,t){for(var n in e)t[n]=e[n]}function m(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],l=!1,u=!1;s>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[s-1];return n.startDTD(a,l,u),n.endDTD(),c.index+c[0].length}return-1}function g(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function v(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,l.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(e,t,n,i,o){function s(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?s(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function h(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,l);E&&y(S),i.characters(n,0,t-S),S=t}}function y(t,n){for(;t>=b&&(n=T.exec(e));)_=n.index,b=_+n[0].length,E.lineNumber++;E.columnNumber=t-_+1}var _=0,b=0,T=/.*(?:\r\n?|\n)|.*$/g,E=i.locator,w=[{currentNSMap:t}],j={},S=0;for(;;){try{var k=e.indexOf("<",S);if(k<0){if(!e.substr(S).match(/^\s*$/)){var x=i.doc,C=x.createTextNode(e.substr(S));x.appendChild(C),i.currentElement=C}return}switch(k>S&&h(k),e.charAt(k+1)){case"/":var P=e.indexOf(">",k+3),O=e.substring(k+2,P).replace(/[ \t\n\r]+$/g,""),I=w.pop();P<0?(O=e.substring(k+2).replace(/[\s<].*/,""),o.error("end tag name: "+O+" is not complete:"+I.tagName),P=k+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),o.error("end tag name: "+O+" maybe not complete"),P=k+1+O.length);var A=I.localNSMap,N=I.tagName==O;if(N||I.tagName&&I.tagName.toLowerCase()==O.toLowerCase()){if(i.endElement(I.uri,I.localName,O),A)for(var L in A)i.endPrefixMapping(L);N||o.fatalError("end tag name: "+O+" is not match the current start tagName:"+I.tagName)}else w.push(I);P++;break;case"?":E&&y(k),P=g(e,k,i);break;case"!":E&&y(k),P=m(e,k,i,o);break;default:E&&y(k);var D=new v,R=w[w.length-1].currentNSMap,M=(P=c(e,k,D,R,l,o),D.length);if(!D.closed&&f(e,P,D.tagName,j)&&(D.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),E&&M){for(var U=u(E,{}),B=0;B<M;B++){var F=D[B];y(F.offset),F.locator=u(E,{})}i.locator=U,d(D,i,R)&&w.push(D),i.locator=E}else d(D,i,R)&&w.push(D);r.isHTML(D.uri)&&!D.closed?P=p(e,P,D.tagName,l,i):P++}}catch(e){if(e instanceof a)throw e;o.error("element parse error: "+e),P=-1}P>S?S=P:h(Math.max(k,S)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},v.prototype={setTagName:function(e){if(!s.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!s.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=a},"./app/client/buy-level-6.desktop.js":function(e,t,n){var r=n("./node_modules/react/index.js"),i=n("./node_modules/nordic/hydrate.js").hydrate,o=n("./app/pages/buy-level-6/views/desktop.js");i(r.createElement(o,window.__PRELOADED_STATE__),document.getElementById("root-app"))},"./app/pages/_utils/Tracks.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=function(){"use strict";function e(){r(this,e)}return i(e,null,[{key:"trackMelidata",value:function(e){if(e){var t=e.type,n=e.path,r=e.event_data,i=e.experiments;"undefined"!=typeof melidata&&melidata("cleanAndSend",t,{path:n,data:r||{},experiments:i})}}},{key:"trackAnalyticsPageview",value:function(e){var t=e.section,n=e.page,r=e.dimensions;meli_ga("set","page","".concat(t).concat(n)),r&&r.loyaltyLevel&&meli_ga("set","dimension63",r.loyaltyLevel),r&&r.OfficialStore&&meli_ga("set","dimension9",r.OfficialStore),r&&r.partner&&meli_ga("set","dimension9",r.partner),meli_ga("send","pageview")}}]),e}();e.exports=o},"./app/pages/_utils/get-partner-clientId.js":function(e){e.exports={disneyplus:14626729,paramount:25878563,hbo:36125816,deezer:38199719}},"./app/pages/_utils/vdp-helpers.js":function(e,t,n){var r=n("./app/pages/_utils/get-partner-clientId.js"),i=n("./node_modules/nordic/restclient/index.js")({timeout:3e3,baseURL:"/"}),o=function(e){var t=window.MobileWebKit&&window.MobileWebKit.executeNative,n=window.location&&window.location.hostname||"",r=n.match(/mercadoli[bv]re/gi)&&e.match(/^meli:\/\//i)||n.match(/mercadopago/gi)&&e.match(/^mercadopago:\/\//i),i=t&&r,o=n.match(/mercadoli[bv]re/gi)&&e.match(/^mercadopago:\/\//i)||n.match(/mercadopago/gi)&&e.match(/^meli:\/\//i),s=t&&o;i?MobileWebKit.executeNative({method:"open_internal_deeplink",args:{deeplink:e}}):s&&MobileWebKit.executeNative({method:"open_external_deeplink",args:{deeplink:e}})},s=function(e){return"MLB"===e?"assinaturas":"suscripciones"};e.exports={checkoutUrl:function(e){var t=e.siteId,n=e.partnerName,r=e.planId,i=e.origin,o=e.eventType,s=e.wrapper;return"MLB"===t?"/assinaturas/endpoint/checkout/withoutredirect?partnerName=".concat(n,"&planId=").concat(r,"&origin=").concat(i).concat(s?"&wrapper=".concat(s):"").concat(o?"&eventType=".concat(o):""):"/suscripciones/endpoint/checkout/withoutredirect?partnerName=".concat(n,"&planId=").concat(r,"&origin=").concat(i).concat(s?"&wrapper=".concat(s):"").concat(o?"&eventType=".concat(o):"")},loginSmsUrl:function(e){var t=e.partnerName,n=e.planId,i=e.uuid,o=e.paymentMethod,s=e.paymentNumber,a=e.origin,l=e.eventType,u=e.wrapper;window.location.href="/partners/Y5CFhV37tIgXOx0dB5yETZGTlPGnEDqfkaoHQw9D/".concat("disneyplus"===t?"disney":t,"/loginadv?planId=").concat(n,"&uuid=").concat(i,"&paymentMethod=").concat(o,"&paymentNumber=").concat(s,"&client_id=").concat(r[t],"&origin=").concat(a).concat(u?"&wrapper=".concat(u):"").concat(l?"&eventType=".concat(l):"")},loginAndRedirectVDP:function(e){var t=e.siteId,n=e.platformId,r=e.partnerName,i=e.loginLink,o=e.baseDomain,a={platformId:"platform_id=".concat(n),go:"go=".concat(encodeURIComponent("https:".concat(o,"/").concat(s(t),"/").concat(r))),loginType:"loginType=explicit"};window.location.href="".concat(i,"?").concat(a.platformId,"&").concat(a.go,"&").concat(a.loginType)},handleDeeplink:function(e){var t=e.data;o(t)},validateResponseCheckoutUrl:function(e,t){return new Promise((function(n,r){i.get(e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){var t=e.data;n(),window.location.href=t})).catch((function(e){r(),401===e.response.status?window.location.href=e.response.data.url:(t(),setTimeout((function(){window.location.reload()}),3e3))}))}))},getBasePath:s,linkDeeplink:o,handleHistoryBack:function(){return window&&window.history&&window.history.back()}}},"./app/pages/buy-level-6/views/_utils/get-pageview-gtm.js":function(e){e.exports=function(e){var t,n={section:"LOYALTY",page:"/PARTNERS/NIVEL6",dimensions:{}},r="LEVEL6";return null!=e&&null!==(t=e.level)&&void 0!==t&&t.number&&(n.dimensions.loyaltyLevel=e.level.number),"ML"===e.platformId.toUpperCase()?(n.platform="ML",n.dimensions.OfficialStore=r):(n.platform="MP",n.dimensions.partner=r),n}},"./app/pages/buy-level-6/views/_utils/get-pageview-tracks.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=function(e){var t=e.track?e.track:{},n=t.partner,i=t.level,s=t.subscription_status,a=t.discount,l=t.experiments;return o({path:"/loyalty/buylevel",type:"view",event_data:o(o({subscription_partner:n,level:i},s&&{subscription_status:s}),{},{discount:a}),isDeferred:e.isSkeletonMock||!1},l&&{experiments:r({},l.name,l.variant_id)})}},"./app/pages/buy-level-6/views/base-view.js":function(e,t,n){var r,i=n("./node_modules/@babel/runtime/helpers/jsx.js"),o=n("./node_modules/@babel/runtime/helpers/extends.js"),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),f=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=["req"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}var y=n("./node_modules/@frontend-metrics/hotjar/dist/client/frontend-hotjar.js"),_=n("./node_modules/nordic/page.js"),b=n("./node_modules/react/index.js"),T=n("./node_modules/querystring/index.js"),E=n("./node_modules/nordic/restclient/index.js")({timeout:3e3,baseURL:"/"}),w=n("./node_modules/nordic/gtm.js"),j=n("./app/pages/buy-level-6/views/event-handlers/index.js").getEventHandlers,S=n("./app/pages/buy-level-6/views/_utils/get-pageview-tracks.js"),k=n("./app/pages/buy-level-6/views/_utils/get-pageview-gtm.js"),x=n("./app/pages/_utils/webview-topic-manager.js"),C=n("./app/pages/_utils/Tracks.js"),P=function(e){"use strict";d(a,e);var t=v(a);function a(e){var n;l(this,a);var r=(n=t.call(this,e)).props,i=r.viewData,o=r.platformId;return i.platformId=o,n.trackPostSkeletonView=n.trackPostSkeletonView.bind(c(n)),n.state={viewData:i,viewTracks:{melidata:S(i),analytics:k(i)}},n}return u(a,[{key:"componentDidMount",value:function(){var e=this;if(window.__REACT__LOADED__E2E__=!0,this.state.viewData.isSkeletonMock){var t="MLB"===this.props.siteId?"/assinaturas/nivel-6/api":"/suscripciones/nivel-6/api",r=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",i=T.parse(r);E.get(t,{params:i}).then((function(t){var n=t.data;if(n){var r=e.props.platformId;n.platformId=r;var i={viewData:n,viewTracks:{melidata:S(n),analytics:k(n)}};e.setState(i,(function(){return e.trackPostSkeletonView(n)}))}})).catch((function(e){return retryCount<5?requestData(t,i,retryCount+1):{retryCount:retryCount,error:e,apiUrl:t}}))}}},{key:"trackPostSkeletonView",value:function(e){var t={melidata:S(e),analytics:k(e)};C.trackMelidata(t.melidata),C.trackAnalyticsPageview(t.analytics)}},{key:"render",value:function(){var e,t=this.props,n=(t.stylesheetName,t.webView),a=t.avoidScripts,l=t.platformId,u=t.scriptName,c=t.siteId,d=t.deviceType,p=t.userId,f=t.metrics,m=t.device,v=t.wrapper,T=this.state,E=T.viewData,S=T.viewTracks,k="nivel-6";x.trackFirebaseViewInVdp(k);var C=g(g({},E),{},{deviceType:d,nativeApp:null==m||null===(e=m.nativeApp)||void 0===e?void 0:e.os.toLowerCase(),userId:p,siteId:c,partnerName:k,platformId:l,eventHandlers:j({deviceType:d,platformId:l}),webView:n,wrapper:v}),P=this.props,O=(P.req,s(P,h)),I=this.BuyLevel6Component,A={name:u,state:O,styles:!1,scripts:!a,melidata:S.melidata,analytics:S.analytics};return b.createElement(_,o({},A,{className:"mercado-puntos-container"}),null,b.createElement(w,f.googleTagManager),null,!a&&null,b.createElement(I,o({},C,{"data-testid":"buy-level-6-component"})),!n&&(r||(r=i(y,{}))))}}]),a}(b.Component);P.defaultProps={avoidScripts:!1,trackLanding:!1},e.exports=P},"./app/pages/buy-level-6/views/desktop.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=r(n("./node_modules/@babel/runtime/helpers/createClass.js")),o=r(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(n("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(n("./node_modules/@loyalty/components-partners/lib/buy-level-6/desktop/index.js"));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).BuyLevel6Component=u.default,r}return(0,i.default)(n)}(n("./app/pages/buy-level-6/views/base-view.js"));e.exports=d},"./app/pages/buy-level-6/views/event-handlers/analytics.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackClickSuscriptionPlan=void 0;var n=function(e,t,n,r,i,o){if("undefined"!=typeof meli_ga){meli_ga("set","page","/LOYALTY/PARTNERS/NIVEL6/ACTION/");var s,a,l=(s="origin",(a=location.hash.substring(1))?new URLSearchParams(a).get(s):null);if(l&&("ML"===e?meli_ga("set","dimension89",l):meli_ga("set","dimension48",l)),null!=o&&void 0!==i&&void 0!==i.plans){var u=i.plans.find((function(e){return e.id===o}));void 0!==u&&("ML"===e?meli_ga("set","dimension117",u.type):meli_ga("set","dimension80",u.type))}var c=r?r.toUpperCase():null;meli_ga("send","event",t,n,c)}};t.trackClickSuscriptionPlan=function(e,t,r,i){n(e,"LOYALTY","SUBSCRIPTION",t,r,i)}},"./app/pages/buy-level-6/views/event-handlers/desktop.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=n("./node_modules/querystring/index.js"),a=n("./app/pages/buy-level-6/views/event-handlers/shared.js"),l=n("./app/pages/_utils/vdp-helpers.js"),u=l.checkoutUrl,c=l.validateResponseCheckoutUrl,d=n("./app/pages/buy-level-6/views/event-handlers/melidata.js"),p=n("./app/pages/buy-level-6/views/event-handlers/analytics.js").trackClickSuscriptionPlan,f=n("./app/pages/_utils/webview-topic-manager.js");e.exports=function(e){return o(o({},a(e)),{},{"hero-cta":{subscribeClickEvent:function(t,r){var i=t.siteId,o=t.planId,a=t.partnerName,l=t.eventType,d=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",f=s.parse(d).wrapper;return p(e,a),c(u({siteId:i,planId:o,partnerName:a,origin:"VDPsubscriptionPlan",eventType:l,wrapper:f}),r)},trackCTAClickEvent:function(e){var t=e.trackInfo;d["cta-primary"]({trackInfo:t})},trackTycClickEvent:function(e){var t=e.trackInfo;d.tyc({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;d["cta-secondary"]({trackInfo:t})}},"header-combo-sub-v2":{subscribeClickEvent:function(t,r){var i=t.siteId,o=t.planId,a=t.partnerName,l=t.eventType,d=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",f=s.parse(d).wrapper;return p(e,a),c(u({siteId:i,planId:o,partnerName:a,origin:"VDPsubscriptionPlan",eventType:l,wrapper:f}),r)},trackCTAClickEvent:function(e){var t=e.trackInfo;d["cta-primary"]({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;d["cta-secondary"]({trackInfo:t})}},"header-combo-sub-v2-promo-l6":{subscribeClickEvent:function(t,r){var i=t.siteId,o=t.planId,a=t.partnerName,l=t.eventType,d=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",f=s.parse(d).wrapper;return p(e,a),c(u({siteId:i,planId:o,partnerName:a,origin:"VDPsubscriptionPlan",eventType:l,wrapper:f}),r)},trackCTAClickEvent:function(e){var t=e.trackInfo;d["cta-primary"]({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;d["cta-secondary"]({trackInfo:t})}},"subscription-cta-v2":{subscribeClickEvent:function(e,t){var r=e.siteId,i=e.planId,o=e.partnerName,a=e.eventType,l=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",d=s.parse(l).wrapper;f.trackFirebaseEventWhenStartFlow(o),c(u({siteId:r,planId:i,partnerName:o,origin:"VDPsubscriptionCTA",eventType:a,wrapper:d}),t)},trackCTAClickEvent:function(e){var t=e.trackInfo;d["cta-primary"]({trackInfo:t})},trackTycClickEvent:function(e){var t=e.trackInfo;d.tyc({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;d["cta-secondary"]({trackInfo:t})}},"benefits-category-v2":{"combo-plus-sub":{trackVideoClickEvent:function(e){var t=e.trackInfo;d.video({trackInfo:t})}}}})}},"./app/pages/buy-level-6/views/event-handlers/index.js":function(e,t,n){var r=n("./app/pages/buy-level-6/views/event-handlers/shared.js"),i=n("./app/pages/buy-level-6/views/event-handlers/mobile.js"),o=n("./app/pages/buy-level-6/views/event-handlers/desktop.js"),s=n("./app/pages/buy-level-6/views/event-handlers/webview.js");e.exports={getEventHandlers:function(e){var t=e.deviceType,n=e.platformId;return"desktop"===t?o(n):"mobile"===t?i(n):"webview"===t?s(n):r(n)}}},"./app/pages/buy-level-6/views/event-handlers/melidata.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=n("./app/pages/_utils/Tracks.js"),a="/loyalty/buylevel/action";e.exports={"cta-primary":function(e){var t=e.trackInfo,n="default";null!=t&&t.level&&"inactive"===(null==t?void 0:t.subscription_status)&&(n="activate"),null!=t&&t.level||(n="login"),6===(null==t?void 0:t.level)&&(n="primary");var r=o(o({},t),{},{type:"event",path:a,event_data:{subscription_status:null==t?void 0:t.subscription_status,type:n,level:null==t?void 0:t.level}});s.trackMelidata(r)},"cta-secondary":function(e){var t=e.trackInfo,n=o(o({},t),{},{type:"event",path:a,event_data:{subscription_status:null==t?void 0:t.subscription_status,type:"secondary",level:null==t?void 0:t.level}});s.trackMelidata(n)},tyc:function(e){var t=e.trackInfo,n=o(o({},t),{},{type:"event",path:a,event_data:{subscription_status:null==t?void 0:t.subscription_status,type:"tyc",level:null==t?void 0:t.level}});s.trackMelidata(n)},video:function(e){var t=e.trackInfo,n=o(o({},t),{},{type:"event",path:a,event_data:{subscription_status:null==t?void 0:t.subscription_status,type:"play_video",level:null==t?void 0:t.level}});s.trackMelidata(n)}}},"./app/pages/buy-level-6/views/event-handlers/mobile.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=n("./app/pages/buy-level-6/views/event-handlers/shared.js"),a=n("./app/pages/_utils/vdp-helpers.js").handleHistoryBack;e.exports=function(e){return o(o({},s(e)),{},{"header-combo-sub-v2":a,"header-combo-sub-v2-promo-l6":a})}},"./app/pages/buy-level-6/views/event-handlers/shared.js":function(e,t,n){var r=n("./node_modules/querystring/index.js"),i=n("./app/pages/_utils/vdp-helpers.js"),o=i.checkoutUrl,s=i.validateResponseCheckoutUrl,a=n("./app/pages/_utils/webview-topic-manager.js"),l=n("./app/pages/buy-level-6/views/event-handlers/melidata.js");e.exports=function(e){return{"subscription-cta":{subscribeClickEvent:function(e,t){var i=e.siteId,l=e.planId,u=e.partnerName,c=e.eventType,d=n.g.location&&n.g.location.search?n.g.location.search.slice(1):"",p=r.parse(d).wrapper;a.trackFirebaseEventWhenStartFlow(u),s(o({siteId:i,planId:l,partnerName:u,origin:"VDPsubscriptionCTA",eventType:c,wrapper:p}),t)},trackCTAClickEvent:function(e){var t=e.trackInfo;l["cta-primary"]({trackInfo:t})},trackTycClickEvent:function(e){var t=e.trackInfo;l.tyc({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;l["cta-secondary"]({trackInfo:t})}}}}},"./app/pages/buy-level-6/views/event-handlers/webview.js":function(e,t,n){n("./app/pages/buy-level-6/views/event-handlers/mobile.js");var r=n("./app/pages/buy-level-6/views/event-handlers/melidata.js"),i=n("./app/pages/_utils/vdp-helpers.js"),o=i.handleDeeplink,s=i.getBasePath,a=i.linkDeeplink,l=n("./app/pages/_utils/webview-topic-manager.js"),u=n("./node_modules/nordic/restclient/index.js")({timeout:3e3,baseURL:"/"});e.exports=function(e){return{"subscription-cta":{subscribeClickEvent:function(e,t){var r=e.userId,i=e.siteId,c=e.planId,d=(e.partnerName,e.eventType),p=e.wrapper,f={planId:c,siteId:i,userId:r,eventType:d,wrapper:p};return new Promise((function(e,c){if("number"==typeof r)return l.subscribeWebviewToTopic("loyalty-vdp-topic","refresh"),l.trackFirebaseEventWhenStartFlow("nivel-6"),u.post("/".concat(s(i),"/nivel-6/api"),{params:f}).then((function(t){e(),o(t)})).catch((function(e){c(),t(),setTimeout((function(){window.location.reload()}),3e3)}));var d=encodeURIComponent(window.location.href),p=encodeURIComponent(n.g.document.title),h="meli://loyalty/webview?url=".concat(d,"%23origin%3Dlogin-redirect&title=").concat(p,"&use_web_title=false&back_style=menu&back_action=close&swipe_gesture=false&authentication_mode=required");a(h),l.closeWebView(),c()}))},trackCTAClickEvent:function(e){var t=e.trackInfo;r["cta-primary"]({trackInfo:t})},trackTycClickEvent:function(e){var t=e.trackInfo;r.tyc({trackInfo:t})},trackSecondaryCTAClickEvent:function(e){var t=e.trackInfo;r["cta-secondary"]({trackInfo:t})}},"header-combo-sub-v2":l.closeWebView,"header-combo-sub-v2-promo-l6":l.closeWebView}}},"./node_modules/clsx/dist/clsx.m.js":function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},"./node_modules/core-js/internals/a-callable.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/try-to-string.js"),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},"./node_modules/core-js/internals/a-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-constructor.js"),i=n("./node_modules/core-js/internals/try-to-string.js"),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},"./node_modules/core-js/internals/a-possible-prototype.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js"),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},"./node_modules/core-js/internals/add-to-unscopables.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/object-create.js"),o=n("./node_modules/core-js/internals/object-define-property.js").f,s=r("unscopables"),a=Array.prototype;null==a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"./node_modules/core-js/internals/an-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},"./node_modules/core-js/internals/array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/to-absolute-index.js"),o=n("./node_modules/core-js/internals/length-of-array-like.js"),s=function(e){return function(t,n,s){var a,l=r(t),u=o(l),c=i(s,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-context.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/indexed-object.js"),s=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/length-of-array-like.js"),l=n("./node_modules/core-js/internals/array-species-create.js"),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,d=6==e,p=7==e,f=5==e||d;return function(h,m,g,v){for(var y,_,b=s(h),T=o(b),E=r(m,g),w=a(T),j=0,S=v||l,k=t?S(h,w):n||p?S(h,0):void 0;w>j;j++)if((f||j in T)&&(_=E(y=T[j],j,b),e))if(t)k[j]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return j;case 2:u(k,y)}else switch(e){case 4:return!1;case 7:u(k,y)}return d?-1:i||c?c:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},"./node_modules/core-js/internals/array-method-is-strict.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/fails.js");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},"./node_modules/core-js/internals/array-slice-simple.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-absolute-index.js"),i=n("./node_modules/core-js/internals/length-of-array-like.js"),o=n("./node_modules/core-js/internals/create-property.js"),s=Array,a=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=s(a(c-u,0)),p=0;u<c;u++,p++)o(d,p,e[u]);return d.length=p,d}},"./node_modules/core-js/internals/array-slice.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=r([].slice)},"./node_modules/core-js/internals/array-species-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-array.js"),i=n("./node_modules/core-js/internals/is-constructor.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("species"),a=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===a||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},"./node_modules/core-js/internals/array-species-create.js":function(e,t,n){var r=n("./node_modules/core-js/internals/array-species-constructor.js");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"./node_modules/core-js/internals/classof-raw.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},"./node_modules/core-js/internals/classof.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-string-tag-support.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),a=Object,l="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:l?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/own-keys.js"),o=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),s=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t,n){for(var a=i(t),l=s.f,u=o.f,c=0;c<a.length;c++){var d=a[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"./node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,i=n("./node_modules/core-js/internals/object-create.js"),o=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/set-to-string-tag.js"),a=n("./node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),s(e,c,!1,!0),a[c]=l,e}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/internals/create-property-descriptor.js":function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/internals/create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-property-key.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"./node_modules/core-js/internals/define-built-in.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/make-built-in.js"),s=n("./node_modules/core-js/internals/define-global-property.js");e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},"./node_modules/core-js/internals/define-global-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"./node_modules/core-js/internals/define-iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/function-call.js"),o=n("./node_modules/core-js/internals/is-pure.js"),s=n("./node_modules/core-js/internals/function-name.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/create-iterator-constructor.js"),u=n("./node_modules/core-js/internals/object-get-prototype-of.js"),c=n("./node_modules/core-js/internals/object-set-prototype-of.js"),d=n("./node_modules/core-js/internals/set-to-string-tag.js"),p=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=n("./node_modules/core-js/internals/define-built-in.js"),h=n("./node_modules/core-js/internals/well-known-symbol.js"),m=n("./node_modules/core-js/internals/iterators.js"),g=n("./node_modules/core-js/internals/iterators-core.js"),v=s.PROPER,y=s.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,T=h("iterator"),E="keys",w="values",j="entries",S=function(){return this};e.exports=function(e,t,n,s,h,g,k){l(n,t,s);var x,C,P,O=function(e){if(e===h&&D)return D;if(!b&&e in N)return N[e];switch(e){case E:case w:case j:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",A=!1,N=e.prototype,L=N[T]||N["@@iterator"]||h&&N[h],D=!b&&L||O(h),R="Array"==t&&N.entries||L;if(R&&(x=u(R.call(new e)))!==Object.prototype&&x.next&&(o||u(x)===_||(c?c(x,_):a(x[T])||f(x,T,S)),d(x,I,!0,!0),o&&(m[I]=S)),v&&h==w&&L&&L.name!==w&&(!o&&y?p(N,"name",w):(A=!0,D=function(){return i(L,this)})),h)if(C={values:O(w),keys:g?D:O(E),entries:O(j)},k)for(P in C)(b||A||!(P in N))&&f(N,P,C[P]);else r({target:t,proto:!0,forced:b||A},C);return o&&!k||N[T]===D||f(N,T,D,{name:h}),m[t]=D,C}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/path.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),s=n("./node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},"./node_modules/core-js/internals/descriptors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"./node_modules/core-js/internals/document-create-element.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-object.js"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/dom-token-list-prototype.js":function(e,t,n){var r=n("./node_modules/core-js/internals/document-create-element.js")("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},"./node_modules/core-js/internals/engine-user-agent.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js");e.exports=r("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(e,t,n){var r,i,o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/engine-user-agent.js"),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},"./node_modules/core-js/internals/enum-bug-keys.js":function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,o=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),s=n("./node_modules/core-js/internals/define-built-in.js"),a=n("./node_modules/core-js/internals/define-global-property.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),u=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var n,c,d,p,f,h=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(c in t){if(p=t[c],d=e.dontCallGetSet?(f=i(n,c))&&f.value:n[c],!u(m?c:h+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(n,c,p,e)}}},"./node_modules/core-js/internals/fails.js":function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/internals/function-apply.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},"./node_modules/core-js/internals/function-bind-context.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/a-callable.js"),o=n("./node_modules/core-js/internals/function-bind-native.js"),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},"./node_modules/core-js/internals/function-bind-native.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"./node_modules/core-js/internals/function-bind.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/a-callable.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/has-own-property.js"),a=n("./node_modules/core-js/internals/array-slice.js"),l=n("./node_modules/core-js/internals/function-bind-native.js"),u=Function,c=r([].concat),d=r([].join),p={},f=function(e,t,n){if(!s(p,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";p[t]=u("C,a","return new C("+d(r,",")+")")}return p[t](e,n)};e.exports=l?u.bind:function(e){var t=i(this),n=t.prototype,r=a(arguments,1),s=function(){var n=c(r,a(arguments));return this instanceof s?f(t,n.length,n):t.apply(e,n)};return o(n)&&(s.prototype=n),s}},"./node_modules/core-js/internals/function-call.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},"./node_modules/core-js/internals/function-name.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},"./node_modules/core-js/internals/function-uncurry-this.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},"./node_modules/core-js/internals/get-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/a-callable.js");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},"./node_modules/core-js/internals/global.js":function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has-own-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/to-object.js"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},"./node_modules/core-js/internals/hidden-keys.js":function(e){e.exports={}},"./node_modules/core-js/internals/html.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js");e.exports=r("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/document-create-element.js");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/classof-raw.js"),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},"./node_modules/core-js/internals/inspect-source.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/shared-store.js"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(e,t,n){var r,i,o,s=n("./node_modules/core-js/internals/native-weak-map.js"),a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-uncurry-this.js"),u=n("./node_modules/core-js/internals/is-object.js"),c=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=n("./node_modules/core-js/internals/has-own-property.js"),p=n("./node_modules/core-js/internals/shared-store.js"),f=n("./node_modules/core-js/internals/shared-key.js"),h=n("./node_modules/core-js/internals/hidden-keys.js"),m="Object already initialized",g=a.TypeError,v=a.WeakMap;if(s||p.state){var y=p.state||(p.state=new v),_=l(y.get),b=l(y.has),T=l(y.set);r=function(e,t){if(b(y,e))throw new g(m);return t.facade=e,T(y,e,t),t},i=function(e){return _(y,e)||{}},o=function(e){return b(y,e)}}else{var E=f("state");h[E]=!0,r=function(e,t){if(d(e,E))throw new g(m);return t.facade=e,c(e,E,t),t},i=function(e){return d(e,E)?e[E]:{}},o=function(e){return d(e,E)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js/internals/is-array.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/internals/is-callable.js":function(e){e.exports=function(e){return"function"==typeof e}},"./node_modules/core-js/internals/is-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/classof.js"),a=n("./node_modules/core-js/internals/get-built-in.js"),l=n("./node_modules/core-js/internals/inspect-source.js"),u=function(){},c=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=r(p.exec),h=!p.exec(u),m=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},"./node_modules/core-js/internals/is-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},"./node_modules/core-js/internals/is-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},"./node_modules/core-js/internals/is-pure.js":function(e){e.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/object-is-prototype-of.js"),s=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},"./node_modules/core-js/internals/iterators-core.js":function(e,t,n){"use strict";var r,i,o,s=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/object-create.js"),u=n("./node_modules/core-js/internals/object-get-prototype-of.js"),c=n("./node_modules/core-js/internals/define-built-in.js"),d=n("./node_modules/core-js/internals/well-known-symbol.js"),p=n("./node_modules/core-js/internals/is-pure.js"),f=d("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):h=!0),null==r||s((function(){var e={};return r[f].call(e)!==e}))?r={}:p&&(r=l(r)),a(r[f])||c(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},"./node_modules/core-js/internals/iterators.js":function(e){e.exports={}},"./node_modules/core-js/internals/length-of-array-like.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-length.js");e.exports=function(e){return r(e.length)}},"./node_modules/core-js/internals/make-built-in.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/descriptors.js"),a=n("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,l=n("./node_modules/core-js/internals/inspect-source.js"),u=n("./node_modules/core-js/internals/internal-state.js"),c=u.enforce,d=u.get,p=Object.defineProperty,f=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||a&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&o(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=c(e);return o(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&d(this).source||l(this)}),"toString")},"./node_modules/core-js/internals/math-trunc.js":function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},"./node_modules/core-js/internals/native-symbol-registry.js":function(e,t,n){var r=n("./node_modules/core-js/internals/native-symbol.js");e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},"./node_modules/core-js/internals/native-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/engine-v8-version.js"),i=n("./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"./node_modules/core-js/internals/native-weak-map.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/inspect-source.js"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},"./node_modules/core-js/internals/object-create.js":function(e,t,n){var r,i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/object-define-properties.js"),s=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=n("./node_modules/core-js/internals/hidden-keys.js"),l=n("./node_modules/core-js/internals/html.js"),u=n("./node_modules/core-js/internals/document-create-element.js"),c=n("./node_modules/core-js/internals/shared-key.js"),d=c("IE_PROTO"),p=function(){},f=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&r?h(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):h(r);for(var n=s.length;n--;)delete m.prototype[s[n]];return m()};a[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=i(e),n=new p,p.prototype=null,n[d]=e):n=m(),void 0===t?n:o.f(n,t)}},"./node_modules/core-js/internals/object-define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),s=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/object-keys.js");t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=a(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,n=i[c++],r[n]);return e}},"./node_modules/core-js/internals/object-define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/ie8-dom-define.js"),o=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),s=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/to-property-key.js"),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n.writable){var r=c(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:p in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/function-call.js"),o=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/to-property-key.js"),u=n("./node_modules/core-js/internals/has-own-property.js"),c=n("./node_modules/core-js/internals/ie8-dom-define.js"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,s=n("./node_modules/core-js/internals/array-slice-simple.js"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return o(e)}catch(e){return s(a)}}(e):o(i(e))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/shared-key.js"),a=n("./node_modules/core-js/internals/correct-prototype-getter.js"),l=s("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},"./node_modules/core-js/internals/object-is-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=r({}.isPrototypeOf)},"./node_modules/core-js/internals/object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/to-indexed-object.js"),s=n("./node_modules/core-js/internals/array-includes.js").indexOf,a=n("./node_modules/core-js/internals/hidden-keys.js"),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~s(c,n)||l(c,n));return c}},"./node_modules/core-js/internals/object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,i)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},"./node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-string-tag-support.js"),i=n("./node_modules/core-js/internals/classof.js");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/object-get-own-property-names.js"),s=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),a=n("./node_modules/core-js/internals/an-object.js"),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},"./node_modules/core-js/internals/path.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=r},"./node_modules/core-js/internals/regexp-flags.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},"./node_modules/core-js/internals/regexp-get-flags.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/object-is-prototype-of.js"),s=n("./node_modules/core-js/internals/regexp-flags.js"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:r(s,e)}},"./node_modules/core-js/internals/require-object-coercible.js":function(e){var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},"./node_modules/core-js/internals/set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js").f,i=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},"./node_modules/core-js/internals/shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js"),i=n("./node_modules/core-js/internals/uid.js"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"./node_modules/core-js/internals/shared-store.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/define-global-property.js"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},"./node_modules/core-js/internals/shared.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-pure.js"),i=n("./node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"./node_modules/core-js/internals/string-multibyte.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),o=n("./node_modules/core-js/internals/to-string.js"),s=n("./node_modules/core-js/internals/require-object-coercible.js"),a=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=o(s(t)),p=i(n),f=d.length;return p<0||p>=f?e?"":void 0:(r=l(d,p))<55296||r>56319||p+1===f||(c=l(d,p+1))<56320||c>57343?e?a(d,p):r:e?u(d,p,p+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},"./node_modules/core-js/internals/symbol-define-to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js"),s=n("./node_modules/core-js/internals/define-built-in.js");e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},"./node_modules/core-js/internals/to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"./node_modules/core-js/internals/to-indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return r(i(e))}},"./node_modules/core-js/internals/to-integer-or-infinity.js":function(e,t,n){var r=n("./node_modules/core-js/internals/math-trunc.js");e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},"./node_modules/core-js/internals/to-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/require-object-coercible.js"),i=Object;e.exports=function(e){return i(r(e))}},"./node_modules/core-js/internals/to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/is-symbol.js"),s=n("./node_modules/core-js/internals/get-method.js"),a=n("./node_modules/core-js/internals/ordinary-to-primitive.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},"./node_modules/core-js/internals/to-property-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-primitive.js"),i=n("./node_modules/core-js/internals/is-symbol.js");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},"./node_modules/core-js/internals/to-string-tag-support.js":function(e,t,n){var r={};r[n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(r)},"./node_modules/core-js/internals/to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof.js"),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},"./node_modules/core-js/internals/try-to-string.js":function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},"./node_modules/core-js/internals/uid.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,n){var r=n("./node_modules/core-js/internals/native-symbol.js");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js/internals/v8-prototype-define-bug.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/fails.js");e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js");t.f=r},"./node_modules/core-js/internals/well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/shared.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/uid.js"),a=n("./node_modules/core-js/internals/native-symbol.js"),l=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),u=i("wks"),c=r.Symbol,d=c&&c.for,p=l?c:c&&c.withoutSetter||s;e.exports=function(e){if(!o(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):p(t)}return u[e]}},"./node_modules/core-js/modules/es.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/add-to-unscopables.js"),o=n("./node_modules/core-js/internals/iterators.js"),s=n("./node_modules/core-js/internals/internal-state.js"),a=n("./node_modules/core-js/internals/object-define-property.js").f,l=n("./node_modules/core-js/internals/define-iterator.js"),u=n("./node_modules/core-js/internals/is-pure.js"),c=n("./node_modules/core-js/internals/descriptors.js"),d="Array Iterator",p=s.set,f=s.getterFor(d);e.exports=l(Array,"Array",(function(e,t){p(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==h.name)try{a(h,"name",{value:"values"})}catch(e){}},"./node_modules/core-js/modules/es.array.join.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/indexed-object.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/array-method-is-strict.js"),l=i([].join),u=o!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return l(s(this),void 0===e?",":e)}})},"./node_modules/core-js/modules/es.json.stringify.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/function-call.js"),a=n("./node_modules/core-js/internals/function-uncurry-this.js"),l=n("./node_modules/core-js/internals/fails.js"),u=n("./node_modules/core-js/internals/is-array.js"),c=n("./node_modules/core-js/internals/is-callable.js"),d=n("./node_modules/core-js/internals/is-object.js"),p=n("./node_modules/core-js/internals/is-symbol.js"),f=n("./node_modules/core-js/internals/array-slice.js"),h=n("./node_modules/core-js/internals/native-symbol.js"),m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),_=a("".replace),b=a(1..toString),T=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,j=!h||l((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),S=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),k=function(e,t){var n=f(arguments),r=t;if((d(t)||void 0!==e)&&!p(e))return u(t)||(t=function(e,t){if(c(r)&&(t=s(r,this,e,t)),!p(t))return t}),n[1]=t,o(m,null,n)},x=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return g(E,e)&&!g(w,i)||g(w,e)&&!g(E,r)?"\\u"+b(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:j||S},{stringify:function(e,t,n){var r=f(arguments),i=o(j?k:m,null,r);return S&&"string"==typeof i?_(i,T,x):i}})},"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/native-symbol.js"),o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),a=n("./node_modules/core-js/internals/to-object.js");r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"./node_modules/core-js/modules/es.object.get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/object-get-prototype-of.js"),a=n("./node_modules/core-js/internals/correct-prototype-getter.js");r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},"./node_modules/core-js/modules/es.object.set-prototype-of.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"Object",stat:!0},{setPrototypeOf:n("./node_modules/core-js/internals/object-set-prototype-of.js")})},"./node_modules/core-js/modules/es.object.to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-string-tag-support.js"),i=n("./node_modules/core-js/internals/define-built-in.js"),o=n("./node_modules/core-js/internals/object-to-string.js");r||i(Object.prototype,"toString",o,{unsafe:!0})},"./node_modules/core-js/modules/es.reflect.construct.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/function-bind.js"),a=n("./node_modules/core-js/internals/a-constructor.js"),l=n("./node_modules/core-js/internals/an-object.js"),u=n("./node_modules/core-js/internals/is-object.js"),c=n("./node_modules/core-js/internals/object-create.js"),d=n("./node_modules/core-js/internals/fails.js"),p=i("Reflect","construct"),f=Object.prototype,h=[].push,m=d((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),g=!d((function(){p((function(){}))})),v=m||g;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),l(t);var n=arguments.length<3?e:a(arguments[2]);if(g&&!m)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(h,r,t),new(o(s,e,r))}var i=n.prototype,d=c(u(i)?i:f),v=o(e,d,t);return u(v)?v:d}})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-name.js").PROPER,i=n("./node_modules/core-js/internals/define-built-in.js"),o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/fails.js"),l=n("./node_modules/core-js/internals/regexp-get-flags.js"),u="toString",c=RegExp.prototype.toString,d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=r&&c.name!=u;(d||p)&&i(RegExp.prototype,u,(function(){var e=o(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-multibyte.js").charAt,i=n("./node_modules/core-js/internals/to-string.js"),o=n("./node_modules/core-js/internals/internal-state.js"),s=n("./node_modules/core-js/internals/define-iterator.js"),a="String Iterator",l=o.set,u=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"./node_modules/core-js/modules/es.symbol.constructor.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/is-pure.js"),l=n("./node_modules/core-js/internals/descriptors.js"),u=n("./node_modules/core-js/internals/native-symbol.js"),c=n("./node_modules/core-js/internals/fails.js"),d=n("./node_modules/core-js/internals/has-own-property.js"),p=n("./node_modules/core-js/internals/object-is-prototype-of.js"),f=n("./node_modules/core-js/internals/an-object.js"),h=n("./node_modules/core-js/internals/to-indexed-object.js"),m=n("./node_modules/core-js/internals/to-property-key.js"),g=n("./node_modules/core-js/internals/to-string.js"),v=n("./node_modules/core-js/internals/create-property-descriptor.js"),y=n("./node_modules/core-js/internals/object-create.js"),_=n("./node_modules/core-js/internals/object-keys.js"),b=n("./node_modules/core-js/internals/object-get-own-property-names.js"),T=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),E=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),j=n("./node_modules/core-js/internals/object-define-property.js"),S=n("./node_modules/core-js/internals/object-define-properties.js"),k=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=n("./node_modules/core-js/internals/define-built-in.js"),C=n("./node_modules/core-js/internals/shared.js"),P=n("./node_modules/core-js/internals/shared-key.js"),O=n("./node_modules/core-js/internals/hidden-keys.js"),I=n("./node_modules/core-js/internals/uid.js"),A=n("./node_modules/core-js/internals/well-known-symbol.js"),N=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),L=n("./node_modules/core-js/internals/define-well-known-symbol.js"),D=n("./node_modules/core-js/internals/symbol-define-to-primitive.js"),R=n("./node_modules/core-js/internals/set-to-string-tag.js"),M=n("./node_modules/core-js/internals/internal-state.js"),U=n("./node_modules/core-js/internals/array-iteration.js").forEach,B=P("hidden"),F="Symbol",H=M.set,q=M.getterFor(F),V=Object.prototype,W=i.Symbol,z=W&&W.prototype,G=i.TypeError,K=i.QObject,X=w.f,Y=j.f,$=T.f,Q=k.f,Z=s([].push),J=C("symbols"),ee=C("op-symbols"),te=C("wks"),ne=!K||!K.prototype||!K.prototype.findChild,re=l&&c((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=X(V,t);r&&delete V[t],Y(e,t,n),r&&e!==V&&Y(V,t,r)}:Y,ie=function(e,t){var n=J[e]=y(z);return H(n,{type:F,tag:e,description:t}),l||(n.description=t),n},oe=function(e,t,n){e===V&&oe(ee,t,n),f(e);var r=m(t);return f(n),d(J,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(e,B)||Y(e,B,v(1,{})),e[B][r]=!0),re(e,r,n)):Y(e,r,n)},se=function(e,t){f(e);var n=h(t),r=_(n).concat(ce(n));return U(r,(function(t){l&&!o(ae,n,t)||oe(e,t,n[t])})),e},ae=function(e){var t=m(e),n=o(Q,this,t);return!(this===V&&d(J,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(J,t)||d(this,B)&&this[B][t])||n)},le=function(e,t){var n=h(e),r=m(t);if(n!==V||!d(J,r)||d(ee,r)){var i=X(n,r);return!i||!d(J,r)||d(n,B)&&n[B][r]||(i.enumerable=!0),i}},ue=function(e){var t=$(h(e)),n=[];return U(t,(function(e){d(J,e)||d(O,e)||Z(n,e)})),n},ce=function(e){var t=e===V,n=$(t?ee:h(e)),r=[];return U(n,(function(e){!d(J,e)||t&&!d(V,e)||Z(r,J[e])})),r};u||(W=function(){if(p(z,this))throw G("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=I(e),n=function(e){this===V&&o(n,ee,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),re(this,t,v(1,e))};return l&&ne&&re(V,t,{configurable:!0,set:n}),ie(t,e)},x(z=W.prototype,"toString",(function(){return q(this).tag})),x(W,"withoutSetter",(function(e){return ie(I(e),e)})),k.f=ae,j.f=oe,S.f=se,w.f=le,b.f=T.f=ue,E.f=ce,N.f=function(e){return ie(A(e),e)},l&&(Y(z,"description",{configurable:!0,get:function(){return q(this).description}}),a||x(V,"propertyIsEnumerable",ae,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),U(_(te),(function(e){L(e)})),r({target:F,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),D(),R(W,F),O[B]=!0},"./node_modules/core-js/modules/es.symbol.description.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/is-callable.js"),u=n("./node_modules/core-js/internals/object-is-prototype-of.js"),c=n("./node_modules/core-js/internals/to-string.js"),d=n("./node_modules/core-js/internals/object-define-property.js").f,p=n("./node_modules/core-js/internals/copy-constructor-properties.js"),f=o.Symbol,h=f&&f.prototype;if(i&&l(f)&&(!("description"in h)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(h,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};p(g,f),g.prototype=h,h.constructor=g;var v="Symbol(test)"==String(f("test")),y=s(h.toString),_=s(h.valueOf),b=/^Symbol\((.*)\)[^)]+$/,T=s("".replace),E=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=_(this),t=y(e);if(a(m,e))return"";var n=v?E(t,7,-1):T(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},"./node_modules/core-js/modules/es.symbol.for.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/native-symbol-registry.js"),u=a("string-to-symbol-registry"),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,c[n]=t,n}})},"./node_modules/core-js/modules/es.symbol.iterator.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(e,t,n){n("./node_modules/core-js/modules/es.symbol.constructor.js"),n("./node_modules/core-js/modules/es.symbol.for.js"),n("./node_modules/core-js/modules/es.symbol.key-for.js"),n("./node_modules/core-js/modules/es.json.stringify.js"),n("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")},"./node_modules/core-js/modules/es.symbol.key-for.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/is-symbol.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),a=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/native-symbol-registry.js"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(s(e)+" is not a symbol");if(i(u,e))return u[e]}})},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/dom-iterables.js"),o=n("./node_modules/core-js/internals/dom-token-list-prototype.js"),s=n("./node_modules/core-js/modules/es.array.iterator.js"),a=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),u=l("iterator"),c=l("toStringTag"),d=s.values,p=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(t){e[u]=d}if(e[c]||a(e,c,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var f in i)p(r[f]&&r[f].prototype,f);p(o,"DOMTokenList")},"./node_modules/dom-helpers/ownerDocument.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},"./node_modules/dom-helpers/query/contains.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=void 0;var i=r(n("./node_modules/dom-helpers/util/inDOM.js")).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},"./node_modules/dom-helpers/query/isWindow.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},"./node_modules/dom-helpers/query/offset.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){var t=(0,s.default)(e),n=(0,o.default)(t),r=t&&t.documentElement,a={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,i.default)(r,e))return a;void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect());return a={top:a.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:a.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==a.width?e.offsetWidth:a.width)||0,height:(null==a.height?e.offsetHeight:a.height)||0}};var i=r(n("./node_modules/dom-helpers/query/contains.js")),o=r(n("./node_modules/dom-helpers/query/isWindow.js")),s=r(n("./node_modules/dom-helpers/ownerDocument.js"));e.exports=t.default},"./node_modules/dom-helpers/query/offsetParent.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==s(e)&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=r(n("./node_modules/dom-helpers/ownerDocument.js")),o=r(n("./node_modules/dom-helpers/style/index.js"));function s(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},"./node_modules/dom-helpers/query/position.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){var n,r={top:0,left:0};"fixed"===(0,u.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,s.default)(e),n=(0,o.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(r=(0,o.default)(t)),r.top+=parseInt((0,u.default)(t,"borderTopWidth"),10)-(0,a.default)(t)||0,r.left+=parseInt((0,u.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,i.default)({},n,{top:n.top-r.top-(parseInt((0,u.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,u.default)(e,"marginLeft"),10)||0)})};var i=r(n("./node_modules/@babel/runtime/helpers/extends.js")),o=r(n("./node_modules/dom-helpers/query/offset.js")),s=r(n("./node_modules/dom-helpers/query/offsetParent.js")),a=r(n("./node_modules/dom-helpers/query/scrollTop.js")),l=r(n("./node_modules/dom-helpers/query/scrollLeft.js")),u=r(n("./node_modules/dom-helpers/style/index.js"));e.exports=t.default},"./node_modules/dom-helpers/query/scrollLeft.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=r(n("./node_modules/dom-helpers/query/isWindow.js"));e.exports=t.default},"./node_modules/dom-helpers/query/scrollTop.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=r(n("./node_modules/dom-helpers/query/isWindow.js"));e.exports=t.default},"./node_modules/dom-helpers/style/getComputedStyle.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),s.test(r)&&!o.test(t)){var a=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=a,u&&(l.left=u)}return r}}};var i=r(n("./node_modules/dom-helpers/util/camelizeStyle.js")),o=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},"./node_modules/dom-helpers/style/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t,n){var r="",c="",d=t;if("string"==typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,s.default)(e).getPropertyValue((0,o.default)(t));(d={})[t]=n}Object.keys(d).forEach((function(t){var n=d[t];n||0===n?(0,u.default)(t)?c+=t+"("+n+") ":r+=(0,o.default)(t)+": "+n+";":(0,a.default)(e,(0,o.default)(t))})),c&&(r+=l.transform+": "+c+";");e.style.cssText+=";"+r};var i=r(n("./node_modules/dom-helpers/util/camelizeStyle.js")),o=r(n("./node_modules/dom-helpers/util/hyphenateStyle.js")),s=r(n("./node_modules/dom-helpers/style/getComputedStyle.js")),a=r(n("./node_modules/dom-helpers/style/removeStyle.js")),l=n("./node_modules/dom-helpers/transition/properties.js"),u=r(n("./node_modules/dom-helpers/transition/isTransform.js"));e.exports=t.default},"./node_modules/dom-helpers/style/removeStyle.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},"./node_modules/dom-helpers/transition/isTransform.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!n.test(e))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},"./node_modules/dom-helpers/transition/properties.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,s,a,l,u,c,d,p,f,h,m=r(n("./node_modules/dom-helpers/util/inDOM.js")),g="transform";if(t.transform=g,t.animationEnd=s,t.transitionEnd=o,t.transitionDelay=c,t.transitionTiming=u,t.transitionDuration=l,t.transitionProperty=a,t.animationDelay=h,t.animationTiming=f,t.animationDuration=p,t.animationName=d,m.default){var v=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",s=0;s<i.length;s++){var a=i[s];if(a+"TransitionProperty"in n){o="-"+a.toLowerCase(),e=r[a]("TransitionEnd"),t=r[a]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=v.prefix,t.transitionEnd=o=v.transitionEnd,t.animationEnd=s=v.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=a=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=c=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=f=i+"-animation-delay",t.animationDelay=h=i+"-animation-timing-function"}var y={transform:g,end:o,property:a,timing:u,delay:c,duration:l};t.default=y},"./node_modules/dom-helpers/util/camelize.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,(function(e,t){return t.toUpperCase()}))};var n=/-(.)/g;e.exports=t.default},"./node_modules/dom-helpers/util/camelizeStyle.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(o,"ms-"))};var i=r(n("./node_modules/dom-helpers/util/camelize.js")),o=/^-ms-/;e.exports=t.default},"./node_modules/dom-helpers/util/hyphenate.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;e.exports=t.default},"./node_modules/dom-helpers/util/hyphenateStyle.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(o,"-ms-")};var i=r(n("./node_modules/dom-helpers/util/hyphenate.js")),o=/^ms-/;e.exports=t.default},"./node_modules/dom-helpers/util/inDOM.js":function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},"./node_modules/eventemitter3/index.js":function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},"./node_modules/exenv/index.js":function(e,t,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},"./node_modules/global/document.js":function(e,t,n){var r,i=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},o=n("?34aa");"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r},"./node_modules/global/window.js":function(e,t,n){var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},"./node_modules/is-buffer/index.js":function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},"./node_modules/is-function/index.js":function(e){e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},"./node_modules/keycode/index.js":function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var s=t.names=t.title={};for(o in r)s[r[o]]=o;for(var a in i)r[a]=i[a]},"./node_modules/lodash/_Stack.js":function(e,t,n){var r=n("./node_modules/lodash/_listCacheClear.js"),i=n("./node_modules/lodash/_listCacheDelete.js"),o=n("./node_modules/lodash/_listCacheGet.js"),s=n("./node_modules/lodash/_listCacheHas.js"),a=n("./node_modules/lodash/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},"./node_modules/lodash/_apply.js":function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"./node_modules/lodash/_arrayEach.js":function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_assignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),i=n("./node_modules/lodash/eq.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},"./node_modules/lodash/_assocIndexOf.js":function(e,t,n){var r=n("./node_modules/lodash/eq.js");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(t,i(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&r(t,i(t),e)}},"./node_modules/lodash/_baseAssignValue.js":function(e,t,n){var r=n("./node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),i=n("./node_modules/lodash/_arrayEach.js"),o=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssign.js"),a=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),u=n("./node_modules/lodash/_copyArray.js"),c=n("./node_modules/lodash/_copySymbols.js"),d=n("./node_modules/lodash/_copySymbolsIn.js"),p=n("./node_modules/lodash/_getAllKeys.js"),f=n("./node_modules/lodash/_getAllKeysIn.js"),h=n("./node_modules/lodash/_getTag.js"),m=n("./node_modules/lodash/_initCloneArray.js"),g=n("./node_modules/lodash/_initCloneByTag.js"),v=n("./node_modules/lodash/_initCloneObject.js"),y=n("./node_modules/lodash/isArray.js"),_=n("./node_modules/lodash/isBuffer.js"),b=n("./node_modules/lodash/isMap.js"),T=n("./node_modules/lodash/isObject.js"),E=n("./node_modules/lodash/isSet.js"),w=n("./node_modules/lodash/keys.js"),j=n("./node_modules/lodash/keysIn.js"),S="[object Arguments]",k="[object Function]",x="[object Object]",C={};C[S]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[x]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[k]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,P,O,I,A){var N,L=1&n,D=2&n,R=4&n;if(P&&(N=I?P(t,O,I,A):P(t)),void 0!==N)return N;if(!T(t))return t;var M=y(t);if(M){if(N=m(t),!L)return u(t,N)}else{var U=h(t),B=U==k||"[object GeneratorFunction]"==U;if(_(t))return l(t,L);if(U==x||U==S||B&&!I){if(N=D||B?{}:v(t),!L)return D?d(t,a(N,t)):c(t,s(N,t))}else{if(!C[U])return I?t:{};N=g(t,U,L)}}A||(A=new r);var F=A.get(t);if(F)return F;A.set(t,N),E(t)?t.forEach((function(r){N.add(e(r,n,P,r,t,A))})):b(t)&&t.forEach((function(r,i){N.set(i,e(r,n,P,i,t,A))}));var H=M?void 0:(R?D?f:p:D?j:w)(t);return i(H||t,(function(r,i){H&&(r=t[i=r]),o(N,i,e(r,n,P,i,t,A))})),N}},"./node_modules/lodash/_baseCreate.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},"./node_modules/lodash/_baseGetTag.js":function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_baseRest.js":function(e,t,n){var r=n("./node_modules/lodash/identity.js"),i=n("./node_modules/lodash/_overRest.js"),o=n("./node_modules/lodash/_setToString.js");e.exports=function(e,t){return o(i(e,t,r),e+"")}},"./node_modules/lodash/_cloneBuffer.js":function(e,t,n){e=n.nmd(e);var r=n("./node_modules/lodash/_root.js"),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},"./node_modules/lodash/_copyArray.js":function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"./node_modules/lodash/_copyObject.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),i=n("./node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var u=t[a],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),s?i(n,u,c):r(n,u,c)}return n}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return r(e,i(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return r(e,i(e),t)}},"./node_modules/lodash/_createAssigner.js":function(e,t,n){var r=n("./node_modules/lodash/_baseRest.js"),i=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}},"./node_modules/lodash/_defineProperty.js":function(e,t,n){var r=n("./node_modules/lodash/_getNative.js"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},"./node_modules/lodash/_freeGlobal.js":function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},"./node_modules/lodash/_getAllKeys.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.keys,Object);e.exports=r},"./node_modules/lodash/_getAllKeysIn.js":function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/_getNative.js":function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},"./node_modules/lodash/_getPrototype.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);e.exports=r},"./node_modules/lodash/_getSymbols.js":function(e){e.exports=function(){return[]}},"./node_modules/lodash/_getSymbolsIn.js":function(e){e.exports=function(){return[]}},"./node_modules/lodash/_getTag.js":function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_initCloneArray.js":function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e){e.exports=function(e){return e}},"./node_modules/lodash/_initCloneObject.js":function(e,t,n){var r=n("./node_modules/lodash/_baseCreate.js"),i=n("./node_modules/lodash/_getPrototype.js"),o=n("./node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},"./node_modules/lodash/_isIterateeCall.js":function(e){e.exports=function(){return!1}},"./node_modules/lodash/_isPrototype.js":function(e){e.exports=function(){return!1}},"./node_modules/lodash/_listCacheClear.js":function(e){e.exports=function(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},"./node_modules/lodash/_listCacheGet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},"./node_modules/lodash/_listCacheHas.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e){return r(this.__data__,e)>-1}},"./node_modules/lodash/_listCacheSet.js":function(e,t,n){var r=n("./node_modules/lodash/_assocIndexOf.js");e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},"./node_modules/lodash/_overArg.js":function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash/_overRest.js":function(e,t,n){var r=n("./node_modules/lodash/_apply.js"),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=n(l),r(e,this,u)}}},"./node_modules/lodash/_root.js":function(e,t,n){var r=n("./node_modules/lodash/_freeGlobal.js"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},"./node_modules/lodash/_setToString.js":function(e){e.exports=function(e){return e}},"./node_modules/lodash/assign.js":function(e,t,n){var r=n("./node_modules/lodash/_assignValue.js"),i=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_createAssigner.js"),s=n("./node_modules/lodash/isArrayLike.js"),a=n("./node_modules/lodash/_isPrototype.js"),l=n("./node_modules/lodash/keys.js"),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(a(t)||s(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},"./node_modules/lodash/clone.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js");e.exports=function(e){return r(e,4)}},"./node_modules/lodash/debounce.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),i=n("./node_modules/lodash/now.js"),o=n("./node_modules/lodash/toNumber.js"),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,u,c,d,p,f,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,h=t,d=e.apply(r,n)}function _(e){return h=e,p=setTimeout(T,t),m?y(e):d}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=c}function T(){var e=i();if(b(e))return E(e);p=setTimeout(T,function(e){var n=t-(e-f);return g?a(n,c-(e-h)):n}(e))}function E(e){return p=void 0,v&&l?y(e):(l=u=void 0,d)}function w(){var e=i(),n=b(e);if(l=arguments,u=this,f=e,n){if(void 0===p)return _(f);if(g)return clearTimeout(p),p=setTimeout(T,t),y(f)}return void 0===p&&(p=setTimeout(T,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?s(o(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=u=p=void 0},w.flush=function(){return void 0===p?d:E(i())},w}},"./node_modules/lodash/eq.js":function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/lodash/identity.js":function(e){e.exports=function(e){return e}},"./node_modules/lodash/isArray.js":function(e){var t=Array.isArray;e.exports=t},"./node_modules/lodash/isArrayLike.js":function(e,t,n){var r=n("./node_modules/lodash/isFunction.js"),i=n("./node_modules/lodash/isLength.js");e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},"./node_modules/lodash/isBuffer.js":function(e){e.exports=function(){return!1}},"./node_modules/lodash/isFunction.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),i=n("./node_modules/lodash/isObject.js");e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},"./node_modules/lodash/isLength.js":function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"./node_modules/lodash/isMap.js":function(e){e.exports=function(){return!1}},"./node_modules/lodash/isObject.js":function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash/isSet.js":function(e){e.exports=function(){return!1}},"./node_modules/lodash/keys.js":function(e,t,n){var r=n("./node_modules/lodash/_overArg.js")(Object.keys,Object);e.exports=r},"./node_modules/lodash/keysIn.js":function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash/noop.js":function(e){e.exports=function(){}},"./node_modules/lodash/now.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js");e.exports=function(){return r.Date.now()}},"./node_modules/lodash/throttle.js":function(e,t,n){var r=n("./node_modules/lodash/debounce.js"),i=n("./node_modules/lodash/isObject.js");e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},"./node_modules/lodash/toNumber.js":function(e){e.exports=function(e){return e}},"./node_modules/mux.js/lib/tools/parse-sidx.js":function(e,t,n){var r=n("./node_modules/mux.js/lib/utils/numbers.js").getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=r(e.subarray(i)),n.firstOffset=r(e.subarray(i+8)),i+=16),i+=2;var o=t.getUint16(i);for(i+=2;o>0;i+=12,o--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},"./node_modules/mux.js/lib/utils/clock.js":function(e){var t,n,r,i,o,s,a,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},r=function(e){return e/l},i=function(e,t){return e/t},o=function(e,n){return t(i(e,n))},s=function(e,t){return n(r(e),t)},a=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:i,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:a}},"./node_modules/mux.js/lib/utils/numbers.js":function(e){var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(n=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:r.getUint32(0)*t+r.getUint32(4)},MAX_UINT32:t}},"./node_modules/nordic-axios/index.js":function(e,t,n){e.exports=n("./node_modules/nordic-axios/lib/axios.js")},"./node_modules/nordic-axios/lib/adapters/xhr.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=n("./node_modules/nordic-axios/lib/core/settle.js"),o=n("./node_modules/nordic-axios/lib/helpers/buildURL.js"),s=n("./node_modules/nordic-axios/lib/helpers/parseHeaders.js"),a=n("./node_modules/nordic-axios/lib/helpers/isURLSameOrigin.js"),l=n("./node_modules/nordic-axios/lib/core/createError.js");e.exports=function(e){return new Promise((function(t,u){var c=e.data,d=e.headers;r.isFormData(c)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",h=e.auth.password||"";d.Authorization="Basic "+btoa(f+":"+h)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,u,r),p=null}},p.onabort=function(){p&&(u(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=n("./node_modules/nordic-axios/lib/helpers/cookies.js"),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(d,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===c&&(c=null),p.send(c)}))}},"./node_modules/nordic-axios/lib/axios.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=n("./node_modules/nordic-axios/lib/helpers/bind.js"),o=n("./node_modules/nordic-axios/lib/core/Axios.js"),s=n("./node_modules/nordic-axios/lib/core/mergeConfig.js");function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=a(n("./node_modules/nordic-axios/lib/defaults.js"));l.Axios=o,l.create=function(e){return a(s(l.defaults,e))},l.Cancel=n("./node_modules/nordic-axios/lib/cancel/Cancel.js"),l.CancelToken=n("./node_modules/nordic-axios/lib/cancel/CancelToken.js"),l.isCancel=n("./node_modules/nordic-axios/lib/cancel/isCancel.js"),l.all=function(e){return Promise.all(e)},l.spread=n("./node_modules/nordic-axios/lib/helpers/spread.js"),e.exports=l,e.exports.default=l},"./node_modules/nordic-axios/lib/cancel/Cancel.js":function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},"./node_modules/nordic-axios/lib/cancel/CancelToken.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/cancel/Cancel.js");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},"./node_modules/nordic-axios/lib/cancel/isCancel.js":function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./node_modules/nordic-axios/lib/core/Axios.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=n("./node_modules/nordic-axios/lib/helpers/buildURL.js"),o=n("./node_modules/nordic-axios/lib/core/InterceptorManager.js"),s=n("./node_modules/nordic-axios/lib/core/dispatchRequest.js"),a=n("./node_modules/nordic-axios/lib/core/mergeConfig.js");function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=l},"./node_modules/nordic-axios/lib/core/InterceptorManager.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},"./node_modules/nordic-axios/lib/core/createError.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/core/enhanceError.js");e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},"./node_modules/nordic-axios/lib/core/dispatchRequest.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=n("./node_modules/nordic-axios/lib/core/transformData.js"),o=n("./node_modules/nordic-axios/lib/cancel/isCancel.js"),s=n("./node_modules/nordic-axios/lib/defaults.js"),a=n("./node_modules/nordic-axios/lib/helpers/isAbsoluteURL.js"),l=n("./node_modules/nordic-axios/lib/helpers/combineURLs.js");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest,e),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse,e),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse,e))),Promise.reject(t)}))}},"./node_modules/nordic-axios/lib/core/enhanceError.js":function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"./node_modules/nordic-axios/lib/core/mergeConfig.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");e.exports=function(e,t){t=t||{};var n={};return n=r.merge(e,t),r.forEach(["headers","auth","proxy"],(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),n}},"./node_modules/nordic-axios/lib/core/settle.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/core/createError.js");e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},"./node_modules/nordic-axios/lib/core/transformData.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");e.exports=function(e,t,n,i){return r.forEach(n,(function(n){e=n(e,t,i)})),e}},"./node_modules/nordic-axios/lib/defaults.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=n("./node_modules/nordic-axios/lib/helpers/normalizeHeaderName.js"),o=n("./node_modules/nordic-axios/lib/helpers/throwIfExpectJsonBrowser.js"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={adapter:(("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)||"undefined"!=typeof XMLHttpRequest)&&(l=n("./node_modules/nordic-axios/lib/adapters/xhr.js")),l),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e,t,n){if("string"==typeof e)try{e=JSON.parse(e)}catch(r){o(r,t,n,e)}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(s)})),e.exports=u},"./node_modules/nordic-axios/lib/helpers/bind.js":function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"./node_modules/nordic-axios/lib/helpers/buildURL.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},"./node_modules/nordic-axios/lib/helpers/combineURLs.js":function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./node_modules/nordic-axios/lib/helpers/cookies.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/nordic-axios/lib/helpers/isAbsoluteURL.js":function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"./node_modules/nordic-axios/lib/helpers/isURLSameOrigin.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"./node_modules/nordic-axios/lib/helpers/normalizeHeaderName.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"./node_modules/nordic-axios/lib/helpers/parseHeaders.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/utils.js"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},"./node_modules/nordic-axios/lib/helpers/spread.js":function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"./node_modules/nordic-axios/lib/helpers/throwIfExpectJsonBrowser.js":function(e){"use strict";e.exports=function(){}},"./node_modules/nordic-axios/lib/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/nordic-axios/lib/helpers/bind.js"),i=n("./node_modules/is-buffer/index.js"),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}}},"./node_modules/nordic/gtm.js":function(e,t,n){e.exports=n("./node_modules/@frontend-metrics/gtm/dist/client/frontend-gtm.js")},"./node_modules/nordic/node_modules/frontend-restclient/lib/browser.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n("./node_modules/nordic-axios/index.js"),u=n("./node_modules/nordic/node_modules/frontend-restclient/lib/defaults.js"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,e),this.config=i(i({},u),t),this.client=l.create(this.config),this}var t,n,r;return t=e,n=[{key:"addCSRFHeaderIfApplies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof window){var t=void 0!==e.sendCSRFToken?e.sendCSRFToken:this.config.sendCSRFToken,n=document.querySelector("meta[name=csrf-token]"),r=n&&n.hasAttribute("content")?n.getAttribute("content").trim():"";if(e.headers&&e.headers["x-csrf-token"]||this.config.headers&&this.config.headers["x-csrf-token"])return;t&&r.length&&(e.headers=i(i({},e.headers),{},{"x-csrf-token":n.getAttribute("content")}))}}},{key:"doRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.addCSRFHeaderIfApplies(t);var n=function(){return e.client.request(t).catch((function(e){throw e}))};return n()}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="get",t.url=e,this.doRequest(t)}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="post",t.url=e,this.doRequest(t)}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="put",t.url=e,this.doRequest(t)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="patch",t.url=e,this.doRequest(t)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="delete",t.url=e,this.doRequest(t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="head",t.url=e,this.doRequest(t)}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="options",t.url=e,this.doRequest(t)}},{key:"purge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="purge",t.url=e,this.doRequest(t)}},{key:"all",value:function(e){return l.all(e).then(l.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}))).catch((function(e){throw e}))}}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return new c(e)}(e.exports=d).RestClient=d},"./node_modules/nordic/node_modules/frontend-restclient/lib/defaults.js":function(e){"use strict";var t=window.location,n=t.protocol,r=t.host,i=t.pathname,o="/"===i[i.length-1]?i.substring(0,i.length-1):i;e.exports={baseURL:"".concat(n,"//").concat(r).concat(o,"/api"),method:"get",timeout:3e3,responseType:"json",maxRedirects:0,sendCSRFToken:!0}},"./node_modules/nordic/restclient/index.js":function(e,t,n){e.exports=n("./node_modules/nordic/node_modules/frontend-restclient/lib/browser.js")},"./node_modules/performance-now/lib/performance-now.js":function(e){(function(){var t,n,r,i,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*process.uptime(),o=i-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},"./node_modules/querystring/decode.js":function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var c,d,p,f,h=e[u].replace(s,"%20"),m=h.indexOf(r);m>=0?(c=h.substr(0,m),d=h.substr(m+1)):(c=h,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),t(o,p)?Array.isArray(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o}},"./node_modules/querystring/encode.js":function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},"./node_modules/querystring/index.js":function(e,t,n){"use strict";t.decode=t.parse=n("./node_modules/querystring/decode.js"),t.encode=t.stringify=n("./node_modules/querystring/encode.js")},"./node_modules/raf/index.js":function(e,t,n){for(var r=n("./node_modules/performance-now/lib/performance-now.js"),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],l=i["cancel"+s]||i["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=i[o[u]+"Request"+s],l=i[o[u]+"Cancel"+s]||i[o[u]+"CancelRequest"+s];if(!a||!l){var c=0,d=0,p=[];a=function(e){if(0===p.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return a.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=a,e.cancelAnimationFrame=l}},"./node_modules/react-sanfona/dist-modules/Accordion/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n("./node_modules/classnames/index.js"))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("./node_modules/react/index.js")),s=n("./node_modules/react-sanfona/dist-modules/Accordion/utils.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,c(t).call(this,e))).state={activeItems:(0,s.getActiveItems)(e.children,e.allowMultiple)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.children,n=e.allowMultiple;(0,s.isSame)((0,s.getChildrenActiveItems)(this.props.children),(0,s.getChildrenActiveItems)(t))||this.setState({activeItems:(0,s.getActiveItems)(t,n)})}},{key:"handleChange",value:function(e){var t=this.props,n=t.allowMultiple,r=t.children,i=t.onChange,o=t.openNextAccordionItem,s=this.state.activeItems.slice(0),a=s.indexOf(e);-1!==a?(s.splice(a,1),o&&e!==r.length-1&&s.push(e+1)):n?s.push(e):s=[e];var l={activeItems:s};this.setState(l,(function(){i&&i(l)}))}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.children,r=t.duration,i=t.easing,a=t.isHovered;if(!n)return null;var l=this.state.activeItems;return(0,s.arrayify)(n).reduce((function(t,n,s){if(n){var u=n.props,c=u.disabled,d=u.duration,p=u.easing,f=!c&&-1!==l.indexOf(s),h=e.handleChange.bind(e,s),m=o.default.cloneElement(n,{duration:d||r,easing:p||i,expanded:f,key:s,index:s,onClick:h,onMouseOver:a&&!c?h:null,ref:"item-".concat(s)});t.push(m)}return t}),[])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.rootTag;return o.default.createElement(r,{className:(0,i.default)("react-sanfona",t),style:n},this.renderItems())}}])&&l(n.prototype,r),a&&l(n,a),t}(o.Component);t.default=p,p.defaultProps={activeItems:[0],allowMultiple:!1,duration:300,easing:"ease",rootTag:"div"}},"./node_modules/react-sanfona/dist-modules/Accordion/utils.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChildrenActiveItems=r,t.getActiveItems=function(e,t){var n=r(e);!t&&n.length>0&&(n=n.slice(0,1));return n},t.isSame=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.arrayify=void 0;var n=function(e){return[].concat(e)};function r(e){var t=[];return n(e).filter((function(e){return e})).forEach((function(e,n){!e.props.disabled&&e.props.expanded&&t.push(n)})),t}t.arrayify=n},"./node_modules/react-sanfona/dist-modules/AccordionItem/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("./node_modules/classnames/index.js")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("./node_modules/react/index.js")),o=u(n("./node_modules/react-dom/index.js")),s=u(n("./node_modules/react-sanfona/node_modules/uuid/index.js")),a=u(n("./node_modules/react-sanfona/dist-modules/AccordionItemBody/index.js")),l=u(n("./node_modules/react-sanfona/dist-modules/AccordionItemTitle/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,m(t).call(this,e))).state={maxHeight:e.expanded?"none":0,overflow:e.expanded?"visible":"hidden"},n}var n,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,u=[{key:"componentWillMount",value:function(){this.uuid=this.props.uuid||s.default.v4()}},{key:"componentDidMount",value:function(){this.setMaxHeight(!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.children,r=t.disabled,i=t.expanded;if(e.expanded!==i){if(r)return;i?this.handleExpand():this.handleCollapse()}else e.children!==n&&this.setMaxHeight(!1)}},{key:"handleExpand",value:function(){var e=this.props,t=e.index,n=e.onExpand,r=e.slug;this.setMaxHeight(!1),n&&(r?n(r,t):n(t))}},{key:"handleCollapse",value:function(){var e=this.props,t=e.index,n=e.onClose,r=e.slug;this.setMaxHeight(!0),n&&(r?n(r,t):n(t))}},{key:"setMaxHeight",value:function(e){var t=this,n=this.props,r=n.duration,i=n.expanded;clearTimeout(this.timeout);var s=o.default.findDOMNode(this.refs.body),a=s.querySelectorAll("img");if(a.length>0)return this.preloadImages(s,a);this.setState({maxHeight:i||e?s.scrollHeight+"px":0,overflow:"hidden"}),this.timeout=i?setTimeout((function(){t.setState({maxHeight:"none",overflow:"visible"})}),r):setTimeout((function(){t.setState({maxHeight:0})}),0)}},{key:"preloadImages",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.props,i=r.duration,o=r.expanded,s=0,a=function(){++s===n.length&&(o?(t.setState({maxHeight:"".concat(e.scrollHeight,"px")}),setTimeout((function(){t.setState({overflow:"visible"})}),i)):t.setState({maxHeight:0,overflow:"hidden"}))},l=0;l<n.length;l+=1){var u=new Image;u.src=n[l].src,u.onload=u.onerror=a}}},{key:"getProps",value:function(){var e=this.props,t=e.className,n=e.disabled,i=e.disabledClassName,o=e.expanded,s=e.expandedClassName,a=e.style;return{className:(0,r.default)("react-sanfona-item",t,{"react-sanfona-item-expanded":o&&!n,"react-sanfona-item-disabled":n},s&&p({},s,o),i&&p({},i,n)),style:a}}},{key:"render",value:function(){var e=this.props,t=e.bodyClassName,n=e.bodyTag,r=e.children,o=e.disabled,s=e.duration,u=e.easing,c=e.onClick,p=e.onMouseOver,f=e.rootTag,h=e.title,m=e.titleClassName,g=e.titleTag,v=this.state,y=v.maxHeight,_=v.overflow;return i.default.createElement(f,d({},this.getProps(),{ref:"item"}),i.default.createElement(l.default,{className:m,expanded:this.props.expanded,onClick:o?null:c,onMouseOver:o?null:p,rootTag:g,title:h,uuid:this.uuid}),i.default.createElement(a.default,{className:t,duration:s,easing:u,expanded:this.props.expanded,maxHeight:y,overflow:_,ref:"body",rootTag:n,uuid:this.uuid},r))}}],u&&f(n.prototype,u),c&&f(n,c),t}(i.Component);t.default=v,v.defaultProps={rootTag:"div",titleTag:"h3",bodyTag:"div"}},"./node_modules/react-sanfona/dist-modules/AccordionItemBody/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n("./node_modules/classnames/index.js"))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("./node_modules/react/index.js"));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){function t(){return a(this,t),u(this,c(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.duration,s=e.easing,a=e.expanded,l=e.maxHeight,u=e.overflow,c=e.rootTag,d=e.uuid,p={maxHeight:l,overflow:u,transition:"max-height ".concat(r,"ms ").concat(s)};return o.default.createElement(c,{"aria-hidden":!a,"aria-labelledby":"react-sanfona-item-title-".concat(d),className:(0,i.default)("react-sanfona-item-body",n),id:"react-sanfona-item-body-".concat(d),style:p},o.default.createElement("div",{className:"react-sanfona-item-body-wrapper"},t))}}])&&l(n.prototype,r),s&&l(n,s),t}(o.Component);t.default=p,p.defaultProps={rootTag:"div"}},"./node_modules/react-sanfona/dist-modules/AccordionItemTitle/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=o(n("./node_modules/classnames/index.js")),i=o(n("./node_modules/react/index.js"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=e.className,n=e.expanded,o=e.onClick,a=e.onMouseOver,l=e.rootTag,u=e.title,c=e.uuid;return"object"===s(u)?i.default.cloneElement(u,{onClick:o,id:"react-sanfona-item-title-".concat(c),"aria-controls":"react-sanfona-item-body-".concat(c)}):i.default.createElement(l,{"aria-controls":"react-sanfona-item-body-".concat(c),"aria-expanded":n,className:(0,r.default)("react-sanfona-item-title",t),id:"react-sanfona-item-title-".concat(c),onClick:o,onMouseOver:a,style:{cursor:"pointer",margin:0}},u)}a.defaultProps={rootTag:"h3"}},"./node_modules/react-sanfona/dist-modules/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Accordion",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"AccordionItem",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"AccordionItemTitle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"AccordionItemBody",{enumerable:!0,get:function(){return s.default}});var r=a(n("./node_modules/react-sanfona/dist-modules/Accordion/index.js")),i=a(n("./node_modules/react-sanfona/dist-modules/AccordionItem/index.js")),o=a(n("./node_modules/react-sanfona/dist-modules/AccordionItemTitle/index.js")),s=a(n("./node_modules/react-sanfona/dist-modules/AccordionItemBody/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/react-sanfona/node_modules/uuid/index.js":function(e,t,n){var r=n("./node_modules/react-sanfona/node_modules/uuid/v1.js"),i=n("./node_modules/react-sanfona/node_modules/uuid/v4.js"),o=i;o.v1=r,o.v4=i,e.exports=o},"./node_modules/react-sanfona/node_modules/uuid/lib/bytesToUuid.js":function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"./node_modules/react-sanfona/node_modules/uuid/lib/rng-browser.js":function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},"./node_modules/react-sanfona/node_modules/uuid/v1.js":function(e,t,n){var r,i,o=n("./node_modules/react-sanfona/node_modules/uuid/lib/rng-browser.js"),s=n("./node_modules/react-sanfona/node_modules/uuid/lib/bytesToUuid.js"),a=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-a+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,l=m,i=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[u++]=v>>>24&255,c[u++]=v>>>16&255,c[u++]=v>>>8&255,c[u++]=255&v;var y=h/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=p>>>8|128,c[u++]=255&p;for(var _=0;_<6;++_)c[u+_]=d[_];return t||s(c)}},"./node_modules/react-sanfona/node_modules/uuid/v4.js":function(e,t,n){var r=n("./node_modules/react-sanfona/node_modules/uuid/lib/rng-browser.js"),i=n("./node_modules/react-sanfona/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},"./node_modules/react-stickynode/dist/Sticky.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=l(n("./node_modules/prop-types/index.js")),o=n("./node_modules/subscribe-ui-event/index.es.js"),s=l(n("./node_modules/classnames/index.js")),a=l(n("./node_modules/shallowequal/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y,_,b,T,E,w="transform",j=!0,S=0,k=-1,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,i,l=h(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=l.call(this,e,t)).handleResize=n.handleResize.bind(g(n)),n.handleScroll=n.handleScroll.bind(g(n)),n.handleScrollStart=n.handleScrollStart.bind(g(n)),n.delta=0,n.stickyTop=0,n.stickyBottom=0,n.frozen=!1,n.skipNextScrollEvent=!1,n.scrollTop=-1,n.bottomBoundaryTarget,n.topTarget,n.subscribers,n.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:0,pos:0,activated:!1},n}return t=u,(n=[{key:"getTargetHeight",value:function(e){return e&&e.offsetHeight||0}},{key:"getTopPosition",value:function(e){return"string"==typeof(e=e||this.props.top||0)&&(this.topTarget||(this.topTarget=y.querySelector(e)),e=this.getTargetHeight(this.topTarget)),e}},{key:"getTargetBottom",value:function(e){if(!e)return-1;var t=e.getBoundingClientRect();return this.scrollTop+t.bottom}},{key:"getBottomBoundary",value:function(e){var t=e||this.props.bottomBoundary;return"object"===d(t)&&(t=t.value||t.target||0),"string"==typeof t&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=y.querySelector(t)),t=this.getTargetBottom(this.bottomBoundaryTarget)),t&&t>0?t:1/0}},{key:"reset",value:function(){this.setState({status:0,pos:0})}},{key:"release",value:function(e){this.setState({status:1,pos:e-this.state.y})}},{key:"fix",value:function(e){this.setState({status:2,pos:e})}},{key:"updateInitialDimension",value:function(e){if(e=e||{},this.outerElement&&this.innerElement){var t=this.outerElement.getBoundingClientRect(),n=this.innerElement.getBoundingClientRect(),r=t.width||t.right-t.left,i=n.height||n.bottom-n.top,o=t.top+this.scrollTop;this.setState({top:this.getTopPosition(e.top),bottom:Math.min(this.state.top+i,k),width:r,height:i,x:t.left,y:o,bottomBoundary:this.getBottomBoundary(e.bottomBoundary),topBoundary:o})}}},{key:"handleResize",value:function(e,t){this.props.shouldFreeze()||(k=t.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(e,t){this.frozen=this.props.shouldFreeze(),this.frozen||(this.scrollTop===t.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=t.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(e,t){this.skipNextScrollEvent?this.skipNextScrollEvent=!1:(S=t.scroll.delta,this.scrollTop=t.scroll.top,this.update())}},{key:"update",value:function(){if(!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||0===this.state.width&&0===this.state.height)0!==this.state.status&&this.reset();else{var e=S,t=this.scrollTop+this.state.top,n=this.scrollTop+this.state.bottom;if(t<=this.state.topBoundary)this.reset();else if(n>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>k-this.state.top)switch(this.state.status){case 0:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case 1:this.stickyBottom=this.stickyTop+this.state.height,e>0&&n>this.stickyBottom?this.fix(this.state.bottom-this.state.height):e<0&&t<this.stickyTop&&this.fix(this.state.top);break;case 2:var r=!0,i=this.state.pos,o=this.state.height;if(e>0&&i===this.state.top)this.stickyTop=t-e,this.stickyBottom=this.stickyTop+o;else if(e<0&&i===this.state.bottom-o)this.stickyBottom=n-e,this.stickyTop=this.stickyBottom-o;else if(i!==this.state.bottom-o&&i!==this.state.top){var s=i+o-this.state.bottom;this.stickyBottom=n-e+s,this.stickyTop=this.stickyBottom-o}else r=!1;r&&this.release(this.stickyTop)}else this.fix(this.state.top);this.delta=e}}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),!(0,a.default)(this.props,e)&&(e.enabled!==this.props.enabled?this.props.enabled?this.setState({activated:!0},(function(){n.updateInitialDimension(),n.update()})):this.setState({activated:!1},(function(){n.reset()})):e.top===this.props.top&&e.bottomBoundary===this.props.bottomBoundary||(this.updateInitialDimension(),this.update()))}},{key:"componentWillUnmount",value:function(){for(var e=(this.subscribers||[]).length-1;e>=0;e--)this.subscribers[e].unsubscribe()}},{key:"componentDidMount",value:function(){E||(E=window,y=document,b=y.documentElement,_=y.body,k=E.innerHeight||b.clientHeight,(T=window.Modernizr)&&T.prefixed&&(j=T.csstransforms3d,w=T.prefixed("transform"))),this.scrollTop=_.scrollTop+b.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[(0,o.subscribe)("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),(0,o.subscribe)("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),(0,o.subscribe)("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(e,t){j&&this.props.enableTransforms&&this.state.activated?e[w]="translate3d(0,"+Math.round(t)+"px,0)":e.top=t+"px"}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.shouldFreeze()||(0,a.default)(this.props,e)&&(0,a.default)(this.state,t))}},{key:"render",value:function(){var e,t=this,n={position:2===this.state.status?"fixed":"relative",top:2===this.state.status?"0px":"",zIndex:this.props.innerZ},i={};this.translate(n,this.state.pos),0!==this.state.status&&(n.width=this.state.width+"px",i.height=this.state.height+"px");var o=(0,s.default)("sticky-outer-wrapper",this.props.className,(c(e={},this.props.activeClass,2===this.state.status),c(e,this.props.releasedClass,1===this.state.status),e)),a=this.props.children;return r.default.createElement("div",{ref:function(e){t.outerElement=e},className:o,style:i},r.default.createElement("div",{ref:function(e){t.innerElement=e},className:["sticky-inner-wrapper",this.props.innerClass].join(" "),style:n},"function"==typeof a?a({status:this.state.status}):a))}}])&&p(t.prototype,n),i&&p(t,i),u}(r.Component);x.displayName="Sticky",x.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null,innerClass:""},x.propTypes={enabled:i.default.bool,top:i.default.oneOfType([i.default.string,i.default.number]),bottomBoundary:i.default.oneOfType([i.default.object,i.default.string,i.default.number]),enableTransforms:i.default.bool,activeClass:i.default.string,releasedClass:i.default.string,innerClass:i.default.string,className:i.default.string,onStateChange:i.default.func,shouldFreeze:i.default.func,innerZ:i.default.oneOfType([i.default.string,i.default.number])},x.STATUS_ORIGINAL=0,x.STATUS_RELEASED=1,x.STATUS_FIXED=2,e.exports=x},"./node_modules/react-stickynode/index.js":function(e,t,n){e.exports=n("./node_modules/react-stickynode/dist/Sticky.js")},"./node_modules/react/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react/cjs/react.production.min.js")},"./node_modules/safe-json-parse/tuple.js":function(e){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}},"./node_modules/shallowequal/index.js":function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!a(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}},"./node_modules/subscribe-ui-event/index.es.js":function(e,t,n){"use strict";n.r(t),n.d(t,{listen:function(){return Z},subscribe:function(){return J},unsubscribe:function(){return ee}});var r=n("./node_modules/lodash/assign.js"),i=n.n(r),o=n("./node_modules/eventemitter3/index.js"),s=n.n(o),a=!1;if("undefined"!=typeof window)try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch(e){}var u=a,c={connections:{},EE:new(s()),enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:u},d=c.supportPassiveEvent,p={capture:!1,passive:!1};var f=function(e,t,n,r){var o="addEventListener",s="removeEventListener",a=t,l=!!d&&i()({},p,r);return!e.addEventListener&&e.attachEvent&&(o="attachEvent",s="detachEvent",a="on"+t),e[o](a,n,l),{remove:function(){e[s](t,n)}}},h=!1;if("undefined"!=typeof navigator){var m=navigator.userAgent.match(/MSIE (\d+\.\d+)/);m&&(h=parseFloat(m[1],10)<9)}var g=h,v=n("./node_modules/lodash/clone.js"),y=n.n(v),_=n("./node_modules/lodash/throttle.js"),b=n.n(_),T=n("./node_modules/lodash/noop.js"),E=n.n(T),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S={width:0,height:0},k={delta:0,top:0},x={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},C=function(e){var t={x:0,y:0},n=document.body,r=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+r.scrollLeft,t.y=e.clientY+n.scrollTop+r.scrollTop),t},P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,e);var n=(t.mainType||"").toLowerCase(),r=(t.subType||"").toLowerCase();this.mainType=n,this.subType=r,this.type=n+r.charAt(0).toUpperCase()+r.slice(1)||"",this.scroll=k,this.resize=S,this.touch=x}return w(e,[{key:"update",value:function(e){var t=this.mainType,n=this.subType,r=document.documentElement;if(c.enableScrollInfo&&("scroll"===t||"touchmove"===t)){var i=r.scrollTop+document.body.scrollTop;i!==this.scroll.top&&(this.scroll.delta=i-this.scroll.top,this.scroll.top=i)}if(c.enableResizeInfo&&"resize"===t&&(this.resize.width=window.innerWidth||r.clientWidth,this.resize.height=window.innerHeight||r.clientHeight),c.enableTouchInfo&&e.touches&&("touchstart"===t||"touchmove"===t||"touchend"===t)){var o=void 0,s=void 0,a=void 0;"touchstart"===t||"start"===n?(o=C(e.touches[0]),this.touch.axisIntention="",this.touch.startX=o.x,this.touch.startY=o.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===t&&(o=C(e.touches[0]),this.touch.deltaX=o.x-this.touch.startX,this.touch.deltaY=o.y-this.touch.startY,""===this.touch.axisIntention&&(s=Math.abs(this.touch.deltaX),a=Math.abs(this.touch.deltaY),s>5&&s>=a?this.touch.axisIntention="x":a>5&&a>s&&(this.touch.axisIntention="y")))}}}]),e}(),O=P,I=n("./node_modules/raf/index.js"),A=n.n(I),N=Date.now||function(){return(new Date).getTime()};var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=void 0,r=void 0,i=0,o=0,s=function s(){var a=N();t-(a-i)<=0?(i=a,o=0,e.apply(n,r)):o=A()(s)};return function(){n=this,r=arguments,o||(o=A()(s))}},D=c.connections,R=c.EE,M=c.listeners,U=c.removers,B=void 0,F=void 0,H=void 0,q=0;function V(e){return e.id||"target-id-"+q++}function W(e,t,n,r){return R.on(e,t||E(),n),D[r=r||e]=(D[r]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){R.removeListener(e,t,n),D[r]--,0===D[r]&&(M[r].remove(),M[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var i=U.length-1;i>=0;i--){if(U[i]===this){U.splice(i,1);break}}}}}}function z(e,t,n){return function(r,i,o,s){var a=o.context,l=o.target,u=l&&V(l),c=u?":"+u:"",d=t+"Start:"+r+c,p=t+"End:"+r+c,h=t+":"+r+c,m=W(n+":"+r+c,i,a,h);if(U.push(m),M[h])return m;var v={start:new O({mainType:t,subType:"start"}),main:new O({mainType:t}),end:new O({mainType:t,subType:"end"})};"raf"===r?(r=16,E=L(E)):r>0&&(E=b()(E,r));var _=void 0;function T(e){v.end.update(e),R.emit(p,e,v.end),_=null}function E(e){_||(v.start.update(e),R.emit(d,e,v.start)),clearTimeout(_),v.main.update(e),R.emit(h,e,v.main),_=g?setTimeout((function(){T(y()(e))}),r+100):setTimeout(T.bind(null,e),r+100)}return M[h]=f(l||e,t,E,s),m}}function G(e,t){return function(n,r,i,o){var s=i.context,a=i.target,l=a&&V(a),u=t+":0"+(l?":"+l:""),c=W(u,r,s);if(U.push(c),M[u])return c;var d=new O({mainType:t});return M[u]=f(a||e,t,(function(e){d.update(e),R.emit(u,e,d)}),o),c}}"undefined"!=typeof window&&(H=(B=(F=window).document||document).body);var K={scrollStart:z(F,"scroll","scrollStart"),scrollEnd:z(F,"scroll","scrollEnd"),scroll:z(F,"scroll","scroll"),resizeStart:z(F,"resize","resizeStart"),resizeEnd:z(F,"resize","resizeEnd"),resize:z(F,"resize","resize"),visibilitychange:G(B,"visibilitychange"),touchmoveStart:z(H,"touchmove","touchmoveStart"),touchmoveEnd:z(H,"touchmove","touchmoveEnd"),touchmove:z(H,"touchmove","touchmove"),touchstart:G(H,"touchstart"),touchend:G(H,"touchend")};var X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useRAF||!1,i=parseInt(n.throttleRate,10),o=n.eventOptions;return isNaN(i)&&(i=50),r&&(i="raf"),g&&(i=0),c.enableScrollInfo=c.enableScrollInfo||n.enableScrollInfo||!1,c.enableResizeInfo=c.enableResizeInfo||n.enableResizeInfo||!1,c.enableTouchInfo=c.enableTouchInfo||n.enableTouchInfo||!1,K[e](i,t,n,o)},Y=c.removers;var $="undefined"!=typeof window;function Q(){0}var Z=$?f:Q,J=$?X:Q,ee=$?function(e,t){for(var n=void 0,r=Y.length-1;r>=0;r-=1)(n=Y[r])._cb===t&&n._type.indexOf(e)>=0&&(n.unsubscribe(),Y.splice(r,1))}:Q},"./node_modules/ui-library_ml/ui/carousel.js":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t){e.exports=n("./node_modules/react/index.js")},function(e,t){e.exports=n("./node_modules/prop-types/index.js")},function(e,t){e.exports=n("./node_modules/classnames/index.js")},,,,,,function(e,t,n){"use strict";var r=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing",e)},i=function(e){r(e,["left","slideCount","slidesToShow","slideWidth"]);var t=(e.slideCount+2*e.slidesToShow)*e.slideWidth,n={opacity:1,WebkitTransform:"translate3d("+e.left+"px, 0px, 0px)",transform:"translate3d("+e.left+"px, 0px, 0px)",transition:"",WebkitTransition:"",msTransform:"translateX("+e.left+"px)"};return t&&Object.assign(n,{width:t}),n};e.exports={getTrackCSS:i,getTrackAnimateCSS:function(e){r(e,["left","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=i(e);return t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase,t},getTrackLeft:function(e){r(e,["slideIndex","trackRef","infinite","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","slideHeight"]);var t=0;e.infinite?(e.slideCount>=e.slidesToShow&&(t=e.slideWidth*e.slidesToShow*-1),e.slideCount%e.slidesToScroll!=0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(t=e.slideIndex>e.slideCount?(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideWidth*-1:e.slideCount%e.slidesToScroll*e.slideWidth*-1)):e.slideCount%e.slidesToScroll!=0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(t=(e.slidesToShow-e.slideCount%e.slidesToScroll)*e.slideWidth);return e.slideIndex*e.slideWidth*-1+t}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=n(8),s=o.getTrackCSS,a=o.getTrackLeft,l=o.getTrackAnimateCSS,u=function(e,t){for(var n=e,r=[e];n<t;)r.push(++n);return r},c={initialize:function(){var e=this.props;this.slickWidth=this.getWidth(this.list.querySelector(".slick-slide"));var t=i.Children.count(e.children),n=this.getWidth(this.list),r=this.getWidth(this.track),o=Math.floor(n/this.slickWidth)||1;o>e.slidesToShow&&(o=e.slidesToShow);var l=this.getWidth(this.list)/o,u=this.getHeight(this.list.querySelector('[data-index="0"]')),c=u*o,d=e.initialSlide;this.setState({slideCount:t,slideWidth:l,listWidth:n,trackWidth:r,currentSlide:d,slideHeight:u,listHeight:c,slidesToShow:o,slidesToScroll:o},(function(){var e=a(Object.assign({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state)),t=s(Object.assign({left:e},this.props,this.state));this.setState({trackStyle:t}),this.preload(this.state.currentSlide),this.autoPlay()}))},update:function(){var e=this.props,t=i.Children.count(e.children),n=this.getWidth(this.list),r=this.getWidth(this.track),o=Math.floor(n/this.slickWidth)||1;o>e.slidesToShow&&(o=e.slidesToShow);var l=this.getWidth(this.list)/o,u=this.getHeight(this.list.querySelector('[data-index="0"]')),c=u*o;e.autoplay?this.autoPlay():this.pause(),this.setState({slideCount:t,slideWidth:l,listWidth:n,trackWidth:r,slideHeight:u,listHeight:c,slidesToShow:o,slidesToScroll:o},(function(){var e=a(Object.assign({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state)),t=s(Object.assign({left:e},this.props,this.state));this.setState({trackStyle:t}),this.preload(this.state.currentSlide)}))},getWidth:function(e){return e?e.offsetWidth||0:null},getHeight:function(e){return e?e.offsetHeight||0:null},canGoNext:function(e){var t=!0;return e.infinite||(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},slideHandler:function(e){var t=this,n=void 0,r=void 0,i=void 0;if(!this.props.waitForAnimate||!this.state.animating){n=e<0?!1===this.props.infinite?0:this.state.slideCount%this.state.slidesToScroll!=0?this.state.slideCount-this.state.slideCount%this.state.slidesToScroll:this.state.slideCount+e:e>=this.state.slideCount?!1===this.props.infinite?this.state.slideCount-this.state.slidesToShow:this.state.slideCount%this.state.slidesToScroll!=0?0:e-this.state.slideCount:e,r=a(Object.assign({slideIndex:e,trackRef:this.track},this.props,this.state));var o=a(Object.assign({slideIndex:n,trackRef:this.track},this.props,this.state));if(!1===this.props.infinite&&(r=o),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,n),this.preload(n),!1===this.props.useCSS)this.setState({currentSlide:n,trackStyle:s(Object.assign({left:o},this.props,this.state))},(function(){this.props.afterChange&&this.props.afterChange(n)}));else{var u={animating:!1,currentSlide:n,trackStyle:s(Object.assign({left:o},this.props,this.state)),swipeLeft:null};i=function(){t.setState(u),t.props.afterChange&&t.props.afterChange(n),delete t.animationEndCallback},this.setState({animating:!0,currentSlide:n,trackStyle:l(Object.assign({left:r},this.props,this.state))},(function(){this.animationEndCallback=setTimeout(i,this.props.speed)}))}this.autoPlay()}},preload:function(e){var t=this;if(this.props.lazyLoad&&this.state.lazyLoadedList.length<=this.state.slideCount){var n=[],i=[];0===e&&i.push.apply(i,r(u(e,this.state.slidesToShow-1)));var o=e+this.state.slidesToShow*this.props.pagesToPreload;if(i.push.apply(i,r(u(o,o+this.state.slidesToShow-1))),this.props.infinite){var s=Math.abs(e-this.state.slidesToShow*this.props.pagesToPreload);0===e&&(s=this.state.slideCount-s),i.push.apply(i,r(u(s,s+this.state.slidesToShow-1)))}i.forEach((function(e){-1===t.state.lazyLoadedList.indexOf(e)&&n.push(e)})),this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(n)})}},swipeDirection:function(e){return e.startX>e.curX?"left":"right"},play:function(){var e=void 0;return!!this.state.mounted&&(!!this.canGoNext(Object.assign({},this.props,this.state))&&(e=this.state.currentSlide+this.state.slidesToScroll,void this.slideHandler(e)))},autoPlay:function(){this.state.autoPlayTimer&&clearTimeout(this.state.autoPlayTimer),this.props.autoplay&&this.setState({autoPlayTimer:setTimeout(this.play,this.props.autoplaySpeed)})},pause:function(){this.state.autoPlayTimer&&(clearTimeout(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};e.exports=c},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var r=n(33);e.exports=r},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var a=n(0),l=n(1),u=n(34),c=u.PrevArrow,d=u.NextArrow,p=n(35),f=n(43),h=n(2),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={autoplay:e.autoplay,loading:!0,isServer:!0},n.onInteraction=n.onInteraction.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.autoplay!==e.autoplay?{autoplay:e.autoplay}:null}}]),o(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1,isServer:!1})}},{key:"onInteraction",value:function(){this.setState({autoplay:!1})}},{key:"render",value:function(){var e=this.props,t=e.Slide,n=e.slides,r=s(e,["Slide","slides"]);r.autoplay=this.state.autoplay,r.onInteraction=this.onInteraction,this.slidesList=this.props.slides.map((function(e){var n=e.Component,r=s(e,["Component"]);return i(f,{Component:n||t,slide:r},r.id)})),r.infinite=r.infinite&&!this.state.isServer;var o=n.length>r.slidesToShow;r.arrows=o&&r.arrows,r.autoplay=o&&r.autoplay,r.dots=o&&r.dots,r.append=this.props.append;var l=h("carousel-container",{"arrow-visible":this.props.arrowsVisible});return i("div",{className:l,style:r.size},void 0,a.createElement(p,r,this.slidesList))}}]),t}(a.PureComponent);m.contextTypes={lowEnd:l.bool},m.defaultProps={arrows:!0,arrowsVisible:!1,autoplay:!1,beforeChange:null,dots:!1,infinite:!0,lazyLoad:!0,nextArrow:i(d,{}),pagesToPreload:1,prevArrow:i(c,{}),lowEnd:!1,append:null},e.exports=m},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=(n(1),n(0),function(e){var t=e.className,n=e.onClick,r=t.indexOf("slick-disabled")>0?"arrow-disabled":"";return i("button",{className:"prev-button "+r,onClick:n})}),s=function(e){var t=e.className,n=e.onClick,r=t.indexOf("slick-disabled")>0?"arrow-disabled":"";return i("button",{className:"next-button "+r,onClick:n})};s.defaultProps={className:"",onClick:null},o.defaultProps={className:"",onClick:null},e.exports={PrevArrow:o,NextArrow:s}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),s=n(36),a=n(42),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.innerSliderRefHandler=n.innerSliderRefHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"innerSliderRefHandler",value:function(e){this.innerSlider=e}},{key:"slickPrev",value:function(){this.innerSlider.slickPrev()}},{key:"slickNext",value:function(){this.innerSlider.slickNext()}},{key:"slickGoTo",value:function(e){this.innerSlider.slickGoTo(e)}},{key:"render",value:function(){var e=Object.assign({},a,this.props),t=this.props.children,n=e.size&&e.size.width?{minWidth:e.size.width}:null;return Array.isArray(t)||(t=[t]),t=t.filter((function(e){return!!e})),o.createElement(s,r({ref:this.innerSliderRefHandler},e,{style:n}),t)}}]),t}(o.Component);e.exports=l},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(0),l=n(2),u=n(37),c=n(9),d=n(38),p=n(39),f=n(40),h=n(41),m=h.PrevArrow,g=h.NextArrow,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.list=null,n.track=null,n.state=n.getInitialState(),n.trackRefHandler=n.trackRefHandler.bind(n),n.listRefHandler=n.listRefHandler.bind(n),n.changeSlideBecauseInteraction=n.changeSlideBecauseInteraction.bind(n),n.onWindowResized=n.onWindowResized.bind(n),n.initialize=c.initialize.bind(n),n.update=c.update.bind(n),n.getWidth=c.getWidth.bind(n),n.getHeight=c.getHeight.bind(n),n.canGoNext=c.canGoNext.bind(n),n.slideHandler=c.slideHandler.bind(n),n.preload=c.preload.bind(n),n.swipeDirection=c.swipeDirection.bind(n),n.play=c.play.bind(n),n.autoPlay=c.autoPlay.bind(n),n.pause=c.pause.bind(n),n.changeSlide=u.changeSlide.bind(n),n.keyHandler=u.keyHandler.bind(n),n.selectHandler=u.selectHandler.bind(n),n.swipeStart=u.swipeStart.bind(n),n.swipeMove=u.swipeMove.bind(n),n.swipeEnd=u.swipeEnd.bind(n),n.onInnerSliderEnter=u.onInnerSliderEnter.bind(n),n.onInnerSliderOver=u.onInnerSliderOver.bind(n),n.onInnerSliderLeave=u.onInnerSliderLeave.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"listRefHandler",value:function(e){this.list=e}},{key:"trackRefHandler",value:function(e){this.track=e}},{key:"getInitialState",value:function(){return Object.assign({},d,{currentSlide:this.props.initialSlide,slideCount:a.Children.count(this.props.children),slidesToShow:this.props.slidesToShow,slidesToScroll:this.props.slidesToScroll})}},{key:"componentWillMount",value:function(){this.props.init&&this.props.init(),this.setState({mounted:!0}),this.preload(this.state.currentSlide)}},{key:"componentDidUpdate",value:function(e){e.autoplay!==this.props.autoplay&&(this.props.autoplay?this.autoPlay():this.pause())}},{key:"componentDidMount",value:function(){this.initialize(),this.props.responsive&&window.addEventListener("resize",this.onWindowResized,!1);var e=window.navigator.msPointerEnabled,t={start:e?"MSPointerDown":"touchstart",move:e?"MSPointerMove":"touchmove",end:e?"MSPointerUp":"touchend"},n="touchstart"===t.start&&{passive:!0,capture:!1},r="touchstart"===t.start&&{passive:!1,capture:!1};this.list.addEventListener(t.start,this.swipeStart,n),this.list.addEventListener(t.move,this.swipeMove,r),this.list.addEventListener(t.end,this.swipeEnd,n)}},{key:"componentWillUnmount",value:function(){this.animationEndCallback&&clearTimeout(this.animationEndCallback),this.state.autoPlayTimer&&clearInterval(this.state.autoPlayTimer),this.props.responsive&&window.removeEventListener("resize",this.onWindowResized,!1);var e=window.navigator.msPointerEnabled,t={start:e?"MSPointerDown":"touchstart",move:e?"MSPointerMove":"touchmove",end:e?"MSPointerUp":"touchend"},n="touchstart"===t.start&&{passive:!0,capture:!1},r="touchstart"===t.start&&{passive:!1,capture:!1};this.list.removeEventListener(t.start,this.swipeStart,n),this.list.removeEventListener(t.move,this.swipeMove,r),this.list.removeEventListener(t.end,this.swipeEnd,n)}},{key:"onWindowResized",value:function(){this.update(),this.setState({animating:!1}),clearTimeout(this.animationEndCallback),delete this.animationEndCallback}},{key:"slickPrev",value:function(){this.changeSlide({message:"previous"})}},{key:"slickNext",value:function(){this.changeSlide({message:"next"})}},{key:"slickGoTo",value:function(e){e=Number(e),!isNaN(e)&&this.changeSlide({message:"index",index:e,currentSlide:this.state.currentSlide})}},{key:"changeSlideBecauseInteraction",value:function(){this.changeSlide.apply(this,arguments),this.props.onInteraction&&setTimeout(this.props.onInteraction,this.props.speed)}},{key:"render",value:function(){var e=l("slick-initialized","slick-slider",this.props.className),t={cssEase:this.props.cssEase,speed:this.props.speed,infinite:this.props.infinite,currentSlide:this.state.currentSlide,lazyLoad:this.props.lazyLoad,lazyLoadedList:this.state.lazyLoadedList,slideWidth:this.state.slideWidth,slidesToShow:this.state.slidesToShow,slidesToScroll:this.state.slidesToScroll,slideCount:this.state.slideCount,trackStyle:this.state.trackStyle,trackRefHandler:this.trackRefHandler,append:this.props.append},n=void 0;if(!0===this.props.dots&&this.state.slideCount>=this.state.slidesToShow){var r={dotsClass:this.props.dotsClass,slideCount:this.state.slideCount,slidesToShow:this.state.slidesToShow,currentSlide:this.state.currentSlide,slidesToScroll:this.state.slidesToScroll,clickHandler:this.changeSlideBecauseInteraction,children:this.props.children,customPaging:this.props.customPaging};n=a.createElement(f,o({},r,{key:"dots"}))}var s=void 0,u=void 0,c={infinite:this.props.infinite,currentSlide:this.state.currentSlide,slideCount:this.state.slideCount,slidesToShow:this.state.slidesToShow,prevArrow:this.props.prevArrow,nextArrow:this.props.nextArrow,clickHandler:this.changeSlideBecauseInteraction};this.props.arrows&&(s=a.createElement(m,o({},c,{key:"prev-arrow"})),u=a.createElement(g,o({},c,{key:"next-arrow"})));return i("div",{className:e,onMouseEnter:this.onInnerSliderEnter,onMouseLeave:this.onInnerSliderLeave,onMouseOver:this.onInnerSliderOver},void 0,s,a.createElement("div",{role:"presentation",ref:this.listRefHandler,key:"slick-list",className:"slick-list",onKeyDown:this.keyHandler},a.createElement(p,o({},t,{key:"track"}),this.props.children)),u,n)}}]),t}(a.Component);e.exports=v},function(e,t,n){"use strict";var r=n(8),i=r.getTrackCSS,o=r.getTrackLeft,s={changeSlide:function(e){var t=void 0;switch(e.message){case"next":t=this.state.currentSlide+this.state.slidesToShow;break;case"previous":t=this.state.currentSlide-this.state.slidesToShow;break;case"dots":if((t=e.index*e.slidesToScroll)===this.state.currentSlide)return;break;case"index":t=parseInt(e.index,10)}!this.props.infinite&&t>=this.state.slideCount?this.slideHandler(this.state.currentSlide):this.slideHandler(t)},keyHandler:function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode?this.changeSlide({message:"previous"}):39===e.keyCode&&this.changeSlide({message:"next"}))},selectHandler:function(e){this.changeSlide(e)},swipeStart:function(e){if(void 0!==e.touches&&!1!==this.props.swipe){var t=e.touches[0].pageX,n=e.touches[0].pageY;this.setState({dragging:!1,isScrolling:!1,touchObject:{startX:t,curX:t,startY:n,curY:n}})}},swipeMove:function(e){if((!this.state.isScrolling||this.state.dragging)&&void 0!==e.touches){if(this.state.animating)return clearTimeout(this.animationEndCallback),void this.setState({animating:!1});var t=this.state,n=t.touchObject,r=t.currentSlide,s=o(Object.assign({slideIndex:r,trackRef:this.track},this.props,this.state));n.curX=e.touches[0].pageX,n.curY=e.touches[0].pageY;var a=n.curX-n.startX,l=n.curY-n.startY,u=180*Math.atan2(Math.abs(l),Math.abs(a))/Math.PI>45;if(!u||this.state.dragging){e.cancelable&&e.preventDefault(),e.stopPropagation(),n.swipeLength=Math.round(Math.abs(a,2));var c=s+a;this.setState({touchObject:n,swipeLeft:c,dragging:!0,isScrolling:!1,trackStyle:i(Object.assign({left:c},this.props,this.state))})}else this.setState({isScrolling:u})}},swipeEnd:function(e){if(this.state.dragging){var t=this.state.touchObject,n=this.state.listWidth/this.props.touchThreshold;if(this.setState({dragging:!1,isScrolling:!1,touchObject:{}}),t.swipeLength)if(t.swipeLength>n){var r=this.swipeDirection(t);this.changeSlide({message:"left"===r?"next":"previous"})}else this.changeSlide({message:"index",index:this.state.currentSlide})}else this.props.swipe&&e.cancelable&&e.preventDefault()},onInnerSliderEnter:function(){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderOver:function(){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderLeave:function(){this.props.autoplay&&this.props.pauseOnHover&&this.autoPlay()}};e.exports=s},function(e,t,n){"use strict";e.exports={animating:!1,dragging:!1,isScrolling:!1,autoPlayTimer:null,currentLeft:null,currentSlide:0,listWidth:null,listHeight:null,slideCount:null,slideWidth:null,slideHeight:null,swipeLeft:null,touchObject:{startX:0,curX:0},lazyLoadedList:[],initialized:!1,trackStyle:{},trackWidth:0}},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n(0),u=n(2),c=(n(1),function(e,t){return e.key||t}),d=i("div",{}),p=function(e){var t=void 0,n=[],r=[],i=[],o=l.Children.count(e.children);return l.Children.forEach(e.children,(function(s,a){var p=void 0,f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(a)>=0;f?p=s:(f=void 0,p=d);var h=function(e){return{width:e.slideWidth}}(Object.assign({},e,{index:a})),m=function(e){var t=e.currentSlide<=e.index&&e.index<e.currentSlide+e.slidesToShow,n=e.index<0||e.index>=e.slideCount;return u({"slick-slide":!0,"slick-active":t,"slick-cloned":n})}(Object.assign({index:a},e)),g=void 0;g=p.props.className?u(m,p.props.className):m;var v=function(e){p.props&&p.props.onClick&&p.props.onClick(e)};if(n.push(l.cloneElement(p,{key:"original"+c(p,a),"data-index":a,className:g,tabIndex:"-1",mounted:f,style:Object.assign({outline:"none"},p.props.style||{},h),onClick:v})),e.infinite){var y=e.slidesToShow;a>=o-y&&(t=-(o-a),r.push(l.cloneElement(p,{key:"precloned"+c(p,t),"data-index":t,className:g,mounted:f,style:Object.assign({},p.props.style||{},h),onClick:v}))),a<y&&(t=o+a,i.push(l.cloneElement(p,{key:"postcloned"+c(p,t),"data-index":t,className:g,mounted:f,style:Object.assign({},p.props.style||{},h),onClick:v})))}})),r.concat(n,i)},f=function(e){function t(){return s(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=p.call(this,this.props);return i(l.Fragment,{},void 0,l.createElement("div",{className:"slick-track",style:this.props.trackStyle,ref:this.props.trackRefHandler},e),this.props.append)}}]),t}(l.Component);f.defaultProps={trackStyle:null,append:null},e.exports=f},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n(0),u=n(2),c=(n(1),function(e){function t(){return s(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){var e,t=this,n=(e={slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll},Math.ceil(e.slideCount/e.slidesToScroll)),r=Array.apply(null,Array(n+1).join("0").split("")).map((function(e,n){var r=n*t.props.slidesToScroll,o=n*t.props.slidesToScroll+(t.props.slidesToScroll-1),s=u({"slick-active":t.props.currentSlide>=r&&t.props.currentSlide<=o}),a={message:"dots",index:n,slidesToScroll:t.props.slidesToScroll,currentSlide:t.props.currentSlide},c=t.clickHandler.bind(t,a);return i("li",{className:s},n,l.cloneElement(t.props.customPaging(n),{onClick:c}))}));return i("ul",{className:this.props.dotsClass,style:{display:"block"}},void 0,r)}}]),t}(l.PureComponent));c.defaultProps={clickHandler:null,customPaging:null,currentSlide:0,slideCount:0,slidesToScroll:0,dotsClass:""},e.exports=c},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),u=n(2),c=n(9),d=(n(1),function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:u(e),style:{display:"block"},onClick:t},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?l.cloneElement(this.props.prevArrow,Object.assign({},n,i)):l.createElement("button",r({key:"0",type:"button"},n)," Previous")}}]),t}(l.PureComponent)),p=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});c.canGoNext(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:u(e),style:{display:"block"},onClick:t},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?l.cloneElement(this.props.nextArrow,Object.assign({},n,i)):l.createElement("button",r({key:"1",type:"button"},n)," Next")}}]),t}(l.PureComponent);p.defaultProps={clickHandler:null,nextHandler:null,currentSlide:0,slideCount:0,nextArrow:null},d.defaultProps={clickHandler:null,infinite:!1,currentSlide:0,slideCount:0,slidesToShow:0,prevArrow:null},e.exports={PrevArrow:d,NextArrow:p}},function(e,t,n){"use strict";var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,i){var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===s)t.children=i;else if(s>1){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=(n(0),{className:"",arrows:!0,autoplay:!1,autoplaySpeed:3e3,cssEase:"ease",customPaging:function(e){return i("button",{},void 0,e+1)},dots:!1,dotsClass:"slick-dots",infinite:!1,initialSlide:0,lazyLoad:!0,pauseOnHover:!0,responsive:!0,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchThreshold:5,useCSS:!0,waitForAnimate:!0,afterChange:null,beforeChange:null,init:null,nextArrow:null,prevArrow:null,pagesToPreload:1});e.exports=o},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(0),o=(n(1),function(e){var t=e.Component,n=e.slide,o=e.mounted,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["Component","slide","mounted"]);return i.createElement("div",r({key:n.id},s),i.createElement(t,r({key:n.id},n,{mounted:o})))});o.defaultProps={mounted:!1},e.exports=o}])},"./node_modules/url-toolkit/src/url-toolkit.js":function(e){var t,n,r,i,o;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(d)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},"./node_modules/video.js/dist/video.es.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return sc}});var r=n("./node_modules/global/window.js"),i=n.n(r),o=n("./node_modules/global/document.js"),s=n.n(o),a=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),l=n("./node_modules/keycode/index.js"),u=n.n(l);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}var f=n("./node_modules/safe-json-parse/tuple.js"),h=n.n(f),m=n("./node_modules/@videojs/xhr/lib/index.js"),g=n.n(m),v=n("./node_modules/videojs-vtt.js/lib/browser-index.js"),y=n.n(v);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,t,n){return b=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},b.apply(null,arguments)}var T=n("./node_modules/url-toolkit/src/url-toolkit.js"),E=n.n(T),w="http://example.com",j=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=i().location&&i().location.href||"");var n="function"==typeof i().URL,r=/^\/\//.test(e),o=!i().location&&!/\/\//i.test(e);if(n?e=new(i().URL)(e,i().location||w):/\/\//i.test(e)||(e=E().buildAbsoluteURL(i().location&&i().location.href||"",e)),n){var s=new URL(t,e);return o?s.href.slice(w.length):r?s.href.slice(s.protocol.length):s.href}return E().buildAbsoluteURL(e,t)},S=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function k(e){for(var t,n=(t=e,i().atob?i().atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}var x,C,P,O=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return p(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(S),I=String.fromCharCode(9),A=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},N=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},L=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}p(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=(0,a.Z)(A(t[1]),{type:"tag",tagType:"byterange"}),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=N(t[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=A(o.BYTERANGE))}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=N(t[1]),n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION.split("x"),l={};s[0]&&(l.width=parseInt(s[0],10)),s[1]&&(l.height=parseInt(s[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=N(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=N(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=N(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=N(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(I)),void r.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=N(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=A(n.attributes.BYTERANGE)),void r.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=N(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=N(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=N(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void r.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=N(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(S),D=function(e){var t={};return Object.keys(e).forEach((function(n){var r;t[(r=n,r.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},R=function(e){var t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=n&&3*n,l=r&&2*r;n&&!t.hasOwnProperty(o)&&(t[o]=a,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+a+")."})),a&&t[o]<a&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+t[o]+") to targetDuration * 3 ("+a+")"}),t[o]=a),r&&!t.hasOwnProperty(s)&&(t[s]=3*r,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[s]+")."})),r&&t[s]<l&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+t[s]+") to partTargetDuration * 2 ("+l+")."}),t[s]=l)}},M=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new O,t.parseStream=new L,t.lineStream.pipe(t.parseStream);var n,r,i=c(t),o=[],s={},l=!1,u=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var f=0,h=0;return t.on("end",(function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&n&&(s.map=n),!s.key&&r&&(s.key=r),s.timeline||"number"!=typeof p||(s.timeline=p),t.manifest.preloadSegment=s)})),t.parseStream.on("data",(function(e){var t,c;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=f)),"offset"in e&&(s.byterange=t,t.offset=e.offset),f=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:k(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,p=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes?(s.attributes||(s.attributes={}),(0,a.Z)(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(c={default:/yes/i.test(e.attributes.DEFAULT)}).default?c.autoselect=!0:c.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(c.language=e.attributes.LANGUAGE),e.attributes.URI&&(c.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(c.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(c.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(c.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){p+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,R.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data},skip:function(){this.manifest.skip=D(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;l=!0;var n=this.manifest.segments.length,r=D(e.attributes);s.parts=s.parts||[],s.parts.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=h),h=r.byterange.offset+r.byterange.length);var i=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+i+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=D(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),R.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=D(e.attributes),r=n.type&&"PART"===n.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=r?h:0,r&&(h=n.byterange.offset+n.byterange.length)));var i=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var o=0;o<s.preloadHints.length-1;o++){var a=s.preloadHints[o];a.type&&(a.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+o}))}},"rendition-report":function(){var t=D(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,r=["LAST-MSN","URI"];l&&r.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,r)},"part-inf":function(){this.manifest.partInf=D(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),R.call(this,this.manifest)}}[e.tagType]||u).call(i)},uri:function(){s.uri=e.uri,o.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),r&&(s.key=r),s.timeline=p,n&&(s.map=n),h=0,s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}p(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var r=[];n.forEach((function(e){t.hasOwnProperty(e)||r.push(e)})),r.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+r.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(S),U={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},B=["video","audio","text"],F=["Video","Audio","Text"],H=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},q=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),B.forEach((function(r){var i=U[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var o=e.substring(0,i[1].length),s=e.replace(o,"");n.push({type:o,details:s,mediaType:r})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},V=function(e){return void 0===e&&(e=""),U.audio.test(e.trim().toLowerCase())},W=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return H(e.trim())})),r="video";1===n.length&&V(n[0])?r="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),U.text.test(t.trim().toLowerCase()))&&(r="application");var i="mp4";return n.every((function(e){return U.mp4.test(e)}))?i="mp4":n.every((function(e){return U.webm.test(e)}))?i="webm":n.every((function(e){return U.ogg.test(e)}))&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},z=function(e){return void 0===e&&(e=""),i().MediaSource&&i().MediaSource.isTypeSupported&&i().MediaSource.isTypeSupported(W(e))||!1},G=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<F.length;t++){if(U["muxer"+F[t]].test(e))return!0}return!1}))},K="mp4a.40.2",X=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Y=/^application\/dash\+xml/i,$=function(e){return X.test(e)?"hls":Y.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Q=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Z=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Q(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},J=i().BigInt||Number,ee=[J("0x1"),J("0x100"),J("0x10000"),J("0x1000000"),J("0x100000000"),J("0x10000000000"),J("0x1000000000000"),J("0x100000000000000"),J("0x10000000000000000")],te=(x=new Uint16Array([65484]),255===(C=new Uint8Array(x.buffer,x.byteOffset,x.byteLength))[0]||C[0],function(e,t){var n=void 0===t?{}:t,r=n.signed,i=void 0!==r&&r,o=n.le,s=void 0!==o&&o;e=Z(e);var a=s?"reduce":"reduceRight",l=(e[a]?e[a]:Array.prototype[a]).call(e,(function(t,n,r){var i=s?r:Math.abs(r+1-e.length);return t+J(n)*ee[i]}),J(0));if(i){var u=ee[e.length]/J(2)-J(1);(l=J(l))>u&&(l-=u,l-=u,l-=J(2))}return Number(l)}),ne=function(e,t){var n=(void 0===t?{}:t).le,r=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0),e=J(e);for(var i,o=(i=e,Math.ceil(function(e){return e.toString(2).length}(i)/8)),s=new Uint8Array(new ArrayBuffer(o)),a=0;a<o;a++){var l=r?a:Math.abs(a+1-s.length);s[l]=Number(e/ee[a]&J(255)),e<0&&(s[l]=Math.abs(~s[l]),s[l]-=0===a?1:2)}return s},re=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},ie=function(e,t,n){var r=void 0===n?{}:n,i=r.offset,o=void 0===i?0:i,s=r.mask,a=void 0===s?[]:s;e=Z(e);var l=(t=Z(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,n){return t===(a[n]?a[n]&e[o+n]:e[o+n])}))},oe=n("./node_modules/@xmldom/xmldom/lib/index.js"),se=function(e){return!!e&&"object"==typeof e},ae=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):se(t[r])&&se(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},le=function(e){return Object.keys(e).map((function(t){return e[t]}))},ue=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},ce=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},de=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},pe="INVALID_NUMBER_OF_PERIOD",fe="DASH_EMPTY_MANIFEST",he="DASH_INVALID_XML",me="NO_BASE_URL",ge="SEGMENT_TIME_UNSPECIFIED",ve="UNSUPPORTED_UTC_TIMING_SCHEME",ye=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,o=void 0===r?"":r,s=e.range,a=void 0===s?"":s,l=e.indexRange,u=void 0===l?"":l,c={uri:o,resolvedUri:j(n||"",o)};if(a||u){var d,p=(a||u).split("-"),f=i().BigInt?i().BigInt(p[0]):parseInt(p[0],10),h=i().BigInt?i().BigInt(p[1]):parseInt(p[1],10);f<Number.MAX_SAFE_INTEGER&&"bigint"==typeof f&&(f=Number(f)),h<Number.MAX_SAFE_INTEGER&&"bigint"==typeof h&&(h=Number(h)),"bigint"==typeof(d="bigint"==typeof h||"bigint"==typeof f?i().BigInt(h)-i().BigInt(f)+i().BigInt(1):h-f+1)&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),c.byterange={length:d,offset:f}}return c},_e=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},be={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,o=e.periodDuration,s=_e(e.endNumber),a=t/r;return"number"==typeof s?{start:0,end:s}:"number"==typeof o?{start:0,end:o/a}:{start:0,end:i/a}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,s=e.duration,a=e.periodStart,l=void 0===a?0:a,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,f=_e(e.endNumber),h=(t+n)/1e3,m=r+l,g=h+c-m,v=Math.ceil(g*o/s),y=Math.floor((h-m-p)*o/s),_=Math.floor((h-m)*o/s);return{start:Math.max(0,y),end:"number"==typeof f?f:Math.min(v,_)}}},Te=function(e){var t=e.type,n=e.duration,r=e.timescale,i=void 0===r?1:r,o=e.periodDuration,s=e.sourceDuration,a=be[t](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(a.start,a.end).map(function(e){return function(t){var n=e.duration,r=e.timescale,i=void 0===r?1:r,o=e.periodStart,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:n/i,timeline:o,time:t*n}}}(e));if("static"===t){var u=l.length-1,c="number"==typeof o?o:s;l[u].duration=c-n/i*u}return l},Ee=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,o=e.indexRange,s=void 0===o?"":o,a=e.periodStart,l=e.presentationTime,u=e.number,c=void 0===u?0:u,d=e.duration;if(!t)throw new Error(me);var p=ye({baseUrl:t,source:r.sourceURL,range:r.range}),f=ye({baseUrl:t,source:t,indexRange:s});if(f.map=p,d){var h=Te(e);h.length&&(f.duration=h[0].duration,f.timeline=h[0].timeline)}else i&&(f.duration=i,f.timeline=a);return f.presentationTime=l||a,f.number=c,[f]},we=function(e,t,n){var r,o=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,l=e.sidx.byterange,u=l.offset+l.length,c=t.timescale,d=t.references.filter((function(e){return 1!==e.referenceType})),p=[],f=e.endList?"static":"dynamic",h=e.sidx.timeline,m=h,g=e.mediaSequence||0;r="bigint"==typeof t.firstOffset?i().BigInt(u)+t.firstOffset:u+t.firstOffset;for(var v=0;v<d.length;v++){var y=t.references[v],_=y.referencedSize,b=y.subsegmentDuration,T=void 0;T="bigint"==typeof r?r+i().BigInt(_)-i().BigInt(1):r+_-1;var E=Ee({baseUrl:n,timescale:c,timeline:a,periodStart:h,presentationTime:m,number:g,duration:b,sourceDuration:s,indexRange:r+"-"+T,type:f})[0];o&&(E.map=o),p.push(E),r+="bigint"==typeof r?i().BigInt(_):_,m+=b/c,g++}return e.segments=p,e},je=["AUDIO","SUBTITLES"],Se=function(e){return(t=e,n=function(e){return e.timeline},le(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},ke=function(e){var t,n,r=[];return t=e,n=function(e,t,n,i){r=r.concat(e.playlists||[])},je.forEach((function(e){for(var r in t.mediaGroups[e])for(var i in t.mediaGroups[e][r]){var o=t.mediaGroups[e][r][i];n(o,e,r,i)}})),r},xe=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},Ce=function(e){var t=e.oldManifest,n=e.newManifest,r=t.playlists.concat(ke(t)),i=n.playlists.concat(ke(n));return n.timelineStarts=Se([t.timelineStarts,n.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.newPlaylists,r=e.timelineStarts;n.forEach((function(e){e.discontinuitySequence=de(r,(function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var i=e.segments[0],o=de(n.segments,(function(e){return Math.abs(e.presentationTime-i.presentationTime)<.016666666666666666}));if(-1===o)return xe({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[o].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),xe({playlist:e,mediaSequence:n.segments[o].number})}}))}({oldPlaylists:r,newPlaylists:i,timelineStarts:n.timelineStarts}),n},Pe=function(e){return e&&e.uri+"-"+(t=e.byterange,n="bigint"==typeof t.offset||"bigint"==typeof t.length?i().BigInt(t.offset)+i().BigInt(t.length)-i().BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},Oe=function(e){return le(e.reduce((function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var r;if(t.segments)t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,t.segments);t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t,e[n].attributes.timelineStarts=[];return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},Ie=function(e,t){var n=Pe(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&we(e,r,e.sidx.resolvedUri),e},Ae=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=Ie(e[n],t);return e},Ne=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o=e.discontinuityStarts,s={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:o,timelineStarts:n.timelineStarts,segments:r};return n.contentProtection&&(s.contentProtection=n.contentProtection),i&&(s.sidx=i),s},Le=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},De=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},Re=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},Me=function(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(r.playlists)}),[]):[]},Ue=function(e){var t,n=e.dashPlaylists,r=e.locations,i=e.sidxMapping,o=void 0===i?{}:i,s=e.previousManifest;if(!n.length)return{};var a=n[0].attributes,l=a.sourceDuration,u=a.type,c=a.suggestedPresentationDelay,d=a.minimumUpdatePeriod,p=Oe(n.filter(Le)).map(Ne),f=Oe(n.filter(De)),h=Oe(n.filter(Re)),m=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:l,playlists:Ae(p,o)};d>=0&&(g.minimumUpdatePeriod=1e3*d),r&&(g.locations=r),"dynamic"===u&&(g.suggestedPresentationDelay=c);var v,y,_=0===g.playlists.length,b=f.length?function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n=!1);var i=e.reduce((function(e,i){var o=i.attributes.role&&i.attributes.role.value||"",s=i.attributes.lang||"",a=i.attributes.label||"main";if(s&&!i.attributes.label){var l=o?" ("+o+")":"";a=""+i.attributes.lang+l}e[a]||(e[a]={language:s,autoselect:!0,default:"main"===o,playlists:[],uri:""});var u=Ie(function(e,t){var n,r=e.attributes,i=e.segments,o=e.sidx,s=e.mediaSequence,a=e.discontinuitySequence,l=e.discontinuityStarts,u={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:a,discontinuityStarts:l,timelineStarts:r.timelineStarts,mediaSequence:s,segments:i};return r.contentProtection&&(u.contentProtection=r.contentProtection),o&&(u.sidx=o),t&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u}(i,n),t);return e[a].playlists.push(u),void 0===r&&"main"===o&&((r=i).default=!0),e}),{});return r||(i[Object.keys(i)[0]].default=!0),i}(f,o,_):null,T=h.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(Ie(function(e){var t,n=e.attributes,r=e.segments,i=e.mediaSequence,o=e.discontinuityStarts,s=e.discontinuitySequence;void 0===r&&(r=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var a=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(a.CODECS=n.codecs),{attributes:a,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:o,discontinuitySequence:s,mediaSequence:i,segments:r}}(n),t)),e}),{})}(h,o):null,E=p.concat(Me(b),Me(T)),w=E.map((function(e){return e.timelineStarts}));return g.timelineStarts=Se(w),v=E,y=g.timelineStarts,v.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=de(y,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),b&&(g.mediaGroups.AUDIO.audio=b),T&&(g.mediaGroups.SUBTITLES.subs=T),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,r=t.language;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])})),e):e}),{})),s?Ce({oldManifest:s,newManifest:g}):g},Be=function(e,t,n){var r=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,s=e.timescale,a=void 0===s?1:s,l=e.periodStart,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=(r+i)/1e3+(void 0===c?0:c)-(o+u);return Math.ceil((d*a-t)/n)},Fe=function(e,t){for(var n=e.type,r=e.minimumUpdatePeriod,i=void 0===r?0:r,o=e.media,s=void 0===o?"":o,a=e.sourceDuration,l=e.timescale,u=void 0===l?1:l,c=e.startNumber,d=void 0===c?1:c,p=e.periodStart,f=[],h=-1,m=0;m<t.length;m++){var g=t[m],v=g.d,y=g.r||0,_=g.t||0;h<0&&(h=_),_&&_>h&&(h=_);var b=void 0;if(y<0){var T=m+1;b=T===t.length?"dynamic"===n&&i>0&&s.indexOf("$Number$")>0?Be(e,h,v):(a*u-h)/v:(t[T].t-h)/v}else b=y+1;for(var E=d+f.length+b,w=d+f.length;w<E;)f.push({number:w,duration:v/u,time:h,timeline:p}),h+=v,w++}return f},He=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,qe=function(e,t){return e.replace(He,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}}(t))},Ve=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=ye({baseUrl:e.baseUrl,source:qe(i.sourceURL,n),range:i.range}),s=function(e,t){return e.duration||t?e.duration?Te(e):Fe(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return s.map((function(t){n.Number=t.number,n.Time=t.time;var r=qe(e.media||"",n),i=e.timescale||1,s=e.presentationTimeOffset||0,a=e.periodStart+(t.time-s)/i;return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:j(e.baseUrl||"",r),map:o,number:t.number,presentationTime:a}}))},We=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r,o=e.periodStart;if(!n&&!t||n&&t)throw new Error(ge);var s,a=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,o=ye({baseUrl:n,source:i.sourceURL,range:i.range}),s=ye({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=o,s}(e,t)}));return n&&(s=Te(e)),t&&(s=Fe(e,t)),s.map((function(t,n){if(a[n]){var r=a[n],i=e.timescale||1,s=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=o+(t.time-s)/i,r}})).filter((function(e){return e}))},ze=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=Ve,t=ae(r,i.template)):i.base?(n=Ee,t=ae(r,i.base)):i.list&&(n=We,t=ae(r,i.list));var o={attributes:r};if(!n)return o;var s=n(t,i.segmentTimeline);if(t.duration){var a=t,l=a.duration,u=a.timescale,c=void 0===u?1:u;t.duration=l/c}else s.length?t.duration=s.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=s,i.base&&t.indexRange&&(o.sidx=s[0],o.segments=[]),o},Ge=function(e,t){return ce(e.childNodes).filter((function(e){return e.tagName===t}))},Ke=function(e){return e.textContent.trim()},Xe=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(o||0)+3600*parseFloat(s||0)+60*parseFloat(a||0)+parseFloat(l||0)},Ye={mediaPresentationDuration:function(e){return Xe(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return Xe(e)},suggestedPresentationDelay:function(e){return Xe(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Xe(e)},start:function(e){return Xe(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Xe(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},$e=function(e){return e&&e.attributes?ce(e.attributes).reduce((function(e,t){var n=Ye[t.name]||Ye.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},Qe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Ze=function(e,t){return t.length?ue(e.map((function(e){return t.map((function(t){return j(e,Ke(t))}))}))):e},Je=function(e){var t=Ge(e,"SegmentTemplate")[0],n=Ge(e,"SegmentList")[0],r=n&&Ge(n,"SegmentURL").map((function(e){return ae({tag:"SegmentURL"},$e(e))})),i=Ge(e,"SegmentBase")[0],o=n||t,s=o&&Ge(o,"SegmentTimeline")[0],a=n||i||t,l=a&&Ge(a,"Initialization")[0],u=t&&$e(t);u&&l?u.initialization=l&&$e(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,segmentTimeline:s&&Ge(s,"S").map((function(e){return $e(e)})),list:n&&ae($e(n),{segmentUrls:r,initialization:$e(l)}),base:i&&ae($e(i),{initialization:$e(l)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},et=function(e,t,n){return function(r){var i,o=$e(r),s=Ze(t,Ge(r,"BaseURL")),a=Ge(r,"Role")[0],l={role:$e(a)},u=ae(e,o,l),c=Ge(r,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=$e(c)).schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var r=e.split("=");t=r[0],n=r[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),r=n[0],i=n[1],o=void 0===i?"":i;t.channel=r,t.language=e,o.split(",").forEach((function(e){var n=e.split(":"),r=n[0],i=n[1];"lang"===r?t.language=i:"er"===r?t.easyReader=Number(i):"war"===r?t.aspectRatio=Number(i):"3D"===r&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(u=ae(u,{captionServices:d}));var p=Ge(r,"Label")[0];if(p&&p.childNodes.length){var f=p.childNodes[0].nodeValue.trim();u=ae(u,{label:f})}var h=Ge(r,"ContentProtection").reduce((function(e,t){var n=$e(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var r=Qe[n.schemeIdUri];if(r){e[r]={attributes:n};var i=Ge(t,"cenc:pssh")[0];if(i){var o=Ke(i);e[r].pssh=o&&k(o)}}return e}),{});Object.keys(h).length&&(u=ae(u,{contentProtection:h}));var m=Je(r),g=Ge(r,"Representation"),v=ae(n,m);return ue(g.map(function(e,t,n){return function(r){var i=Ge(r,"BaseURL"),o=Ze(t,i),s=ae(e,$e(r)),a=Je(r);return o.map((function(e){return{segmentInfo:ae(n,a),attributes:ae(s,{baseUrl:e})}}))}}(u,s,v)))}},tt=function(e,t){return function(n,r){var i=Ze(t,Ge(n.node,"BaseURL")),o=ae(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(o.periodDuration=n.attributes.duration);var s=Ge(n.node,"AdaptationSet"),a=Je(n.node);return ue(s.map(et(o,i,a)))}},nt=function(e){if(""===e)throw new Error(fe);var t,n,r=new oe.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(he);return n},rt=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,o=n.NOW,s=void 0===o?Date.now():o,a=n.clientOffset,l=void 0===a?0:a,u=Ge(e,"Period");if(!u.length)throw new Error(pe);var c=Ge(e,"Location"),d=$e(e),p=Ze([i],Ge(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=s,d.clientOffset=l,c.length&&(d.locations=c.map(Ke));var f=[];return u.forEach((function(e,t){var n=$e(e),r=f[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==r?null:0}({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:d.type}),f.push({node:e,attributes:n})})),{locations:d.locations,representationInfo:ue(f.map(tt(d,p)))}}(nt(e),t),r=n.representationInfo.map(ze);return Ue({dashPlaylists:r,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},it=function(e){return function(e){var t=Ge(e,"UTCTiming")[0];if(!t)return null;var n=$e(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(ve)}return n}(nt(e))},ot=n("./node_modules/mux.js/lib/tools/parse-sidx.js"),st=n.n(ot),at=Z([73,68,51]),lt=function e(t,n){return void 0===n&&(n=0),(t=Z(t)).length-n<10||!ie(t,at,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=Z(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10}(t,n),e(t,n))},ut=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?re(e):e}),ct=function(e){e=Z(e);for(var t=[],n=0;e.length>n;){var r=e[n],i=0,o=0,s=e[++o];for(o++;128&s;)i=(127&s)<<7,s=e[o],o++;i+=127&s;for(var a=0;a<P.length;a++){var l=P[a],u=l.id,c=l.parser;if(r===u){t.push(c(e.subarray(o,o+i)));break}}n+=i+o}return t};P=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,Z(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=ct(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:ct(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var dt=function e(t,n,r){void 0===r&&(r=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return ut(e)})):[ut(e)]}(n),t=Z(t);var i=[];if(!n.length)return i;for(var o=0;o<t.length;){var s=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,a=t.subarray(o+4,o+8);if(0===s)break;var l=o+s;if(l>t.length){if(r)break;l=t.length}var u=t.subarray(o+8,l);ie(a,n[0])&&(1===n.length?i.push(u):i.push.apply(i,e(u,n.slice(1),r))),o=l}return i},pt={EBML:Z([26,69,223,163]),DocType:Z([66,130]),Segment:Z([24,83,128,103]),SegmentInfo:Z([21,73,169,102]),Tracks:Z([22,84,174,107]),Track:Z([174]),TrackNumber:Z([215]),DefaultDuration:Z([35,227,131]),TrackEntry:Z([174]),TrackType:Z([131]),FlagDefault:Z([136]),CodecID:Z([134]),CodecPrivate:Z([99,162]),VideoTrack:Z([224]),AudioTrack:Z([225]),Cluster:Z([31,67,182,117]),Timestamp:Z([231]),TimestampScale:Z([42,215,177]),BlockGroup:Z([160]),BlockDuration:Z([155]),Block:Z([161]),SimpleBlock:Z([163])},ft=[128,64,32,16,8,4,2,1],ht=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var i=function(e){for(var t=1,n=0;n<ft.length&&!(e&ft[n]);n++)t++;return t}(e[t]),o=e.subarray(t,t+i);return n&&((o=Array.prototype.slice.call(e,t,t+i))[0]^=ft[i-1]),{length:i,value:te(o,{signed:r}),bytes:o}},mt=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?ne(t):t},gt=function e(t,n,r){if(r>=n.length)return n.length;var i=ht(n,r,!1);if(ie(t.bytes,i.bytes))return r;var o=ht(n,r+i.length);return e(t,n,r+o.length+o.value+i.length)},vt=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return mt(e)})):[mt(e)]}(n),t=Z(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var o=ht(t,i,!1),s=ht(t,i+o.length),a=i+o.length+s.length;127===s.value&&(s.value=gt(o,t,a),s.value!==t.length&&(s.value-=a));var l=a+s.value>t.length?t.length:a+s.value,u=t.subarray(a,l);ie(n[0],o.bytes)&&(1===n.length?r.push(u):r=r.concat(e(u,n.slice(1)))),i+=o.length+s.length+u.length}return r},yt=Z([0,0,0,1]),_t=Z([0,0,1]),bt=Z([0,0,3]),Tt=function(e){for(var t=[],n=1;n<e.length-2;)ie(e.subarray(n,n+3),bt)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,i=new Uint8Array(r),o=0;for(n=0;n<r;o++,n++)o===t[0]&&(o++,t.shift()),i[n]=e[o];return i},Et=function(e,t,n,r){void 0===r&&(r=1/0),e=Z(e),n=[].concat(n);for(var i,o=0,s=0;o<e.length&&(s<r||i);){var a=void 0;if(ie(e.subarray(o),yt)?a=4:ie(e.subarray(o),_t)&&(a=3),a){if(s++,i)return Tt(e.subarray(i,o));var l=void 0;"h264"===t?l=31&e[o+a]:"h265"===t&&(l=e[o+a]>>1&63),-1!==n.indexOf(l)&&(i=o+a),o+=a+("h264"===t?1:2)}else o++}return e.subarray(0,0)},wt={webm:Z([119,101,98,109]),matroska:Z([109,97,116,114,111,115,107,97]),flac:Z([102,76,97,67]),ogg:Z([79,103,103,83]),ac3:Z([11,119]),riff:Z([82,73,70,70]),avi:Z([65,86,73]),wav:Z([87,65,86,69]),"3gp":Z([102,116,121,112,51,103]),mp4:Z([102,116,121,112]),fmp4:Z([115,116,121,112]),mov:Z([102,116,121,112,113,116]),moov:Z([109,111,111,118]),moof:Z([109,111,111,102])},jt={aac:function(e){var t=lt(e);return ie(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=lt(e);return ie(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=vt(e,[pt.EBML,pt.DocType])[0];return ie(t,wt.webm)},mkv:function(e){var t=vt(e,[pt.EBML,pt.DocType])[0];return ie(t,wt.matroska)},mp4:function(e){return!jt["3gp"](e)&&!jt.mov(e)&&(!(!ie(e,wt.mp4,{offset:4})&&!ie(e,wt.fmp4,{offset:4}))||(!(!ie(e,wt.moof,{offset:4})&&!ie(e,wt.moov,{offset:4}))||void 0))},mov:function(e){return ie(e,wt.mov,{offset:4})},"3gp":function(e){return ie(e,wt["3gp"],{offset:4})},ac3:function(e){var t=lt(e);return ie(e,wt.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=lt(e);return ie(e,wt.flac,{offset:t})},ogg:function(e){return ie(e,wt.ogg)},avi:function(e){return ie(e,wt.riff)&&ie(e,wt.avi,{offset:8})},wav:function(e){return ie(e,wt.riff)&&ie(e,wt.wav,{offset:8})},h264:function(e){return function(e,t,n){return Et(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return Et(e,"h265",t,n)}(e,[32,33],3).length}},St=Object.keys(jt).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);St.forEach((function(e){var t=jt[e];jt[e]=function(e){return t(Z(e))}}));for(var kt,xt=jt,Ct=function(e){e=Z(e);for(var t=0;t<St.length;t++){var n=St[t];if(xt[n](e))return n}return""},Pt=n("./node_modules/mux.js/lib/utils/clock.js"),Ot="7.20.1",It={},At=function(e,t){return It[e]=It[e]||[],t&&(It[e]=It[e].concat(t)),It[e]},Nt=function(e,t){var n=At(e).indexOf(t);return!(n<=-1)&&(It[e]=It[e].slice(),It[e].splice(n,1),!0)},Lt={prefixed:!0},Dt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Rt=Dt[0],Mt=0;Mt<Dt.length;Mt++)if(Dt[Mt][1]in s()){kt=Dt[Mt];break}if(kt){for(var Ut=0;Ut<kt.length;Ut++)Lt[Rt[Ut]]=kt[Ut];Lt.prefixed=kt[0]!==Rt[0]}var Bt=[];var Ft=function e(t){var n,r="info",o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,o){var s=t.levels[r],a=new RegExp("^("+s+")$");if("log"!==n&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),Bt){Bt.push([].concat(o));var l=Bt.length-1e3;Bt.splice(0,l>0?l:0)}if(i().console){var u=i().console[n];u||"debug"!==n||(u=i().console.info||i().console.log),u&&s&&a.test(n)&&u[Array.isArray(o)?"apply":"call"](i().console,o)}}}(t,o),o.createLogger=function(n){return e(t+": "+n)},o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},o.level=function(e){if("string"==typeof e){if(!o.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(o.history=function(){return Bt?[].concat(Bt):[]}).filter=function(e){return(Bt||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},o.history.clear=function(){Bt&&(Bt.length=0)},o.history.disable=function(){null!==Bt&&(Bt.length=0,Bt=null)},o.history.enable=function(){null===Bt&&(Bt=[])},o.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},o.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},o.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},o}("VIDEOJS"),Ht=Ft.createLogger,qt=Object.prototype.toString,Vt=function(e){return Gt(e)?Object.keys(e):[]};function Wt(e,t){Vt(e).forEach((function(n){return t(e[n],n)}))}function zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?a.Z.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Wt(t,(function(t,n){e[n]=t}))})),e)}function Gt(e){return!!e&&"object"==typeof e}function Kt(e){return Gt(e)&&"[object Object]"===qt.call(e)&&e.constructor===Object}function Xt(e,t){if(!e||!t)return"";if("function"==typeof i().getComputedStyle){var n;try{n=i().getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Yt,$t=i().navigator&&i().navigator.userAgent||"",Qt=/AppleWebKit\/([\d.]+)/i.exec($t),Zt=Qt?parseFloat(Qt.pop()):null,Jt=/iPod/i.test($t),en=(Yt=$t.match(/OS (\d+)_/i))&&Yt[1]?Yt[1]:null,tn=/Android/i.test($t),nn=function(){var e=$t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),rn=tn&&nn<5&&Zt<537,on=/Firefox/i.test($t),sn=/Edg/i.test($t),an=!sn&&(/Chrome/i.test($t)||/CriOS/i.test($t)),ln=function(){var e=$t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),un=function(){var e=/MSIE\s(\d+)\.\d/.exec($t),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test($t)&&/rv:11.0/.test($t)&&(t=11),t}(),cn=/Safari/i.test($t)&&!an&&!tn&&!sn,dn=/Windows/i.test($t),pn=Boolean(bn()&&("ontouchstart"in i()||i().navigator.maxTouchPoints||i().DocumentTouch&&i().document instanceof i().DocumentTouch)),fn=/iPad/i.test($t)||cn&&pn&&!/iPhone/i.test($t),hn=/iPhone/i.test($t)&&!fn,mn=hn||fn||Jt,gn=(cn||mn)&&!an,vn=Object.freeze({__proto__:null,IS_IPOD:Jt,IOS_VERSION:en,IS_ANDROID:tn,ANDROID_VERSION:nn,IS_NATIVE_ANDROID:rn,IS_FIREFOX:on,IS_EDGE:sn,IS_CHROME:an,CHROME_VERSION:ln,IE_VERSION:un,IS_SAFARI:cn,IS_WINDOWS:dn,TOUCH_ENABLED:pn,IS_IPAD:fn,IS_IPHONE:hn,IS_IOS:mn,IS_ANY_SAFARI:gn});function yn(e){return"string"==typeof e&&Boolean(e.trim())}function _n(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function bn(){return s()===i().document}function Tn(e){return Gt(e)&&1===e.nodeType}function En(){try{return i().parent!==i().self}catch(e){return!0}}function wn(e){return function(t,n){if(!yn(t))return s()[e](null);yn(n)&&(n=s().querySelector(n));var r=Tn(n)?n:s();return r[e]&&r[e](t)}}function jn(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=s().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Ft.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?Sn(i,n):i[e]===n&&"tabIndex"!==e||(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&Wn(i,r),i}function Sn(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function kn(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function xn(e,t){return _n(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Cn(e,t){return e.classList?e.classList.add(t):xn(e,t)||(e.className=(e.className+" "+t).trim()),e}function Pn(e,t){return e?(e.classList?e.classList.remove(t):(_n(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(Ft.warn("removeClass was called with an element that doesn't exist"),null)}function On(e,t,n){var r=xn(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?Cn(e,t):Pn(e,t),e}function In(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function An(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,s=r[i].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(s=null!==s),t[o]=s}return t}function Nn(e,t){return e.getAttribute(t)}function Ln(e,t,n){e.setAttribute(t,n)}function Dn(e,t){e.removeAttribute(t)}function Rn(){s().body.focus(),s().onselectstart=function(){return!1}}function Mn(){s().onselectstart=function(){return!0}}function Un(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Xt(e,"height"))),n.width||(n.width=parseFloat(Xt(e,"width"))),n}}function Bn(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;e.offsetParent&&e!==s()[Lt.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function Fn(e,t){var n={x:0,y:0};if(mn)for(var r=e;r&&"html"!==r.nodeName.toLowerCase();){var i=Xt(r,"transform");if(/^matrix/.test(i)){var o=i.slice(7,-1).split(/,\s/).map(Number);n.x+=o[4],n.y+=o[5]}else if(/^matrix3d/.test(i)){var s=i.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}r=r.parentNode}var a={},l=Bn(t.target),u=Bn(e),c=u.width,d=u.height,p=t.offsetY-(u.top-l.top),f=t.offsetX-(u.left-l.left);return t.changedTouches&&(f=t.changedTouches[0].pageX-u.left,p=t.changedTouches[0].pageY+u.top,mn&&(f-=n.x,p-=n.y)),a.y=1-Math.max(0,Math.min(1,p/d)),a.x=Math.max(0,Math.min(1,f/c)),a}function Hn(e){return Gt(e)&&3===e.nodeType}function qn(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Vn(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),Tn(e)||Hn(e)?e:"string"==typeof e&&/\S/.test(e)?s().createTextNode(e):void 0})).filter((function(e){return e}))}function Wn(e,t){return Vn(t).forEach((function(t){return e.appendChild(t)})),e}function zn(e,t){return Wn(qn(e),t)}function Gn(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Kn,Xn=wn("querySelector"),Yn=wn("querySelectorAll"),$n=Object.freeze({__proto__:null,isReal:bn,isEl:Tn,isInFrame:En,createEl:jn,textContent:Sn,prependTo:kn,hasClass:xn,addClass:Cn,removeClass:Pn,toggleClass:On,setAttributes:In,getAttributes:An,getAttribute:Nn,setAttribute:Ln,removeAttribute:Dn,blockTextSelection:Rn,unblockTextSelection:Mn,getBoundingClientRect:Un,findPosition:Bn,getPointerPosition:Fn,isTextNode:Hn,emptyEl:qn,normalizeContent:Vn,appendContent:Wn,insertContent:zn,isSingleLeftClick:Gn,$:Xn,$$:Yn}),Qn=!1,Zn=function(){if(!1!==Kn.options.autoSetup){var e=Array.prototype.slice.call(s().getElementsByTagName("video")),t=Array.prototype.slice.call(s().getElementsByTagName("audio")),n=Array.prototype.slice.call(s().getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){Jn(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&Kn(a)}else Qn||Jn(1)}};function Jn(e,t){bn()&&(t&&(Kn=t),i().setTimeout(Zn,e))}function er(){Qn=!0,i().removeEventListener("load",er)}bn()&&("complete"===s().readyState?er():i().addEventListener("load",er));var tr,nr=function(e){var t=s().createElement("style");return t.className=e,t},rr=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},ir=3;function or(){return ir++}i().WeakMap||(tr=function(){function e(){this.vdata="vdata"+Math.floor(i().performance&&i().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||or();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Ft("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var sr,ar=i().WeakMap?new WeakMap:new tr;function lr(e,t){if(ar.has(e)){var n=ar.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ar.delete(e)}}function ur(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function cr(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var r=e||i().event;for(var o in e={},r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&"path"!==o&&("returnValue"===o&&r.preventDefault||(e[o]=r[o]));if(e.target||(e.target=e.srcElement||s()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var a=s().documentElement,l=s().body;e.pageX=e.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var dr=["touchstart","touchmove"];function pr(e,t,n){if(Array.isArray(t))return ur(pr,e,t,n);ar.has(e)||ar.set(e,{});var r=ar.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=or()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=cr(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),s=0,a=o.length;s<a&&!t.isImmediatePropagationStopped();s++)try{o[s].call(e,t,n)}catch(e){Ft.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var o=!1;(function(){if("boolean"!=typeof sr){sr=!1;try{var e=Object.defineProperty({},"passive",{get:function(){sr=!0}});i().addEventListener("test",null,e),i().removeEventListener("test",null,e)}catch(e){}}return sr})()&&dr.indexOf(t)>-1&&(o={passive:!0}),e.addEventListener(t,r.dispatcher,o)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function fr(e,t,n){if(ar.has(e)){var r=ar.get(e);if(r.handlers){if(Array.isArray(t))return ur(fr,e,t,n);var i=function(e,t){r.handlers[t]=[],lr(e,t)};if(void 0!==t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);lr(e,t)}else i(e,t)}else for(var a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(e,a)}}}function hr(e,t,n){var r=ar.has(e)?ar.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=cr(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)hr.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){ar.has(t.target)||ar.set(t.target,{});var o=ar.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function mr(e,t,n){if(Array.isArray(t))return ur(mr,e,t,n);var r=function r(){fr(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||or(),pr(e,t,r)}function gr(e,t,n){var r=function r(){fr(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||or(),pr(e,t,r)}var vr,yr=Object.freeze({__proto__:null,fixEvent:cr,on:pr,off:fr,trigger:hr,one:mr,any:gr}),_r=30,br=function(e,t,n){t.guid||(t.guid=or());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},Tr=function(e,t){var n=i().performance.now();return function(){var r=i().performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},Er=function(){};Er.prototype.allowedEvents_={},Er.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},pr(this,e,t),this.addEventListener=n},Er.prototype.addEventListener=Er.prototype.on,Er.prototype.off=function(e,t){fr(this,e,t)},Er.prototype.removeEventListener=Er.prototype.off,Er.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},mr(this,e,t),this.addEventListener=n},Er.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},gr(this,e,t),this.addEventListener=n},Er.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=cr(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),hr(this,e)},Er.prototype.dispatchEvent=Er.prototype.trigger,Er.prototype.queueTrigger=function(e){var t=this;vr||(vr=new Map);var n=e.type||e,r=vr.get(this);r||(r=new Map,vr.set(this,r));var o=r.get(n);r.delete(n),i().clearTimeout(o);var s=i().setTimeout((function(){0===r.size&&(r=null,vr.delete(t)),t.trigger(e)}),0);r.set(n,s)};var wr=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},jr=function(e){return e instanceof Er||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},Sr=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},kr=function(e,t,n){if(!e||!e.nodeName&&!jr(e))throw new Error("Invalid target for "+wr(t)+"#"+n+"; must be a DOM node or evented object.")},xr=function(e,t,n){if(!Sr(e))throw new Error("Invalid event type for "+wr(t)+"#"+n+"; must be a non-empty string or array.")},Cr=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+wr(t)+"#"+n+"; must be a function.")},Pr=function(e,t,n){var r,i,o,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return s?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(r=t[0],i=t[1],o=t[2]),kr(r,e,n),xr(i,e,n),Cr(o,e,n),{isTargetingSelf:s,target:r,type:i,listener:o=br(e,o)}},Or=function(e,t,n,r){kr(e,e,t),e.nodeName?yr[t](e,n,r):e[t](n,r)},Ir={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Pr(this,n,"on"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(Or(s,"on",a,l),!o){var u=function(){return e.off(s,a,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,Or(this,"on","dispose",u),Or(s,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Pr(this,n,"one"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(o)Or(s,"one",a,l);else{var u=function t(){e.off(s,a,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,Or(s,"one",a,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Pr(this,n,"any"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(o)Or(s,"any",a,l);else{var u=function t(){e.off(s,a,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,Or(s,"any",a,u)}},off:function(e,t,n){if(!e||Sr(e))fr(this.eventBusEl_,e,t);else{var r=e,i=t;kr(r,this,"off"),xr(i,this,"off"),Cr(n,this,"off"),n=br(this,n),this.off("dispose",n),r.nodeName?(fr(r,i,n),fr(r,"dispose",n)):jr(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){kr(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!Sr(n)){var r="Invalid event type for "+wr(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(r);(this.log||Ft).error(r)}return hr(this.eventBusEl_,e,t)}};function Ar(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=jn("span",{className:"vjs-event-bus"});return zt(e,Ir),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&ar.has(e)&&ar.delete(e)})),i().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Nr={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Wt(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&jr(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Lr(e,t){return zt(e,Nr),e.state=zt({},e.state,t),"function"==typeof e.handleStateChanged&&jr(e)&&e.on("statechanged",e.handleStateChanged),e}var Dr=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Rr=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function Mr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Wt(t,(function(t,n){Kt(t)?(Kt(e[n])||(e[n]={}),e[n]=Mr(e[n],t)):e[n]=t}))})),e}var Ur=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Br=i().Map?i().Map:Ur,Fr=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),Hr=i().Set?i().Set:Fr,qr=function(){function e(e,t,n){var r=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Mr({},this.options_),t=this.options_=Mr(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+or()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return r.addClass(e)})),!1!==t.evented&&(Ar(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Lr(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Hr,this.setIntervalIds_=new Hr,this.rafIds_=new Hr,this.namedRafs_=new Br,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Mr(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return jn(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],s=r&&r.split("-")[0],a=i&&i[s],l=n;return o&&o[e]?l=o[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r},t.addChild=function(t,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){o=Rr(t);var s=n.componentClass||o;n.name=o;var a=e.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&Rr(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[Dr(o)]=i),"function"==typeof i.el&&i.el()){var l=null;this.children_[r+1]&&(this.children_[r+1].el_?l=this.children_[r+1].el_:Tn(this.children_[r+1])&&(l=this.children_[r+1])),this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Rr(e.name())]=null,this.childNameIndex_[Dr(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,o=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Rr(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var o=t.addChild(n,r);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return Xn(e,t||this.contentEl())},t.$$=function(e,t){return Yn(e,t||this.contentEl())},t.hasClass=function(e){return xn(this.el_,e)},t.addClass=function(e){Cn(this.el_,e)},t.removeClass=function(e){Pn(this.el_,e)},t.toggleClass=function(e,t){On(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Nn(this.el_,e)},t.setAttribute=function(e,t){Ln(this.el_,e,t)},t.removeAttribute=function(e){Dn(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+Rr(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Xt(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+Rr(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(u().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=i().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(i().performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=br(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=br(this,e),this.clearTimersOnDispose_(),n=i().setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),i().clearTimeout(e)),e},t.setInterval=function(e,t){e=br(this,e),this.clearTimersOnDispose_();var n=i().setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),i().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=br(this,e),t=i().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=br(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),i().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],r=t[1];e[n].forEach((function(t,n){return e[r](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),o=i&&i.isTech(n),s=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!s)throw r=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=Rr(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var l=a.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Dr(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function Vr(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function Wr(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Vr.bind(null,"start",0,e),end:Vr.bind(null,"end",1,e)},i().Symbol&&i().Symbol.iterator&&(t[i().Symbol.iterator]=function(){return(e||[]).values()}),t}function zr(e,t){return Array.isArray(e)?Wr(e):void 0===e||void 0===t?Wr():Wr([[e,t]])}function Gr(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=zr(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(r=e.end(o))>t&&(r=t),i+=r-n;return i/t}function Kr(e){if(e instanceof Kr)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Gt(e)&&("number"==typeof e.code&&(this.code=e.code),zt(this,e)),this.message||(this.message=Kr.defaultMessages[this.code]||"")}qr.prototype.supportsRaf_="function"==typeof i().requestAnimationFrame&&"function"==typeof i().cancelAnimationFrame,qr.registerComponent("Component",qr),Kr.prototype.code=0,Kr.prototype.message="",Kr.prototype.status=null,Kr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Kr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Xr=0;Xr<Kr.errorTypes.length;Xr++)Kr[Kr.errorTypes[Xr]]=Xr,Kr.prototype[Kr.errorTypes[Xr]]=Xr;function Yr(e){return null!=e&&"function"==typeof e.then}function $r(e){Yr(e)&&e.then(null,(function(e){}))}var Qr=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},Zr=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=Qr(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Qr))},Jr=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},ei=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleKeyDown_=function(e){return r.handleKeyDown(e)},r.close_=function(e){return r.close(e)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=jn("div",{className:"vjs-modal-dialog-content"},{role:"document"}),r.descEl_=jn("p",{className:"vjs-modal-dialog-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Sn(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),zn(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),qn(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=s().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),u().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(u().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}s().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof i().HTMLAnchorElement||e instanceof i().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof i().HTMLInputElement||e instanceof i().HTMLSelectElement||e instanceof i().HTMLTextAreaElement||e instanceof i().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof i().HTMLIFrameElement||e instanceof i().HTMLObjectElement||e instanceof i().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(qr);ei.prototype.options_={pauseOnOpen:!0,temporary:!0},qr.registerComponent("ModalDialog",ei);var ti=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(c(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}p(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},jr(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(Er);for(var ni in ti.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},ti.prototype.allowedEvents_)ti.prototype["on"+ni]=null;var ri=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ii=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){ri(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}p(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&ri(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,ri(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(ti),oi=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},si=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){oi(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(c(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}p(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&oi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,oi(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(ti),ai=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ti),li=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),ui=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),ci={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},di={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},pi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},fi={disabled:"disabled",hidden:"hidden",showing:"showing"},hi=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+or(),kind:t.kind||"",language:t.language||""},i=t.label||"",o=function(e){Object.defineProperty(c(n),e,{get:function(){return r[e]},set:function(){}})};for(var s in r)o(s);return Object.defineProperty(c(n),"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),n}return p(t,e),t}(Er),mi=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=s().createElement("a");n.href=e;for(var r={},o=0;o<t.length;o++)r[t[o]]=n[t[o]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=i().location.protocol),r.host||(r.host=i().location.host),r},gi=function(e){if(!e.match(/^https?:\/\//)){var t=s().createElement("a");t.href=e,e=t.href}return e},vi=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},yi=function(e,t){void 0===t&&(t=i().location);var n=mi(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},_i=Object.freeze({__proto__:null,parseUrl:mi,getAbsoluteURL:gi,getFileExtension:vi,isCrossOrigin:yi}),bi=function(e,t){var n=new(i().WebVTT.Parser)(i(),i().vttjs,i().WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(i().console&&i().console.groupCollapsed&&i().console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return Ft.error(e)})),i().console&&i().console.groupEnd&&i().console.groupEnd()),n.flush()},Ti=function(e,t){var n={uri:e},r=yi(e);r&&(n.cors=r);var o="use-credentials"===t.tech_.crossOrigin();o&&(n.withCredentials=o),g()(n,br(this,(function(e,n,r){if(e)return Ft.error(e,n);t.loaded_=!0,"function"!=typeof i().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return bi(r,t);Ft.error("vttjs failed to load, stopping trying to process "+t.src)})):bi(r,t)})))},Ei=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=Mr(t,{kind:pi[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=fi[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var s=new ui(n.cues_),a=new ui(n.activeCues_),l=!1;n.timeupdateHandler=br(c(n),(function(){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)):this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}));return n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==i&&n.startTracking(),Object.defineProperties(c(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){fi[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||Ti(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&Ti(n.src,c(n))):n.loaded_=!0,n}p(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},n.addCue=function(e){var t=e;if(i().vttjs&&!(e instanceof i().vttjs.VTTCue)){for(var n in t=new(i().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(hi);Ei.prototype.allowedEvents_={cuechange:"cuechange"};var wi=function(e){function t(t){var n;void 0===t&&(t={});var r=Mr(t,{kind:di[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(c(n),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return p(t,e),t}(hi),ji=function(e){function t(t){var n;void 0===t&&(t={});var r=Mr(t,{kind:ci[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(c(n),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return p(t,e),t}(hi),Si=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new Ei(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(c(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=0,i.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:c(n)})})),n}return p(t,e),t}(Er);Si.prototype.allowedEvents_={load:"load"},Si.NONE=0,Si.LOADING=1,Si.LOADED=2,Si.ERROR=3;var ki={audio:{ListClass:ii,TrackClass:wi,capitalName:"Audio"},video:{ListClass:si,TrackClass:ji,capitalName:"Video"},text:{ListClass:ai,TrackClass:Ei,capitalName:"Text"}};Object.keys(ki).forEach((function(e){ki[e].getterName=e+"Tracks",ki[e].privateName=e+"Tracks_"}));var xi={remoteText:{ListClass:ai,TrackClass:Ei,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:li,TrackClass:Si,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ci=(0,a.Z)({},ki,xi);xi.names=Object.keys(xi),ki.names=Object.keys(ki),Ci.names=[].concat(xi.names).concat(ki.names);var Pi=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).onDurationChange_=function(e){return r.onDurationChange(e)},r.trackProgress_=function(e){return r.trackProgress(e)},r.trackCurrentTime_=function(e){return r.trackCurrentTime(e)},r.stopTrackingCurrentTime_=function(e){return r.stopTrackingCurrentTime(e)},r.disposeSourceHandler_=function(e){return r.disposeSourceHandler(e)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),Ci.names.forEach((function(e){var n=Ci[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new Ci.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}p(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(br(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return zr(0,0)},n.bufferedPercent=function(){return Gr(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(ki.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Kr(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?zr(0,0):zr()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;ki.names.forEach((function(t){var n=ki[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var e=this;if(!i().WebVTT)if(s().body.contains(this.el())){if(!this.options_["vtt.js"]&&Kt(y())&&Object.keys(y()).length>0)return void this.trigger("vttjsloaded");var t=s().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),i().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},s=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var s=new Ci.text.TrackClass(i);return o.addTrack(s),s}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Mr(e,{tech:this});return new xi.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Ft.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||i().Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=or();return this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Rr(e),t.techs_[e]=n,t.techs_[Dr(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=Rr(e),i()&&i().videojs&&i().videojs[e]?(Ft.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),i().videojs[e]):void 0)},t}(qr);Ci.names.forEach((function(e){var t=Ci[e];Pi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Pi.prototype.featuresVolumeControl=!0,Pi.prototype.featuresMuteControl=!0,Pi.prototype.featuresFullscreenResize=!1,Pi.prototype.featuresPlaybackRate=!1,Pi.prototype.featuresProgressEvents=!1,Pi.prototype.featuresSourceset=!1,Pi.prototype.featuresTimeupdateEvents=!1,Pi.prototype.featuresNativeTextTracks=!1,Pi.prototype.featuresVideoFrameCallback=!1,Pi.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Ft.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},qr.registerComponent("Tech",Pi),Pi.registerTech("Tech",Pi),Pi.defaultTechOrder_=[];var Oi={},Ii={},Ai={};function Ni(e,t,n){e.setTimeout((function(){return Bi(t,Oi[t.type],n,e)}),1)}function Li(e,t,n,r){void 0===r&&(r=null);var i="call"+Rr(n),o=e.reduce(Ui(i),r),s=o===Ai,a=s?null:t[n](o);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}(e,n,a,s),a}var Di={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Ri={setCurrentTime:1,setMuted:1,setVolume:1},Mi={play:1,pause:1};function Ui(e){return function(t,n){return t===Ai?Ai:n[e]?n[e](t):t}}function Bi(e,t,n,r,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var s=t,a=s[0],l=s.slice(1);if("string"==typeof a)Bi(e,Oi[a],n,r,i,o);else if(a){var u=function(e,t){var n=Ii[e.id()],r=null;if(null==n)return r=t(e),Ii[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i],s=o[0],a=o[1];s===t&&(r=a)}return null===r&&(r=t(e),n.push([t,r])),r}(r,a);if(!u.setSource)return i.push(u),Bi(e,l,n,r,i,o);u.setSource(zt({},e),(function(t,s){if(t)return Bi(e,l,n,r,i,o);i.push(u),Bi(s,e.type===s.type?l:Oi[s.type],n,r,i,o)}))}else l.length?Bi(e,l,n,r,i,o):o?n(e,i):Bi(e,Oi["*"],n,r,i,!0)}var Fi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Hi=function(e){void 0===e&&(e="");var t=vi(e);return Fi[t.toLowerCase()]||""},qi=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Gt(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Vi({src:t})]:Gt(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Vi(t)]:[];return t};function Vi(e){if(!e.type){var t=Hi(e.src);t&&(e.type=t)}return e}var Wi=function(e){function t(t,n,r){var i,o=Mr({createEl:!1},n);if(i=e.call(this,t,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var s=0,a=n.playerOptions.techOrder;s<a.length;s++){var l=Rr(a[s]),u=Pi.getTech(l);if(l||(u=qr.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return i}return p(t,e),t}(qr);qr.registerComponent("MediaLoader",Wi);var zi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(e){return r.handleMouseOver(e)},r.handleMouseOut_=function(e){return r.handleMouseOut(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.emitTapEvents(),r.enable(),r}p(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=zt({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Ft.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=zt({role:"button"},n),this.tabIndex_=t.tabIndex;var r=jn(e,t,n);return r.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=jn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,Sn(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){u().isEventKey(t,"Space")||u().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(qr);qr.registerComponent("ClickableComponent",zi);var Gi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),r.update_=function(e){return r.update(e)},t.on("posterchange",r.update_),r}p(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return jn("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(un||sn)&&t||this.player_.tech(!0).focus(),this.player_.paused()?$r(this.player_.play()):this.player_.pause()}},t}(zi);qr.registerComponent("PosterImage",Gi);var Ki={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Xi(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Yi(e,t,n){try{e.style[t]=n}catch(e){return}}var $i=function(e){function t(t,n,r){var o;o=e.call(this,t,n,r)||this;var s=function(e){return o.updateDisplay(e)};return t.on("loadstart",(function(e){return o.toggleDisplay(e)})),t.on("texttrackchange",s),t.on("loadedmetadata",(function(e){return o.preselectTrack(e)})),t.ready(br(c(o),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",s),t.on("playerresize",s),i().addEventListener("orientationchange",s),t.on("dispose",(function(){return i().removeEventListener("orientationchange",s)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),o}p(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,s=0;s<i.length;s++){var a=i[s];o&&o.enabled&&o.language&&o.language===a.language&&a.kind in r?a.kind===o.kind?n=a:n||(n=a):o&&!o.enabled?(n=null,e=null,t=null):a.default&&("descriptions"!==a.kind||e?a.kind in r&&!t&&(t=a):e=a)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof i().WebVTT&&i().WebVTT.processCues(i(),[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var o=null,s=null,a=e.length;a--;){var l=e[a];"showing"===l.mode&&("descriptions"===l.kind?o=l:s=l)}s?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var o=n[r];if(o){var s=o.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&Yi(s.firstChild,"color",Xi(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Yi(s.firstChild,"backgroundColor",Xi(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Yi(s,"backgroundColor",Xi(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var a=i().parseFloat(s.style.fontSize);s.style.fontSize=a*t.fontPercent+"px",s.style.height="auto",s.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Ki[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof i().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],o=0;o<r.activeCues.length;++o)t.push(r.activeCues[o]);i().WebVTT.processCues(i(),t,this.el_);for(var s=0;s<e.length;++s){for(var a=e[s],l=0;l<a.activeCues.length;++l){var u=a.activeCues[l].displayState;Cn(u,"vjs-text-track-cue"),Cn(u,"vjs-text-track-cue-"+(a.language?a.language:s)),a.language&&Ln(u,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(qr);qr.registerComponent("TextTrackDisplay",$i);var Qi=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=jn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(qr);qr.registerComponent("LoadingSpinner",Qi);var Zi=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=jn("button",t=zt({className:this.buildCSSClass()},t),n=zt({type:"button"},n));return r.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Ft.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),qr.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){u().isEventKey(t,"Space")||u().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(zi);qr.registerComponent("Button",Zi);var Ji=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return $r(t),void(!this.player_.tech(!0)||(un||sn)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var o=function(){return i.focus()};Yr(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Zi);Ji.prototype.controlText_="Play Video",qr.registerComponent("BigPlayButton",Ji);var eo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){u().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Zi);qr.registerComponent("CloseButton",eo);var to=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",(function(e){return r.handlePlay(e)})),r.on(t,"pause",(function(e){return r.handlePause(e)})),n.replay&&r.on(t,"ended",(function(e){return r.handleEnded(e)})),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?$r(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Zi);to.prototype.controlText_="Play",qr.registerComponent("PlayToggle",to);var no=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||s>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},ro=no;function io(e,t){return void 0===t&&(t=e),ro(e,t)}var oo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return r.updateContent(e)})),r.updateTextNode_(),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),r=jn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return n.appendChild(r),this.contentEl_=jn("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=io(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,Ft.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=s().createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(qr);oo.prototype.labelText_="Time",oo.prototype.controlText_="Time",qr.registerComponent("TimeDisplay",oo);var so=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(oo);so.prototype.labelText_="Current Time",so.prototype.controlText_="Current Time",qr.registerComponent("CurrentTimeDisplay",so);var ao=function(e){function t(t,n){var r,i=function(e){return r.updateContent(e)};return(r=e.call(this,t,n)||this).on(t,"durationchange",i),r.on(t,"loadstart",i),r.on(t,"loadedmetadata",i),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(oo);ao.prototype.labelText_="Duration",ao.prototype.controlText_="Duration",qr.registerComponent("DurationDisplay",ao);var lo=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),r=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(r),t.appendChild(n),t},t}(qr);qr.registerComponent("TimeDivider",lo);var uo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return r.updateContent(e)})),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(jn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(oo);uo.prototype.labelText_="Remaining Time",uo.prototype.controlText_="Remaining Time",qr.registerComponent("RemainingTimeDisplay",uo);var co=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",(function(e){return r.updateShowing(e)})),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=jn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(jn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(s().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(qr);qr.registerComponent("LiveDisplay",co);var po=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(e){return r.updateLiveEdgeStatus(e)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=jn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Zi);po.prototype.controlText_="Seek to live, currently playing live",qr.registerComponent("SeekToLive",po);var fo=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},ho=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseDown_=function(e){return r.handleMouseDown(e)},r.handleMouseUp_=function(e){return r.handleMouseUp(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleMouseMove_=function(e){return r.handleMouseMove(e)},r.update_=function(e){return r.update(e)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}p(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=zt({tabIndex:0},n),r=zt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||an||e.preventDefault(),Rn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Mn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(fo(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Fn(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){u().isEventKey(t,"Left")||u().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):u().isEventKey(t,"Right")||u().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(qr);qr.registerComponent("Slider",ho);var mo=function(e,t){return fo(e/t*100,0,100).toFixed(2)+"%"},go=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",(function(e){return r.update(e)})),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=jn("span",{className:"vjs-control-text"}),r=jn("span",{textContent:this.localize("Loaded")}),i=s().createTextNode(": ");return this.percentageEl_=jn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),o=t.partEls_,s=mo(i,r);t.percent_!==s&&(t.el_.style.width=s,Sn(t.percentageEl_,s),t.percent_=s);for(var a=0;a<n.length;a++){var l=n.start(a),u=n.end(a),c=o[a];c||(c=t.el_.appendChild(jn()),o[a]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=mo(l,i),c.style.width=mo(u-l,i))}for(var d=o.length;d>n.length;d--)t.el_.removeChild(o[d-1]);o.length=n.length}))},t}(qr);qr.registerComponent("LoadProgressBar",go);var vo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Tr(br(c(r),r.update),_r),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=Bn(this.el_),i=Un(this.player_.el()),o=e.width*t;if(i&&r){var s=e.left-i.left+o,a=e.width-o+(i.right-e.right),l=r.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>r.width&&(l=r.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){Sn(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,s=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var a=i.player_.liveTracker.liveWindow(),l=a-t*a;o=(l<1?"":"-")+io(l,a)}else o=io(n,s);i.update(e,t,o),r&&r()}))},t}(qr);qr.registerComponent("TimeTooltip",vo);var yo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Tr(br(c(r),r.update),_r),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(qr);yo.prototype.options_={children:[]},mn||tn||yo.prototype.options_.children.push("timeTooltip"),qr.registerComponent("PlayProgressBar",yo);var _o=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Tr(br(c(r),r.update),_r),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(qr);_o.prototype.options_={children:["timeTooltip"]},qr.registerComponent("MouseTimeDisplay",_o);var bo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}p(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=br(this,this.update),this.update=Tr(this.update_,_r),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.on(s(),"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===s().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,_r))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==s().visibilityState){var r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[io(e,i),io(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(Un(n.el()),n.getProgress())})),r}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){Gn(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),Gn(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var o=i.seekableStart(),s=i.liveCurrentTime();if((n=o+r*i.liveWindow())>=s&&(n=s),n<=o&&(n=o+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?$r(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(u().isEventKey(t,"Space")||u().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(u().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(u().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(u()(t))){t.preventDefault(),t.stopPropagation();var r=10*(u().codes[u()(t)]-u().codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else u().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):u().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in s()&&"visibilityState"in s()&&this.off(s(),"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(ho);bo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},mn||tn||bo.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),qr.registerComponent("SeekBar",bo);var To=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=Tr(br(c(r),r.handleMouseMove),_r),r.throttledHandleMouseSeek=Tr(br(c(r),r.handleMouseSeek),_r),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.handleMouseDownHandler_=function(e){return r.handleMouseDown(e)},r.enable(),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),o=Bn(i),s=Fn(i,e).x;s=fo(s,0,1),r&&r.update(o,s),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&$r(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(qr);To.prototype.options_={children:["seekBar"]},qr.registerComponent("ProgressControl",To);var Eo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return r.handlePictureInPictureChange(e)})),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return r.handlePictureInPictureEnabledChange(e)})),r.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),r.hide()):r.show()})),r.disable(),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){s().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Zi);Eo.prototype.controlText_="Picture-in-Picture",qr.registerComponent("PictureInPictureToggle",Eo);var wo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return r.handleFullscreenChange(e)})),!1===s()[t.fsApi_.fullscreenEnabled]&&r.disable(),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Zi);wo.prototype.controlText_="Fullscreen",qr.registerComponent("FullscreenToggle",wo);var jo=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(qr);qr.registerComponent("VolumeLevel",jo);var So=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Tr(br(c(r),r.update),_r),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,r){if(!n){var i=Un(this.el_),o=Un(this.player_.el()),s=e.width*t;if(!o||!i)return;var a=e.left-o.left+s,l=e.width-s+(o.right-e.right),u=i.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px"}this.write(r+"%")},n.write=function(e){Sn(this.el_,e)},n.updateVolume=function(e,t,n,r,i){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(e,t,n,r.toFixed(0)),i&&i()}))},t}(qr);qr.registerComponent("VolumeLevelTooltip",So);var ko=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Tr(br(c(r),r.update),_r),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var r=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(function(){n?r.el_.style.bottom=e.height*t+"px":r.el_.style.left=e.width*t+"px"}))},t}(qr);ko.prototype.options_={children:["volumeLevelTooltip"]},qr.registerComponent("MouseVolumeLevelDisplay",ko);var xo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",(function(e){return r.updateLastVolume_(e)})),r.on(t,"volumechange",(function(e){return r.updateARIAAttributes(e)})),t.ready((function(){return r.updateARIAAttributes()})),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Gn(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),r=Un(n),i=this.vertical(),o=Fn(n,e);o=i?o.y:o.x,o=fo(o,0,1),t.update(r,o,i)}Gn(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(ho);xo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},mn||tn||xo.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),xo.prototype.playerEvent="volumechange",qr.registerComponent("VolumeBar",xo);var Co=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Kt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(c(r=e.call(this,t,n)||this),t),r.throttledHandleMouseMove=Tr(br(c(r),r.handleMouseMove),_r),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r.on("touchstart",(function(e){return r.handleMouseDown(e)})),r.on("mousemove",(function(e){return r.handleMouseMove(e)})),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(qr);Co.prototype.options_={children:["volumeBar"]},qr.registerComponent("VolumeControl",Co);var Po=function(e){function t(t,n){var r;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(c(r=e.call(this,t,n)||this),t),r.on(t,["loadstart","volumechange"],(function(e){return r.update(e)})),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;mn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Pn(this.el_,"vjs-vol-"+n);Cn(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Zi);Po.prototype.controlText_="Mute",qr.registerComponent("MuteToggle",Po);var Oo=function(e){function t(t,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||Kt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return r.handleKeyPress(e)},r.on(t,["loadstart"],(function(e){return r.volumePanelState_(e)})),r.on(r.muteToggle,"keyup",(function(e){return r.handleKeyPress(e)})),r.on(r.volumeControl,"keyup",(function(e){return r.handleVolumeControlKeyUp(e)})),r.on("keydown",(function(e){return r.handleKeyPress(e)})),r.on("mouseover",(function(e){return r.handleMouseOver(e)})),r.on("mouseout",(function(e){return r.handleMouseOut(e)})),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}p(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){u().isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),pr(s(),"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),fr(s(),"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){u().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(qr);Oo.prototype.options_={children:["muteToggle","volumeControl"]},qr.registerComponent("VolumePanel",Oo);var Io=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",(function(e){return r.handleKeyDown(e)})),r.boundHandleBlur_=function(e){return r.handleBlur(e)},r.boundHandleTapClick_=function(e){return r.handleTapClick(e)},r}p(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof qr&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof qr&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=jn(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),pr(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||s().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){u().isEventKey(e,"Left")||u().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(u().isEventKey(e,"Right")||u().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(qr);qr.registerComponent("Menu",Io);var Ao=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new Zi(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Zi.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var o=function(e){return r.handleClick(e)};return r.handleMenuKeyUp_=function(e){return r.handleMenuKeyUp(e)},r.on(r.menuButton_,"tap",o),r.on(r.menuButton_,"click",o),r.on(r.menuButton_,"keydown",(function(e){return r.handleKeyDown(e)})),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),pr(s(),"keyup",r.handleMenuKeyUp_)})),r.on("mouseleave",(function(e){return r.handleMouseLeave(e)})),r.on("keydown",(function(e){return r.handleSubmenuKeyDown(e)})),r}p(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new Io(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=jn("li",{className:"vjs-menu-title",textContent:Rr(this.options_.title),tabIndex:-1}),n=new qr(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Zi.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),fr(s(),"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),u().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(u().isEventKey(e,"Up")||u().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),u().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),mn&&En())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(qr);qr.registerComponent("MenuButton",Ao);var No=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return c(r);var o=br(c(r),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),i.addEventListener("labelchange",o),r.player_.on("ready",o),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o),i.removeEventListener("labelchange",o)})),r}return p(t,e),t}(Ao);qr.registerComponent("TrackButton",No);var Lo=["Tab","Esc","Up","Down","Right","Left"],Do=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}p(t,e);var n=t.prototype;return n.createEl=function(t,n,r){this.nonIconControl=!0;var i=e.prototype.createEl.call(this,"li",zt({className:"vjs-menu-item",tabIndex:-1},n),r);return i.replaceChild(jn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},n.handleKeyDown=function(t){Lo.some((function(e){return u().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(zi);qr.registerComponent("MenuItem",Do);var Ro=function(e){function t(t,n){var r,o=n.track,a=t.textTracks();n.label=o.label||o.language||"Unknown",n.selected="showing"===o.mode,(r=e.call(this,t,n)||this).track=o,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var l,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(c(r),t)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(c(r),t)};(t.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",d),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",d)})),void 0===a.onchange)&&r.on(["tap","click"],(function(){if("object"!=typeof i().Event)try{l=new(i().Event)("change")}catch(e){}l||(l=s().createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(l)}));return r.handleTracksChange(),r}p(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Do);qr.registerComponent("TextTrackMenuItem",Ro);var Mo=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}p(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ro);qr.registerComponent("OffTextTrackMenuItem",Mo);var Uo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return p(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Ro),this.label_&&(n=this.label_+" off"),e.push(new Mo(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var s=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+o.kind+"-menu-item"),e.push(s)}}return e},t}(No);qr.registerComponent("TextTrackButton",Uo);var Bo=function(e){function t(t,n){var r,i=n.track,o=n.cue,s=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=s&&s<o.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=o,r}return p(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(Do);qr.registerComponent("ChaptersTrackMenuItem",Bo);var Fo=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r)||this).selectCurrentItem_=function(){i.items.forEach((function(e){e.selected(i.track_.activeCues[0]===e.cue)}))},i}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Rr(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new Bo(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(Uo);Fo.prototype.kind_="chapters",Fo.prototype.controlText_="Chapters",qr.registerComponent("ChaptersButton",Fo);var Ho=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=t.textTracks(),s=br(c(i),i.handleTracksChange);return o.addEventListener("change",s),i.on("dispose",(function(){o.removeEventListener("change",s)})),i}p(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Uo);Ho.prototype.kind_="descriptions",Ho.prototype.controlText_="Descriptions",qr.registerComponent("DescriptionsButton",Ho);var qo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Uo);qo.prototype.kind_="subtitles",qo.prototype.controlText_="Subtitles",qr.registerComponent("SubtitlesButton",qo);var Vo=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return p(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Ro);qr.registerComponent("CaptionSettingsMenuItem",Vo);var Wo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Vo(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Uo);Wo.prototype.kind_="captions",Wo.prototype.controlText_="Captions",qr.registerComponent("CaptionsButton",Wo);var zo=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),o=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(jn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},t}(Ro);qr.registerComponent("SubsCapsMenuItem",zo);var Go=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Rr(r.label_)),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Vo(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,zo)},t}(Uo);Go.prototype.kinds_=["captions","subtitles"],Go.prototype.controlText_="Subtitles",qr.registerComponent("SubsCapsButton",Go);var Ko=function(e){function t(t,n){var r,i=n.track,o=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(c(r),t)};return o.addEventListener("change",s),r.on("dispose",(function(){o.removeEventListener("change",s)})),r}p(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),o=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(jn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(jn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];i!==this.track&&(i.enabled=i===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Do);qr.registerComponent("AudioTrackMenuItem",Ko);var Xo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Ko(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(No);Xo.prototype.controlText_="Audio Track",qr.registerComponent("AudioTrackButton",Xo);var Yo=function(e){function t(t,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=o===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=o,r.on(t,"ratechange",(function(e){return r.update(e)})),r}p(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Do);Yo.prototype.contentElType="button",qr.registerComponent("PlaybackRateMenuItem",Yo);var $o=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(t,"loadstart",(function(e){return r.updateVisibility(e)})),r.on(t,"ratechange",(function(e){return r.updateLabel(e)})),r.on(t,"playbackrateschange",(function(e){return r.handlePlaybackRateschange(e)})),r}p(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=jn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new Yo(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),r=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[r])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Ao);$o.prototype.controlText_="Playback Rate",qr.registerComponent("PlaybackRateMenuButton",$o);var Qo=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,r){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,r)},t}(qr);qr.registerComponent("Spacer",Qo);var Zo=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(Qo);qr.registerComponent("CustomControlSpacer",Zo);var Jo=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(qr);Jo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in s()&&Jo.prototype.options_.children.splice(Jo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),qr.registerComponent("ControlBar",Jo);var es=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",(function(e){return r.open(e)})),r}p(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(ei);es.prototype.options_=(0,a.Z)({},ei.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),qr.registerComponent("ErrorDisplay",es);var ts="vjs-text-track-settings",ns=["#000","Black"],rs=["#00F","Blue"],is=["#0FF","Cyan"],os=["#0F0","Green"],ss=["#F0F","Magenta"],as=["#F00","Red"],ls=["#FFF","White"],us=["#FF0","Yellow"],cs=["1","Opaque"],ds=["0.5","Semi-Transparent"],ps=["0","Transparent"],fs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ns,ls,as,os,rs,us,ss,is]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[cs,ds,ps]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ls,ns,as,os,rs,us,ss,is]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[cs,ds]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ps,ds,cs]}};function hs(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}fs.windowColor.options=fs.backgroundColor.options;var ms=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=r.updateDisplay.bind(c(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=jn("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),Wt(fs,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}p(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=fs[e],o=i.id.replace("%s",this.id_),s=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(i.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return jn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return jn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return jn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,o,s=(i=r.$(t.selector),o=t.parser,hs(i.options[i.options.selectedIndex].value,o));return void 0!==s&&(e[n]=s),e},void 0===(n={})&&(n=0),Vt(e=fs).reduce((function(n,r){return t(n,e[r],r)}),n)},n.setValues=function(e){var t=this;Wt(fs,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(hs(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;Wt(fs,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(i().localStorage.getItem(ts))}catch(e){Ft.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?i().localStorage.setItem(ts,JSON.stringify(e)):i().localStorage.removeItem(ts)}catch(e){Ft.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(ei);qr.registerComponent("TextTrackSettings",ms);var gs=function(e){function t(t,n){var r,o=n.ResizeObserver||i().ResizeObserver;null===n.ResizeObserver&&(o=!1);var s=Mr({createEl:!o,reportTouchActivity:!1},n);return(r=e.call(this,t,s)||this).ResizeObserver=n.ResizeObserver||i().ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var o;void 0===r&&(r=i());var s=function(){var i=this,s=arguments,a=function(){o=null,a=null,n||e.apply(i,s)};!o&&n&&e.apply(i,s),r.clearTimeout(o),o=r.setTimeout(a,t)};return s.cancel=function(){r.clearTimeout(o),o=null},s}((function(){r.resizeHandler()}),100,!1,c(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){fr(this,"resize",e),fr(this,"unload",t),t=null};pr(r.el_.contentWindow,"unload",t),pr(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}p(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(qr);qr.registerComponent("ResizeManager",gs);var vs={trackingThreshold:20,liveTolerance:15},ys=function(e){function t(t,n){var r,i=Mr(vs,n,{createEl:!1});return(r=e.call(this,t,i)||this).handleVisibilityChange_=function(e){return r.handleVisibilityChange(e)},r.trackLiveHandler_=function(){return r.trackLive_()},r.handlePlay_=function(e){return r.handlePlay(e)},r.handleFirstTimeupdate_=function(e){return r.handleFirstTimeupdate(e)},r.handleSeeked_=function(e){return r.handleSeeked(e)},r.seekToLiveEdge_=function(e){return r.seekToLiveEdge(e)},r.reset_(),r.on(r.player_,"durationchange",(function(e){return r.handleDurationchange(e)})),r.on(r.player_,"canplay",(function(){return r.toggleTracking()})),un&&"hidden"in s()&&"visibilityState"in s()&&r.on(s(),"visibilitychange",r.handleVisibilityChange_),r}p(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(s().hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(i().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),o=this.player_.currentTime(),s=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,_r),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(s(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(qr);qr.registerComponent("LiveTracker",ys);var _s,bs=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var s=n[o].src;s&&-1===r.indexOf(s)&&r.push(s)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},Ts=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=s().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=s().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",i().Element.prototype.appendChild.call(this,n),this.innerHTML}}),Es=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},ws=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Es([e.el(),i().HTMLMediaElement.prototype,i().Element.prototype,Ts],"innerHTML")}(e),o=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=n.apply(t,i);return bs(e),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=o(n[e]))})),Object.defineProperty(t,"innerHTML",Mr(r,{set:o(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},js=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?gi(i().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return i().Element.prototype.setAttribute.call(this,"src",e),e}}),Ss=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Es([e.el(),i().HTMLMediaElement.prototype,js],"src")}(e),r=t.setAttribute,o=t.load;Object.defineProperty(t,"src",Mr(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var o=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=o.call(t);return bs(e)||(e.triggerSourceset(""),ws(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):bs(e)||ws(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=o,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},ks=function(e,t,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(o.set=i),Object.defineProperty(e,t,o)},xs=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,o=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var s=r.el_.childNodes,a=s.length,l=[];a--;){var u=s[a];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),o||r.el_.hasAttribute("crossorigin")||!yi(u.src)||(o=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&Ft.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(pn||hn||rn)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,r.triggerReady(),r}p(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Ss(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=ki[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[xi.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",s),this.on("dispose",(function(e){return t.off("loadstart",s)}))}},n.proxyNativeTracks_=function(){var e=this;ki.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=s().createElement("video");var r=Mr({},this.options_.tag&&An(this.options_.tag));pn&&!0===this.options_.nativeControlsForTouch||delete r.controls,In(e,zt(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Ln(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var a=i[o],l=this.options_[a];void 0!==l&&(l?Ln(e,a,a):Dn(e,a),e[a]=l)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&gn?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Ft(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&tn&&an&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=i().navigator&&i().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)$r(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=s().createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),i().performance&&"function"==typeof i().performance.now?e.creationTime=i().performance.now():i().performance&&i().performance.timing&&"number"==typeof i().performance.timing.navigationStart&&(e.creationTime=i().Date.now()-i().performance.timing.navigationStart),e},t}(Pi);ks(xs,"TEST_VID",(function(){if(bn()){var e=s().createElement("video"),t=s().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),xs.isSupported=function(){try{xs.TEST_VID.volume=.5}catch(e){return!1}return!(!xs.TEST_VID||!xs.TEST_VID.canPlayType)},xs.canPlayType=function(e){return xs.TEST_VID.canPlayType(e)},xs.canPlaySource=function(e,t){return xs.canPlayType(e.type)},xs.canControlVolume=function(){try{var e=xs.TEST_VID.volume;xs.TEST_VID.volume=e/2+.1;var t=e!==xs.TEST_VID.volume;return t&&mn?(i().setTimeout((function(){xs&&xs.prototype&&(xs.prototype.featuresVolumeControl=e!==xs.TEST_VID.volume)})),!1):t}catch(e){return!1}},xs.canMuteVolume=function(){try{var e=xs.TEST_VID.muted;return xs.TEST_VID.muted=!e,xs.TEST_VID.muted?Ln(xs.TEST_VID,"muted","muted"):Dn(xs.TEST_VID,"muted"),e!==xs.TEST_VID.muted}catch(e){return!1}},xs.canControlPlaybackRate=function(){if(tn&&an&&ln<58)return!1;try{var e=xs.TEST_VID.playbackRate;return xs.TEST_VID.playbackRate=e/2+.1,e!==xs.TEST_VID.playbackRate}catch(e){return!1}},xs.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(s().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(s().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(s().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},xs.supportsNativeTextTracks=function(){return gn||mn&&an},xs.supportsNativeVideoTracks=function(){return!(!xs.TEST_VID||!xs.TEST_VID.videoTracks)},xs.supportsNativeAudioTracks=function(){return!(!xs.TEST_VID||!xs.TEST_VID.audioTracks)},xs.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];ks(xs.prototype,t,(function(){return xs[n]()}),!0)})),xs.prototype.featuresVolumeControl=xs.canControlVolume(),xs.prototype.movingMediaElementInDOM=!mn,xs.prototype.featuresFullscreenResize=!0,xs.prototype.featuresProgressEvents=!0,xs.prototype.featuresTimeupdateEvents=!0,xs.prototype.featuresVideoFrameCallback=!(!xs.TEST_VID||!xs.TEST_VID.requestVideoFrameCallback),xs.patchCanPlayType=function(){nn>=4&&!on&&!an&&(_s=xs.TEST_VID&&xs.TEST_VID.constructor.prototype.canPlayType,xs.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":_s.call(this,e)})},xs.unpatchCanPlayType=function(){var e=xs.TEST_VID.constructor.prototype.canPlayType;return _s&&(xs.TEST_VID.constructor.prototype.canPlayType=_s),e},xs.patchCanPlayType(),xs.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},xs.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){xs.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){xs.prototype["set"+Rr(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){xs.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){xs.prototype["set"+Rr(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){xs.prototype[e]=function(){return this.el_[e]()}})),Pi.withSourceHandlers(xs),xs.nativeSourceHandler={},xs.nativeSourceHandler.canPlayType=function(e){try{return xs.TEST_VID.canPlayType(e)}catch(e){return""}},xs.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return xs.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=vi(e.src);return xs.nativeSourceHandler.canPlayType("video/"+n)}return""},xs.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},xs.nativeSourceHandler.dispose=function(){},xs.registerSourceHandler(xs.nativeSourceHandler),Pi.registerTech("Html5",xs);var Cs=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ps={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Os=["tiny","xsmall","small","medium","large","xlarge","huge"],Is={};Os.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Is[e]="vjs-layout-"+t}));var As={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ns=function(e){function t(n,r,i){var o;if(n.id=n.id||r.id||"vjs_video_"+or(),(r=zt(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(An(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((o=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.boundUpdateStyleEl_=function(e){return o.updateStyleEl_(e)},o.boundApplyInitTime_=function(e){return o.applyInitTime_(e)},o.boundUpdateCurrentBreakpoint_=function(e){return o.updateCurrentBreakpoint_(e)},o.boundHandleTechClick_=function(e){return o.handleTechClick_(e)},o.boundHandleTechDoubleClick_=function(e){return o.handleTechDoubleClick_(e)},o.boundHandleTechTouchStart_=function(e){return o.handleTechTouchStart_(e)},o.boundHandleTechTouchMove_=function(e){return o.handleTechTouchMove_(e)},o.boundHandleTechTouchEnd_=function(e){return o.handleTechTouchEnd_(e)},o.boundHandleTechTap_=function(e){return o.handleTechTap_(e)},o.isFullscreen_=!1,o.log=Ht(o.id_),o.fsApi_=Lt,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,o.audioOnlyMode_=!1,o.audioPosterMode_=!1,o.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&An(n),o.language(o.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((function(e){u[e.toLowerCase()]=r.languages[e]})),o.languages_=u}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),Ar(c(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(pr(s(),o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var d=Mr(o.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){o[e](r.plugins[e])})),r.debug&&o.debug(!0),o.options_.playerOptions=d,o.middleware_=[],o.playbackRates(r.playbackRates),o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),pn&&o.addClass("vjs-touch-enabled"),mn||o.addClass("vjs-workinghover"),t.players[o.id_]=c(o);var p=Ot.split(".")[0];return o.addClass("vjs-v"+p),o.userActive(!0),o.reportUserActivity(),o.one("play",(function(e){return o.listenForUserActivity_(e)})),o.on("stageclick",(function(e){return o.handleStageClick_(e)})),o.on("keydown",(function(e){return o.handleKeyDown(e)})),o.on("languagechange",(function(e){return o.handleLanguagechange(e)})),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.on("ready",(function(){o.audioPosterMode(o.options_.audioPosterMode),o.audioOnlyMode(o.options_.audioOnlyMode)})),o}p(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),fr(s(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),fr(s(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ii[this.id()]=null,Ci.names.forEach((function(e){var t=Ci[e],r=n[t.getterName]();r&&r.off&&r.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:o||(t=this.el_=e.prototype.createEl.call(this,"div"));var a=An(n);if(o){for(t=this.el_=n,n=this.tag=s().createElement("video");t.children.length;)n.appendChild(t.firstChild);xn(t,"video-js")||Cn(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(e){}}))}if(n.setAttribute("tabindex","-1"),a.tabindex="-1",(un||an&&dn)&&(n.setAttribute("role","application"),a.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(e){o&&"class"===e||t.setAttribute(e,a[e]),o&&n.setAttribute(e,a[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==i().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=nr("vjs-styles-dimensions");var l=Xn(".vjs-styles-defaults"),u=Xn("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=n.getElementsByTagName("a"),d=0;d<c.length;d++){var p=c.item(d);Cn(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),kn(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Ft.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Ft.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){var t,n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,jr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},jr(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==i().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),rr(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var s="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(s>=0&&(l.width=s),a>=0&&(l.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=Rr(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Pi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var s={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ci.names.forEach((function(e){var t=Ci[e];s[t.getterName]=n[t.privateName]})),zt(s,this.options_[r]),zt(s,this.options_[i]),zt(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=Pi.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(br(this,this.handleTechReady_),!0),Jr(this.textTracksJson_||[],this.tech_),Cs.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+Rr(e)+"_"](t)}))})),Object.keys(Ps).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Ps[e]+"_"].bind(n),event:t}):n["handleTech"+Ps[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||kn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Ci.names.forEach((function(t){var n=Ci[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=Zr(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Ft.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(Yr(r))return r.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():r():Yr(n=this.play())&&(n=n.catch(r)),Yr(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return Hi(t)}(this,t)),this.cache_.source=Mr({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),s=[],a=0;a<o.length;a++){var l=An(o[a]);i.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Ft.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?$r(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=s()[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in Ri)return function(e,t,n,r){return t[n](e.reduce(Ui(n),r))}(this.middleware_,this.tech_,e,t);if(e in Mi)return Li(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Ft(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Di)return function(e,t,n){return e.reduceRight(Ui(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Mi)return Li(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Ft("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Ft("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Ft(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||i().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=$r),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!gn&&!mn||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||zr(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=zr(0,0)),e},n.bufferedPercent=function(){return Gr(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||i().Promise;if(t){var n=this;return new t((function(t,r){function i(){n.off("fullscreenerror",s),n.off("fullscreenchange",o)}function o(){i(),t()}function s(e,t){i(),r(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",s);var a=n.requestFullscreenHelper_(e);a&&(a.then(i,i),a.then(t,r))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||i().Promise;if(e){var t=this;return new e((function(e,n){function r(){t.off("fullscreenerror",o),t.off("fullscreenchange",i)}function i(){r(),e()}function o(e,t){r(),n(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",o);var s=t.exitFullscreenHelper_();s&&(s.then(r,r),s.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=s()[this.fsApi_.exitFullscreen]();return t&&$r(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=s().documentElement.style.overflow,pr(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow="hidden",Cn(s().body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){u().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,fr(s(),"keydown",this.boundFullWindowOnEscKey_),s().documentElement.style.overflow=this.docOrigOverflow,Pn(s().body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in s()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in s())return s().exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return u().isEventKey(e,"f")}:n,i=t.muteKey,o=void 0===i?function(e){return u().isEventKey(e,"m")}:i,a=t.playPauseKey,l=void 0===a?function(e){return u().isEventKey(e,"k")||u().isEventKey(e,"Space")}:a;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var c=qr.getComponent("FullscreenToggle");!1!==s()[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),qr.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(l.call(this,e)){e.preventDefault(),e.stopPropagation(),qr.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=Pi.getTech(i);if(o||(o=qr.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Ft.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n,r=this,i=this.options_.techOrder.map((function(e){return[e,Pi.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Ft.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},s=function(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return t=this.options_.sourceOrder?o(e,i,(n=s,function(e,t){return n(t,e)})):o(i,e,s),t||!1},n.handleSrc_=function(e,t){var n=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var r=qi(e);if(r.length){if(this.changingSrc_=!0,t||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Ni(this,r[0],(function(e,i){var o,s;if(n.middleware_=i,t||(n.cache_.sources=r),n.updateSourceCaches_(e),n.src_(e))return r.length>1?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());o=i,s=n.tech_,o.forEach((function(e){return e.setTech&&e.setTech(s)}))})),this.options_.retryOnError&&r.length>1){var i=function(){n.error(null),n.handleSrc_(r.slice(1),!0)},o=function(){n.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=function(){n.off("error",i),n.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,Rr(t)!==Rr(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||i().Promise;this.paused()||!t?this.doReset_():$r(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),jr(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(At("beforeerror").forEach((function(n){var r=n(t,e);Gt(r)&&!Array.isArray(r)||"string"==typeof r||"number"==typeof r||null===r?e=r:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Kr(e),this.addClass("vjs-error"),Ft.error("(CODE:"+this.error_.code+" "+Kr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),At("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=br(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var o,s=this.getChild("controlBar");!s||mn||tn||(s.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),s.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||i().Promise;if(n){if(e){var r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),n.all(r).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||i().Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),jr(this)&&this.trigger("languagechange"))},n.languages=function(){return Mr(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Mr(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=Mr(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new ei(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Os.length;n++){var r=Os[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(Is[e]),this.addClass(Is[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=zt({},As,e),this.updateCurrentBreakpoint_()),zt(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Is[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Mr(e);var r=this.cache_.media,i=r.artwork,o=r.poster,s=r.src,a=r.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:Hi(o)}]),s&&this.src(s),o&&this.poster(o),Array.isArray(a)&&a.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Hi(t.poster)}]),t}return Mr(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=An(e),r=n["data-setup"];if(xn(e,"vjs-fill")&&(n.fill=!0),xn(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=h()(r||"{}"),o=i[0],s=i[1];o&&Ft.error(o),zt(n,s)}if(zt(t,n),e.hasChildNodes())for(var a=e.childNodes,l=0,u=a.length;l<u;l++){var c=a[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(An(c)):"track"===d&&t.tracks.push(An(c))}return t},n.flexNotSupported_=function(){var e=s().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(qr);Ci.names.forEach((function(e){var t=Ci[e];Ns.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Ns.prototype.crossorigin=Ns.prototype.crossOrigin,Ns.players={};var Ls=i().navigator;Ns.prototype.options_={techOrder:Pi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ls&&(Ls.languages&&Ls.languages[0]||Ls.userLanguage||Ls.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Ns.prototype[e]=function(){return this.techGet_(e)}})),Cs.forEach((function(e){Ns.prototype["handleTech"+Rr(e)+"_"]=function(){return this.trigger(e)}})),qr.registerComponent("Player",Ns);var Ds="plugin",Rs={},Ms=function(e){return Rs.hasOwnProperty(e)},Us=function(e){return Ms(e)?Rs[e]:void 0},Bs=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Fs=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Hs=function(e,t){return t.prototype.name=e,function(){Fs(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=b(t,[this].concat(r));return this[e]=function(){return o},Fs(this,o.getEventHash()),o}},qs=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Ar(this),delete this.trigger,Lr(this,this.constructor.defaultState),Bs(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),hr(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Hs(e,Rs[e])},e.isBasic=function(t){var n="string"==typeof t?Us(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Ms(t))Ft.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ns.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Rs[t]=n,t!==Ds&&(e.isBasic(n)?Ns.prototype[t]=function(e,t){var n=function(){Fs(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Bs(this,e),Fs(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Ns.prototype[t]=Hs(t,n)),n},e.deregisterPlugin=function(e){if(e===Ds)throw new Error("Cannot de-register base plugin.");Ms(e)&&(delete Rs[e],delete Ns.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Rs)),e.forEach((function(e){var n=Us(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Us(e);return t&&t.VERSION||""},e}();qs.getPlugin=Us,qs.BASE_PLUGIN_NAME=Ds,qs.registerPlugin(Ds,qs),Ns.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Ns.prototype.hasPlugin=function(e){return!!Ms(e)};var Vs=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Ws(e,t,n){var r=Ws.getPlayer(e);if(r)return t&&Ft.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?Xn("#"+Vs(e)):e;if(!Tn(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||Ft.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),At("beforesetup").forEach((function(e){var n=e(i,Mr(t));Gt(n)&&!Array.isArray(n)?t=Mr(t,n):Ft.error("please return an object in beforesetup hooks")}));var o=qr.getComponent("Player");return r=new o(i,t,n),At("setup").forEach((function(e){return e(r)})),r}if(Ws.hooks_=It,Ws.hooks=At,Ws.hook=function(e,t){At(e,t)},Ws.hookOnce=function(e,t){At(e,[].concat(t).map((function(t){return function n(){return Nt(e,n),t.apply(void 0,arguments)}})))},Ws.removeHook=Nt,!0!==i().VIDEOJS_NO_DYNAMIC_STYLE&&bn()){var zs=Xn(".vjs-styles-defaults");if(!zs){zs=nr("vjs-styles-defaults");var Gs=Xn("head");Gs&&Gs.insertBefore(zs,Gs.firstChild),rr(zs,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Jn(1,Ws),Ws.VERSION=Ot,Ws.options=Ns.prototype.options_,Ws.getPlayers=function(){return Ns.players},Ws.getPlayer=function(e){var t,n=Ns.players;if("string"==typeof e){var r=Vs(e),i=n[r];if(i)return i;t=Xn("#"+r)}else t=e;if(Tn(t)){var o=t,s=o.player,a=o.playerId;if(s||n[a])return s||n[a]}},Ws.getAllPlayers=function(){return Object.keys(Ns.players).map((function(e){return Ns.players[e]})).filter(Boolean)},Ws.players=Ns.players,Ws.getComponent=qr.getComponent,Ws.registerComponent=function(e,t){Pi.isTech(t)&&Ft.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),qr.registerComponent.call(qr,e,t)},Ws.getTech=Pi.getTech,Ws.registerTech=Pi.registerTech,Ws.use=function(e,t){Oi[e]=Oi[e]||[],Oi[e].push(t)},Object.defineProperty(Ws,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ws.middleware,"TERMINATOR",{value:Ai,writeable:!1,enumerable:!0}),Ws.browser=vn,Ws.TOUCH_ENABLED=pn,Ws.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e),e&&(n.super_=e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Ws.mergeOptions=Mr,Ws.bind=br,Ws.registerPlugin=qs.registerPlugin,Ws.deregisterPlugin=qs.deregisterPlugin,Ws.plugin=function(e,t){return Ft.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),qs.registerPlugin(e,t)},Ws.getPlugins=qs.getPlugins,Ws.getPlugin=qs.getPlugin,Ws.getPluginVersion=qs.getPluginVersion,Ws.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Ws.options.languages=Mr(Ws.options.languages,((n={})[e]=t,n)),Ws.options.languages[e]},Ws.log=Ft,Ws.createLogger=Ht,Ws.createTimeRange=Ws.createTimeRanges=zr,Ws.formatTime=io,Ws.setFormatTime=function(e){ro=e},Ws.resetFormatTime=function(){ro=no},Ws.parseUrl=mi,Ws.isCrossOrigin=yi,Ws.EventTarget=Er,Ws.on=pr,Ws.one=mr,Ws.off=fr,Ws.trigger=hr,Ws.xhr=g(),Ws.TextTrack=Ei,Ws.AudioTrack=wi,Ws.VideoTrack=ji,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Ws[e]=function(){return Ft.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),$n[e].apply(null,arguments)}})),Ws.computedStyle=Xt,Ws.dom=$n,Ws.url=_i,Ws.defineLazyProperty=ks,Ws.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Ks=j,Xs=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Ys=function(e){return Ws.log.debug?Ws.log.debug.bind(Ws,"VHS:",e+" >"):function(){}},$s=1/30,Qs=.1,Zs=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return Ws.createTimeRanges(r)},Js=function(e,t){return Zs(e,(function(e,n){return e-Qs<=t&&n+Qs>=t}))},ea=function(e,t){return Zs(e,(function(e){return e-$s>=t}))},ta=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},na=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},ra=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},ia=function(e,t){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var i=e.start(r),o=e.end(r);t>o||(n+=t>i&&t<=o?o-t:o-i)}return n},oa=Ws.createTimeRange,sa=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},aa=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(r,i){e.push({duration:r.duration,segmentIndex:n,partIndex:i,part:r,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},la=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},ua=function(e){var t=e.preloadSegment;if(t){var n=t.parts,r=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return r+=n&&n.length?n.length:0}},ca=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=la(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},da=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(void 0!==(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=sa(e,i),void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=sa(e,n),void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},pa=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i()[1/0]}return da(e,t,n)},fa=function(e){var t=e.defaultDuration,n=e.durationList,r=e.startIndex,i=e.endIndex,o=0;if(r>i){var s=[i,r];r=s[0],i=s[1]}if(r<0){for(var a=r;a<Math.min(0,i);a++)o+=t;r=0}for(var l=r;l<i;l++)o+=n[l].duration;return o},ha=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return pa(e);if(null===t)return null;t=t||0;var i=da(e,e.mediaSequence+e.segments.length,t);return n&&(i-=r="number"==typeof r?r:ca(null,e)),Math.max(0,i)},ma=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ga=function(e){return e.excludeUntil&&e.excludeUntil===1/0},va=function(e){var t=ma(e);return!e.disabled&&!t},ya=function(e,t){return t.attributes&&t.attributes[e]},_a=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!va(e)&&(e.attributes.BANDWIDTH||0)<n})).length},ba=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))},Ta=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var i in n){for(var o in n[i])if(r=t(n[i][o]))break;if(r)break}return!!r},Ea=function(e){if(!e||!e.playlists||!e.playlists.length)return Ta(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],r=n.attributes&&n.attributes.CODECS;return r&&r.split(",").every((function(e){return V(e)}))||Ta(e,(function(e){return ba(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var r=t(n);if("continue"!==r&&"object"==typeof r)return r.v}return!0},wa={liveEdgeDelay:ca,duration:pa,seekable:function(e,t,n){var r=t||0,i=ha(e,t,!0,n);return null===i?oa():oa(r,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,i=e.startingPartIndex,o=e.startTime,s=e.experimentalExactManifestTimings,a=n-o,l=aa(t),u=0,c=0;c<l.length;c++){var d=l[c];if(r===d.segmentIndex&&("number"!=typeof i||"number"!=typeof d.partIndex||i===d.partIndex)){u=c;break}}if(a<0){if(u>0)for(var p=u-1;p>=0;p--){var f=l[p];if(a+=f.duration,s){if(a<0)continue}else if(a+$s<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:o-fa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:p})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(u<0){for(var h=u;h<0;h++)if((a-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};u=0}for(var m=u;m<l.length;m++){var g=l[m];if(a-=g.duration,s){if(a>0)continue}else if(a-$s>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:o+fa({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:va,isDisabled:function(e){return e.disabled},isBlacklisted:ma,isIncompatible:ga,playlistEnd:ha,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:ya,estimateSegmentRequestTime:function(e,t,n,r){return void 0===r&&(r=0),ya("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:_a,isAudioOnly:Ea,playlistMatch:ba,segmentDurationWithParts:sa},ja=Ws.log,Sa=function(e,t){return e+"-"+t},ka=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var o=e.mediaGroups[n][r][i];t(o,n,r,i)}}))},xa=function(e){var t=e.playlist,n=e.uri,r=e.id;t.id=r,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Ca=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}var i=Ea(e);ka(e,(function(t,n,r,o){var s="placeholder-uri-"+n+"-"+r+"-"+o;if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===n&&!t.uri)for(var l=0;l<e.playlists.length;l++){var u=e.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===r)return}t.playlists=[(0,a.Z)({},t)]}t.playlists.forEach((function(t,n){var r=Sa(n,s);t.uri?t.resolvedUri=t.resolvedUri||Ks(e.uri,t.uri):(t.uri=0===n?s:r,t.resolvedUri=t.uri),t.id=t.id||r,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];xa({playlist:n,id:Sa(t,n.uri)}),n.resolvedUri=Ks(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||ja.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){ka(e,(function(t){t.uri&&(t.resolvedUri=Ks(e.uri,t.uri))}))}(e)},Pa=Ws.mergeOptions,Oa=Ws.EventTarget,Ia=function(e,t){if(!e)return t;var n=Pa(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var r=0;r<t.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=Pa(e.parts[r],t.parts[r]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},Aa=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Ks(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Ks(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Ks(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Ks(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=Ks(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=Ks(t,e.uri))}))},Na=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var r=0;r<n.preloadHints.length;r++)if("MAP"===n.preloadHints[r].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},La=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},Da=function(e,t,n){void 0===n&&(n=La);var r=Pa(e,{}),i=r.playlists[t.id];if(!i)return null;if(n(i,t))return null;t.segments=Na(t);var o=Pa(i,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(var s=0;s<t.skip.skippedSegments;s++)t.segments.unshift({skipped:!0})}o.segments=function(e,t,n){var r=e.slice(),i=t.slice();n=n||0;for(var o,s=[],a=0;a<i.length;a++){var l=r[a+n],u=i[a];l?(o=l.map||o,s.push(Ia(l,u))):(o&&!u.map&&(u.map=o),s.push(u))}return s}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}o.segments.forEach((function(e){Aa(e,o.resolvedUri)}));for(var a=0;a<r.playlists.length;a++)r.playlists[a].id===t.id&&(r.playlists[a]=o);return r.playlists[t.id]=o,r.playlists[t.uri]=o,ka(e,(function(e,n,r,i){if(e.playlists)for(var s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=o)})),r},Ra=function(e,t){var n=e.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],o=i&&i.duration||r&&r.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},Ma=function(e){function t(t,n,r){var i;if(void 0===r&&(r={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");i.logger_=Ys("PlaylistLoader");var o=r,s=o.withCredentials,a=void 0!==s&&s,l=o.handleManifestRedirects,u=void 0!==l&&l;i.src=t,i.vhs_=n,i.withCredentials=a,i.handleManifestRedirects=u;var d=n.options_;return i.customTagParsers=d&&d.customTagParsers||[],i.customTagMappers=d&&d.customTagMappers||[],i.experimentalLLHLS=d&&d.experimentalLLHLS||!1,Ws.browser.IE_VERSION&&(i.experimentalLLHLS=!1),i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind(c(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}p(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=Ks(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var r=t.preloadSegment,o=t.mediaSequence+t.segments.length;if(r){var s=r.parts||[],a=ua(t)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&o--}n._HLS_msn=o}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new(i().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&l.searchParams.set(e,n[e])})),e=l.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,r=e.manifestString,i=e.customTagParsers,o=void 0===i?[]:i,s=e.customTagMappers,a=void 0===s?[]:s,l=e.experimentalLLHLS,u=new M;t&&u.on("warn",t),n&&u.on("info",n),o.forEach((function(e){return u.addParser(e)})),a.forEach((function(e){return u.addTagMapper(e)})),u.push(r),u.end();var c=u.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){c.hasOwnProperty(e)&&delete c[e]})),c.segments&&c.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!c.targetDuration){var d=10;c.segments&&c.segments.length&&(d=c.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),c.targetDuration=d}var p=la(c);if(p.length&&!c.partTargetDuration){var f=p.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+f),ja.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=f}return c}({onwarn:function(e){var r=e.message;return t.logger_("m3u8-parser warn for "+n+": "+r)},oninfo:function(e){var r=e.message;return t.logger_("m3u8-parser info for "+n+": "+r)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,r=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var o=n||this.parseManifest_({url:r,manifestString:t});o.lastRequest=Date.now(),xa({playlist:o,uri:r,id:i});var s=Da(this.master,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ra(this.media(),!!s)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),i().clearTimeout(this.mediaUpdateTimeout),i().clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(i().clearTimeout(this.finalRenditionTimeout),t){var r=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=i().setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,s=!this.media_||e.id!==this.media_.id,a=this.master.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(s&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Ra(e,!0)),s){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=Xs(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,o);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=i().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=i().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=i().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Xs(e.handleManifestRedirects,e.src,n);var r=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(r)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Ca(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=Na(e),e.segments.forEach((function(t){Aa(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||i().location.href;this.master=function(e,t){var n=Sa(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:i().location.href,resolvedUri:i().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Oa),Ua=Ws.xhr,Ba=Ws.mergeOptions,Fa=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},Ha=function(){var e=function e(t,n){t=Ba({timeout:45e3},t);var r=e.beforeRequest||Ws.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(t);i&&(t=i)}var o=(!0===Ws.Vhs.xhr.original?Ua:Ws.Vhs.xhr)(t,(function(e,t){return Fa(o,e,t,n)})),s=o.abort;return o.abort=function(){return o.aborted=!0,s.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e.original=!0,e},qa=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?i().BigInt(t.offset)+i().BigInt(t.length)-i().BigInt(1):t.offset+t.length-1)),n},Va=function(e,t){return e.start(t)+"-"+e.end(t)},Wa=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},za=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Ga=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];Q(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},Ka=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Xa=function(e){return e.resolvedUri},Ya=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=0;i<t.length/n;i++)r+=t.slice(i*n,i*n+n).map(Wa).join("")+" "+t.slice(i*n,i*n+n).map(za).join("")+"\n";return r},$a=Object.freeze({__proto__:null,createTransferableMessage:Ga,initSegmentId:Ka,segmentKeyId:Xa,hexDump:Ya,tagDump:function(e){var t=e.bytes;return Ya(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=Va(e,t)+" ";return n}}),Qa=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var s={mediaSeconds:r},a=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,o.segment);return a&&(s.programDateTime=a.toISOString()),i(null,s)},Za=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,o=void 0===i?2:i,s=t.seekTo,a=t.pauseAfterSeek,l=void 0===a||a,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var o,s=t.segments[t.segments.length-1],a=s.dateTimeObject,l=s.videoTimingInfo?(o=s.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:s.duration+.25*s.duration;return n>new Date(a.getTime()+1e3*l)?null:(n>a&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:wa.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!d)return c({message:n+" was not found in the stream"});var p=d.segment,f=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(e){}var i=n.getTime();return(r.getTime()-i)/1e3}(p.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(s(d.estimatedStart+f),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:o-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})})));var h=p.start+f;u.one("seeked",(function(){return c(null,u.currentTime())})),l&&u.pause(),s(h)},Ja=function(e,t){if(4===e.readyState)return t()},el=function(e,t,n){var r,i=[],o=!1,s=function(e,t,r,i){return t.abort(),o=!0,n(e,t,r,i)},a=function(e,t){if(!o){if(e)return s(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return Z(t[0]);var r=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){e=Z(e),i.set(e,o),o+=e.byteLength})),i}(i,re(n,!0)),r=r||lt(i),i.length<10||r&&i.length<r+2)return Ja(t,(function(){return s(e,t,"",i)}));var a=Ct(i);return"ts"===a&&i.length<188||!a&&i.length<376?Ja(t,(function(){return s(e,t,"",i)})):s(null,t,a,i)}},l={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Fa(e,null,{statusCode:e.status},a)}))}},u=t(l,(function(e,t){return Fa(u,e,t,a)}));return u},tl=Ws.EventTarget,nl=Ws.mergeOptions,rl=function(e,t){if(!La(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(r.byterange||i.byterange){var o=r.byterange,s=i.byterange;if(o&&!s||!o&&s)return!1;if(o.offset!==s.offset||o.length!==s.length)return!1}}return!0},il=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},ol=function(e,t){var n={};for(var r in e){var i=e[r].sidx;if(i){var o=Pe(i);if(!t[o])break;var s=t[o].sidxInfo;il(s,i)&&(n[o]=t[o])}}return n},sl=function(e){function t(t,n,r,i){var o;void 0===r&&(r={}),(o=e.call(this)||this).masterPlaylistLoader_=i||c(o),i||(o.isMaster_=!0);var s=r,a=s.withCredentials,l=void 0!==a&&a,u=s.handleManifestRedirects,d=void 0!==u&&u;if(o.vhs_=n,o.withCredentials=l,o.handleManifestRedirects=d,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Ys("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=t,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=t,o}p(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var r=this,o=e.sidx&&Pe(e.sidx);if(e.sidx&&o&&!this.masterPlaylistLoader_.sidxMapping_[o]){var s=Xs(this.handleManifestRedirects,e.sidx.resolvedUri),a=function(i,s){if(!r.requestErrored_(i,s,t)){var a,l=r.masterPlaylistLoader_.sidxMapping_;try{a=st()(Z(s.response).subarray(8))}catch(e){return void r.requestErrored_(e,s,t)}return l[o]={sidxInfo:e.sidx,sidx:a},we(e,a,e.sidx.resolvedUri),n(!0)}};this.request=el(s,this.vhs_.xhr,(function(t,n,i,o){if(t)return a(t,n);if(!i||"mp4"!==i)return a({status:n.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+s,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,u=l.offset,c=l.length;if(o.length>=c+u)return a(t,{response:o.subarray(u,u+c),status:n.status,uri:n.uri});r.request=r.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:qa({byterange:e.sidx.byterange})},a)}))}else this.mediaRequest_=i().setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},i().clearTimeout(this.minimumUpdatePeriodTimeout_),i().clearTimeout(this.mediaRequest_),i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(r){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(i().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=i().setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=i().setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,r){if(!t.requestErrored_(n,r)){var i=r.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Xs(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,r),i?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(r,i)}))):e(r,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t=this,n=it(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Ks(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,r,i,o,s,a=this.masterPlaylistLoader_.master,l=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:a},t=e.masterXml,n=e.srcUrl,r=e.clientOffset,i=e.sidxMapping,o=e.previousManifest,s=rt(t,{manifestUri:n,clientOffset:r,sidxMapping:i,previousManifest:o}),Ca(s,n),s);a&&(l=function(e,t,n){for(var r=!0,i=nl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),o=0;o<t.playlists.length;o++){var s=t.playlists[o];if(s.sidx){var a=Pe(s.sidx);n&&n[a]&&n[a].sidx&&we(s,n[a].sidx,s.sidx.resolvedUri)}var l=Da(i,s,rl);l&&(i=l,r=!1)}return ka(t,(function(e,t,n,o){if(e.playlists&&e.playlists.length){var s=e.playlists[0].id,a=Da(i,e.playlists[0],rl);a&&((i=a).mediaGroups[t][n][o].playlists[0]=i.playlists[s],r=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i}(a,l,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=l||a;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!a||l&&l.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(l)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(i().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=i().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var r,i,o;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(r=e.masterPlaylistLoader_.master,i=e.masterPlaylistLoader_.sidxMapping_,o=ol(r.playlists,i),ka(r,(function(e,t,n,r){if(e.playlists&&e.playlists.length){var s=e.playlists;o=nl(o,ol(s,i))}})),o),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=i().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Ra(t.media(),Boolean(r))))}()}this.trigger("loadedplaylist")},t}(tl),al={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ll=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},ul=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=ll(new Worker(t));n.objURL=t;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},cl=function(e){return"var browserWorkerPolyFill = "+ll.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},dl=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},pl=cl(dl((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,i,o,s,a,l,u,c,d,p,f,h,m,g,v,y,_,b,T,E,w,j,S,k,x,C,P,O,I,A,N,L,D,R,M,U,B,F,H,q=e,V=Math.pow(2,32),W={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*V+n.getUint32(4)},MAX_UINT32:V},z=W.MAX_UINT32;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);j=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:x,audio:C},A=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),L=N,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=N,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},r=function(){return t(w.dinf,t(w.dref,A))},i=function(e){return t(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(w.hdlr,P[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(w.mdhd,n)},h=function(e){return t(w.mdia,m(e),g(e.type),a(e))},s=function(e){return t(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return t(w.minf,"video"===e.type?t(w.vmhd,O):t(w.smhd,I),r(),y(e))},l=function(e,n){for(var r=[],i=n.length;i--;)r[i]=b(n[i]);return t.apply(null,[w.moof,s(e)].concat(r))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=p(e[n]);return t.apply(null,[w.moov,d(4294967295)].concat(r).concat(c(e)))},c=function(e){for(var n=e.length,r=[];n--;)r[n]=T(e[n]);return t.apply(null,[w.mvex].concat(r))},d=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(w.mvhd,n)},v=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(w.sdtp,o)},y=function(e){return t(w.stbl,_(e),t(w.stts,R),t(w.stsc,L),t(w.stsz,D),t(w.stco,N))},_=function(e){return t(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):U(e))},M=function(e){var n,r,i=e.sps||[],o=e.pps||[],s=[],a=[];for(n=0;n<i.length;n++)s.push((65280&i[n].byteLength)>>>8),s.push(255&i[n].byteLength),s=s.concat(Array.prototype.slice.call(i[n]));for(n=0;n<o.length;n++)a.push((65280&o[n].byteLength)>>>8),a.push(255&o[n].byteLength),a=a.concat(Array.prototype.slice.call(o[n]));if(r=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(w.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],s,[o.length],a))),t(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(t(w.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},U=function(e){return t(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},f=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(w.tkhd,n)},b=function(e){var n,r,i,o,s,a;return n=t(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/z),a=Math.floor(e.baseMediaDecodeTime%z),r=t(w.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(i=E(e,92),t(w.traf,n,r,i)):(o=v(e),i=E(e,o.length+92),t(w.traf,n,r,i,o))},p=function(e){return e.duration=e.duration||4294967295,t(w.trak,f(e),h(e))},T=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(w.trex,n)},H=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},F=function(e,n){var r,i,o,s,a,l;for(n+=20+16*(s=e.samples||[]).length,o=H(s,n),(i=new Uint8Array(o.length+16*s.length)).set(o),r=o.length,l=0;l<s.length;l++)a=s[l],i[r++]=(4278190080&a.duration)>>>24,i[r++]=(16711680&a.duration)>>>16,i[r++]=(65280&a.duration)>>>8,i[r++]=255&a.duration,i[r++]=(4278190080&a.size)>>>24,i[r++]=(16711680&a.size)>>>16,i[r++]=(65280&a.size)>>>8,i[r++]=255&a.size,i[r++]=a.flags.isLeading<<2|a.flags.dependsOn,i[r++]=a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,i[r++]=61440&a.flags.degradationPriority,i[r++]=15&a.flags.degradationPriority,i[r++]=(4278190080&a.compositionTimeOffset)>>>24,i[r++]=(16711680&a.compositionTimeOffset)>>>16,i[r++]=(65280&a.compositionTimeOffset)>>>8,i[r++]=255&a.compositionTimeOffset;return t(w.trun,i)},B=function(e,n){var r,i,o,s,a,l;for(n+=20+8*(s=e.samples||[]).length,o=H(s,n),(r=new Uint8Array(o.length+8*s.length)).set(o),i=o.length,l=0;l<s.length;l++)a=s[l],r[i++]=(4278190080&a.duration)>>>24,r[i++]=(16711680&a.duration)>>>16,r[i++]=(65280&a.duration)>>>8,r[i++]=255&a.duration,r[i++]=(4278190080&a.size)>>>24,r[i++]=(16711680&a.size)>>>16,r[i++]=(65280&a.size)>>>8,r[i++]=255&a.size;return t(w.trun,r)},E=function(e,t){return"audio"===e.type?B(e,t):F(e,t)};o=function(){return t(w.ftyp,j,S,j,k)};var G,K,X,Y,$,Q,Z,J,ee=function(e){return t(w.mdat,e)},te=l,ne=function(e){var t,n=o(),r=u(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},re=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ie=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},oe=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},se=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ae=function(e,t){var n,r,i,o,s,a=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)s=o[r],a+=(i=re(s,a)).size,l.push(i);return l},le=function(e){var t,n,r,i,o,s,a=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)s=o[r],d.setUint32(a,s.data.byteLength),a+=4,c.set(s.data,a),a+=s.data.byteLength;return c},ue=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],de=function(e){for(var t=[];e--;)t.push(0);return t},pe=function(){if(!G){var e={96e3:[ue,[227,64],de(154),[56]],88200:[ue,[231],de(170),[56]],64e3:[ue,[248,192],de(240),[56]],48e3:[ue,[255,192],de(268),[55,148,128],de(54),[112]],44100:[ue,[255,192],de(268),[55,163,128],de(84),[112]],32e3:[ue,[255,192],de(268),[55,234],de(226),[112]],24e3:[ue,[255,192],de(268),[55,255,128],de(268),[111,112],de(126),[224]],16e3:[ue,[255,192],de(268),[55,255,128],de(268),[111,255],de(269),[223,108],de(195),[1,192]],12e3:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,253,128],de(259),[56]],11025:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,255,192],de(268),[55,175,128],de(108),[112]],8e3:[ce,de(268),[3,121,16],de(47),[7]]};t=e,G=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return G},fe=9e4;Q=function(e,t){return K($(e,t))},Z=function(e,t){return X(Y(e),t)},J=function(e,t,n){return Y(n?e:e-t)};var he=fe,me=K=function(e){return e*fe},ge=(X=function(e,t){return e*t},Y=function(e){return e/fe}),ve=($=function(e,t){return e/t},Q),ye=Z,_e=J,be=function(e,t,n,r){var i,o,s,a,l,u=0,c=0,d=0;if(t.length&&(i=ve(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(he/(e.samplerate/1024)),n&&r&&(u=i-Math.max(n,r),d=(c=Math.floor(u/o))*o),!(c<1||d>he/2))){for((s=pe()[e.samplerate])||(s=t[0].data),a=0;a<c;a++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(ye(d,e.samplerate)),d}},Te=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},Ee=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},we=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},je=he,Se=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},ke=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/je,n=Math.floor(n)),n},xe=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ce=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n},Pe=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Oe=function(e,t){var n,r,i,o,s=[];if(!(64&t[0]))return s;for(r=31&t[0],n=0;n<r;n++)o={type:3&t[(i=3*n)+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],s.push(o));return s},Ie=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===i[0]&&(s++,i.shift()),n[o]=e[s];return n},Ae=4,Ne=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ve(0,0),new Ve(0,1),new Ve(1,0),new Ve(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ue({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(Ne.prototype=new q).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=Ce(e.escapedRBSP)).payload&&t.payloadType===Ae&&(n=Pe(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=Oe(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ne.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Ne.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Ne.prototype.flush=function(){return this.flushStream("flush")},Ne.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ne.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Ne.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ne.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ne.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Ne.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Ne.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Le={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},De=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Re=function(e){this.windowNum=e,this.reset()};Re.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Re.prototype.getText=function(){return this.rows.join("\n")},Re.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Re.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Re.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Re.prototype.addText=function(e){this.rows[this.rowIdx]+=e},Re.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Me=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new Re(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};Me.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new Re(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},Me.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},Me.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Ue=function e(t){t=t||{},e.prototype.init.call(this);var n,r=this,i=t.captionServices||{},o={};Object.keys(i).forEach((function(e){n=i[e],/^SERVICE/.test(e)&&(o[e]=n.encoding)})),this.serviceEncodings=o,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(r.new708Packet(),r.add708Bytes(e)):(null===r.current708Packet&&r.new708Packet(),r.add708Bytes(e))}};Ue.prototype=new q,Ue.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ue.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(r)},Ue.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,r=null,i=0,o=t[i++];for(e.seq=o>>6,e.sizeCode=63&o;i<t.length;i++)r=31&(o=t[i++]),7===(n=o>>5)&&r>0&&(n=o=t[i++]),this.pushServiceBlock(n,i,r),r>0&&(i+=r-1)},Ue.prototype.pushServiceBlock=function(e,t,n){var r,i=t,o=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,i));i<t+n&&i<o.length;i++)r=o[i],De(r)?i=this.handleText(i,s):24===r?i=this.multiByteCharacter(i,s):16===r?i=this.extendedCommands(i,s):128<=r&&r<=135?i=this.setCurrentWindow(i,s):152<=r&&r<=159?i=this.defineWindow(i,s):136===r?i=this.clearWindows(i,s):140===r?i=this.deleteWindows(i,s):137===r?i=this.displayWindows(i,s):138===r?i=this.hideWindows(i,s):139===r?i=this.toggleWindows(i,s):151===r?i=this.setWindowAttributes(i,s):144===r?i=this.setPenAttributes(i,s):145===r?i=this.setPenColor(i,s):146===r?i=this.setPenLocation(i,s):143===r?s=this.reset(i,s):8===r?s.currentWindow.backspace():12===r?s.currentWindow.clearText():13===r?s.currentWindow.pendingNewLine=!0:14===r?s.currentWindow.clearText():141===r&&i++},Ue.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return De(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Ue.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Ue.prototype.initService=function(e,t){var n,r,i=this;return(n="SERVICE"+e)in this.serviceEncodings&&(r=this.serviceEncodings[n]),this.services[e]=new Me(e,r,i),this.services[e].init(this.getPts(t),(function(t){i.flushDisplayed(t,i.services[e])})),this.services[e]},Ue.prototype.handleText=function(e,t,n){var r,i,o,s,a=n&&n.isExtended,l=n&&n.isMultiByte,u=this.current708Packet.data,c=a?4096:0,d=u[e],p=u[e+1],f=t.currentWindow;return t.textDecoder_&&!a?(l?(i=[d,p],e++):i=[d],r=t.textDecoder_.decode(new Uint8Array(i))):(s=Le[o=c|d]||o,r=4096&o&&o===s?"":String.fromCharCode(s)),f.pendingNewLine&&!f.isEmpty()&&f.newLine(this.getPts(e)),f.pendingNewLine=!1,f.addText(r),e},Ue.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,r=n[e+1],i=n[e+2];return De(r)&&De(i)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Ue.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Ue.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,r=n[e],i=7&r;t.setCurrentWindow(i);var o=t.currentWindow;return r=n[++e],o.visible=(32&r)>>5,o.rowLock=(16&r)>>4,o.columnLock=(8&r)>>3,o.priority=7&r,r=n[++e],o.relativePositioning=(128&r)>>7,o.anchorVertical=127&r,r=n[++e],o.anchorHorizontal=r,r=n[++e],o.anchorPoint=(240&r)>>4,o.rowCount=15&r,r=n[++e],o.columnCount=63&r,r=n[++e],o.windowStyle=(56&r)>>3,o.penStyle=7&r,o.virtualRowCount=o.rowCount+1,e},Ue.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.winAttr;return r=n[++e],i.fillOpacity=(192&r)>>6,i.fillRed=(48&r)>>4,i.fillGreen=(12&r)>>2,i.fillBlue=3&r,r=n[++e],i.borderType=(192&r)>>6,i.borderRed=(48&r)>>4,i.borderGreen=(12&r)>>2,i.borderBlue=3&r,r=n[++e],i.borderType+=(128&r)>>5,i.wordWrap=(64&r)>>6,i.printDirection=(48&r)>>4,i.scrollDirection=(12&r)>>2,i.justify=3&r,r=n[++e],i.effectSpeed=(240&r)>>4,i.effectDirection=(12&r)>>2,i.displayEffect=3&r,e},Ue.prototype.flushDisplayed=function(e,t){for(var n=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&n.push(t.windows[r].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Ue.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Ue.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},Ue.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=0);return e},Ue.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible^=1);return e},Ue.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},Ue.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].reset();return e},Ue.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penAttr;return r=n[++e],i.textTag=(240&r)>>4,i.offset=(12&r)>>2,i.penSize=3&r,r=n[++e],i.italics=(128&r)>>7,i.underline=(64&r)>>6,i.edgeType=(56&r)>>3,i.fontStyle=7&r,e},Ue.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penColor;return r=n[++e],i.fgOpacity=(192&r)>>6,i.fgRed=(48&r)>>4,i.fgGreen=(12&r)>>2,i.fgBlue=3&r,r=n[++e],i.bgOpacity=(192&r)>>6,i.bgRed=(48&r)>>4,i.bgGreen=(12&r)>>2,i.bgBlue=3&r,r=n[++e],i.edgeRed=(48&r)>>4,i.edgeGreen=(12&r)>>2,i.edgeBlue=3&r,e},Ue.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=n[++e],i.row=15&r,r=n[++e],i.column=63&r,e},Ue.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var Be={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Fe=function(e){return null===e?"":(e=Be[e]||e,String.fromCharCode(e))},He=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],qe=function(){for(var e=[],t=15;t--;)e.push("");return e},Ve=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=qe();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=qe();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=qe()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))o=Fe((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Fe((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var s=He.indexOf(7968&t);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=Fe(r),o+=Fe(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ve.prototype=new q,Ve.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ve.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=qe(),this.nonDisplayed_=qe(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ve.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ve.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ve.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ve.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ve.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ve.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ve.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ve.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ve.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=qe(),this.displayed_=qe()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ve.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ve.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ve.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Ve.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Ve.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ve.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var We={CaptionStream:Ne,Cea608Stream:Ve,Cea708Stream:Ue},ze={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ge="shared",Ke=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Xe=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||Ge,this.push=function(e){this.type_!==Ge&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=Ke(e.dts,r),e.pts=Ke(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Xe.prototype=new q;var Ye,$e=Xe,Qe=Ke,Ze=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Je=function(e,t,n){return decodeURIComponent(Ze(e,t,n))},et=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},tt={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.value=Je(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.url=Je(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Ze(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ye=function(e){var t,n={descriptor:e&&e.descriptor},r=0,i=[],o=0;if(Ye.prototype.init.call(this),this.dispatchType=ze.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,a,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(i.push(e),o+=e.data.byteLength,1===i.length&&(r=et(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<r;)t.data.set(i[0].data.subarray(0,r-l),l),l+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();n=10,64&t.data[5]&&(n+=4,n+=et(t.data.subarray(10,14)),r-=et(t.data.subarray(16,20)));do{if((s=et(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((a={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=a.id,tt[a.id]&&(tt[a.id](a),"com.apple.streaming.transportStreamTimestamp"===a.owner)){var u=a.data,c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;c*=4,c+=3&u[7],a.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=a.timeStamp,t.dts=a.timeStamp),this.trigger("timestamp",a)}t.frames.push(a),n+=10,n+=s}while(n<r);this.trigger("data",t)}}},Ye.prototype=new q;var nt,rt,it,ot=Ye,st=$e,at=188;(nt=function(){var e=new Uint8Array(at),t=0;nt.prototype.init.call(this),this.push=function(n){var r,i=0,o=at;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=at,o+=at);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===at&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new q,rt=function(){var e,t,n,r;rt.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var o=e[i],s=(31&e[i+1])<<8|e[i+2];o===ze.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=s:o===ze.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=s:o===ze.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][s]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=ze.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=ze.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},rt.prototype=new q,rt.STREAM_TYPES={h264:27,adts:15},it=function(){var e,t=this,n=!1,r={data:[],size:0},i={data:[],size:0},o={data:[],size:0},s=function(e,n,r){var i,o,s=new Uint8Array(e.size),a={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],s.set(o.data,u),u+=o.data.byteLength;var c,d,p,f;d=a,f=(c=s)[0]<<16|c[1]<<8|c[2],d.data=new Uint8Array,1===f&&(d.packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(p=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&p&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8])),i="video"===n||a.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",a)}};it.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case ze.H264_STREAM_TYPE:e=r,t="video";break;case ze.ADTS_STREAM_TYPE:e=i,t="audio";break;case ze.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",r)}})[a.type]()},this.reset=function(){r.size=0,r.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(r,"video"),s(i,"audio"),s(o,"timed-metadata")},this.flush=function(){if(!n&&e){var r={type:"metadata",tracks:[]};null!==e.video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}n=!1,this.flushStreams_(),this.trigger("done")}},it.prototype=new q;var lt={PAT_PID:0,MP2T_PACKET_LENGTH:at,TransportPacketStream:nt,TransportParseStream:rt,ElementaryStream:it,TimestampRolloverStream:st,CaptionStream:We.CaptionStream,Cea608Stream:We.Cea608Stream,Cea708Stream:We.Cea708Stream,MetadataStream:ot};for(var ut in ze)ze.hasOwnProperty(ut)&&(lt[ut]=ze[ut]);var ct,dt=lt,pt=he,ft=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ct=function(e){var t,n=0;ct.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(r){var i,o,s,a,l,u=0;if(e||(n=0),"audio"===r.type){var c;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+r.data.byteLength)).set(s),t.set(r.data,s.byteLength)):t=r.data;u+7<t.length;)if(255===t[u]&&240==(246&t[u+1])){if("number"==typeof c&&(this.skipWarn_(c,u),c=null),o=2*(1&~t[u+1]),i=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,l=(a=1024*(1+(3&t[u+6])))*pt/ft[(60&t[u+2])>>>2],t.byteLength-u<i)break;this.trigger("data",{pts:r.pts+n*l,dts:r.dts+n*l,sampleCount:a,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:ft[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+o,u+i)}),n++,u+=i}else"number"!=typeof c&&(c=u),u++;"number"==typeof c&&(this.skipWarn_(c,u),c=null),t=t.subarray(u)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},ct.prototype=new q;var ht,mt,gt,vt=ct,yt=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");o.set(e.subarray(i,i+s)),n=new DataView(o.buffer).getUint32(0),r=8*s,t-=s},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};mt=function(){var e,t,n=0;mt.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},mt.prototype=new q,gt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ht=function(){var e,t,n,r,i,o,s,a=new mt;ht.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,a.push(e))},a.on("data",(function(s){var a={trackId:t,pts:n,dts:r,data:s,nalUnitTypeCode:31&s[0]};switch(a.nalUnitTypeCode){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=i(s.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=i(s.subarray(1)),a.config=o(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)})),a.on("done",(function(){e.trigger("done")})),a.on("partialdone",(function(){e.trigger("partialdone")})),a.on("reset",(function(){e.trigger("reset")})),a.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},s=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===i[0]&&(s++,i.shift()),n[o]=e[s];return n},o=function(e){var t,n,r,i,o,a,l,u,c,d,p,f,h=0,m=0,g=0,v=0,y=[1,1];if(n=(t=new yt(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),gt[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,f=0;f<p;f++)t.readBoolean()&&s(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;f<l;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:16*(u+1)-2*h-2*m,height:(2-d)*(c+1)*16-2*g-2*v,sarRatio:y}}},ht.prototype=new q;var _t,bt={H264Stream:ht,NalByteStream:mt},Tt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Et=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},wt=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=Et(t,n))},jt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},St={isLikelyAacData:function(e){var t=wt(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:Et,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Tt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=jt(e.subarray(10,14)));do{if((n=jt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){var o=unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,i));if("com.apple.streaming.transportStreamTimestamp"===o){var s=r.subarray(i+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return a*=4,a+=3&s[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(_t=function(){var e=new Uint8Array,t=0;_t.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,o,s,a=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(a=St.parseAdtsSize(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+a),pts:t,dts:t},this.trigger("data",o),l+=a}else{if(e.length-l<10)break;if(l+(a=St.parseId3TagSize(e,l))>e.length)break;i={type:"timed-metadata",data:e.subarray(l,l+a)},this.trigger("data",i),l+=a}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new q;var kt,xt,Ct,Pt,Ot=_t,It=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],At=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Nt=bt.H264Stream,Lt=St.isLikelyAacData,Dt=he,Rt=function(e,t){t.stream=e,this.trigger("log",t)},Mt=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];"headOfPipeline"!==i&&t[i].on&&t[i].on("log",Rt.bind(e,i))}},Ut=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Bt=function(e,t,n,r,i,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};xt=function(e,t){var n,r=[],i=0,o=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,xt.prototype.init.call(this),this.push=function(t){xe(e,t),e&&It.forEach((function(n){e[n]=t[n]})),r.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var a,l,u,c,d,p,f;0!==r.length?(a=Te(r,e,i),e.baseMediaDecodeTime=ke(e,t.keepOriginalTimestamps),f=be(e,a,o,s),e.samples=Ee(a),u=ee(we(a)),r=[],l=te(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Se(e),d=Math.ceil(1024*Dt/e.samplerate),a.length&&(p=a.length*d,this.trigger("segmentTimingInfo",Bt(ve(e.baseMediaDecodeTime,e.samplerate),a[0].dts,a[0].pts,a[0].dts+p,a[0].pts+p,f||0)),this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+p})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Se(e),r=[],this.trigger("reset")}},xt.prototype=new q,kt=function(e,t){var n,r,i,o=[],s=[];n=(t=t||{}).firstSequenceNumber||0,kt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){xe(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],At.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var r,i,a,l,u,c,d,p,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=ie(o),(a=oe(r))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],e))?(f=i.duration,a.unshift(i),a.byteLength+=i.byteLength,a.nalCount+=i.nalCount,a.pts=i.pts,a.dts=i.dts,a.duration+=i.duration):a=se(a)),s.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Se(e),a=h}xe(e,a),e.samples=ae(a),u=ee(le(a)),e.baseMediaDecodeTime=ke(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=a[0],p=a[a.length-1],this.trigger("segmentTimingInfo",Bt(e.baseMediaDecodeTime,d.dts,d.pts,p.dts+p.duration,p.pts+p.duration,f)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=te(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Se(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,o,s,a=1/0;for(s=0;s<this.gopCache_.length;s++)i=(o=this.gopCache_[s]).gop,e.pps&&Ut(e.pps[0],o.pps[0])&&e.sps&&Ut(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||a>n)&&(r=o,a=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,a,l,u;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(r=s[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,o-=i.byteLength,a-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=o,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,a,l;for(t=s.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(r=s[t],i=e[n],r.pts===i.pts){a=!0;break}r.pts>i.pts?t--:(t===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(l=a?n:o))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}},kt.prototype=new q,Pt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Pt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},Pt.prototype=new q,Pt.prototype.flush=function(e){var t,n,r,i,o=0,s={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,At.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,It.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,r=ne(this.pendingTracks),s.initSegment=new Uint8Array(r.byteLength),s.initSegment.set(r),s.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)s.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=_e(t.startPts,a,this.keepOriginalTimestamps),t.endTime=_e(t.endPts,a,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=_e(n.pts,a,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),i=0;i<s.captions.length;i++)t=s.captions[i],this.trigger("caption",t);for(i=0;i<s.metadata.length;i++)n=s.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Pt.prototype.setRemux=function(e){this.remuxTracks=e},Ct=function(e){var t,n,r=this,i=!0;Ct.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new dt.MetadataStream,i.aacStream=new Ot,i.audioTimestampRolloverStream=new dt.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new dt.TimestampRolloverStream("timed-metadata"),i.adtsStream=new vt,i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new xt(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Mt(this,i)},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new dt.MetadataStream,i.packetStream=new dt.TransportPacketStream,i.parseStream=new dt.TransportParseStream,i.elementaryStream=new dt.ElementaryStream,i.timestampRolloverStream=new dt.TimestampRolloverStream,i.adtsStream=new vt,i.h264Stream=new Nt,i.captionStream=new dt.CaptionStream(e),i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(o){var s;if("metadata"===o.type){for(s=o.tracks.length;s--;)t||"video"!==o.tracks[s].type?n||"audio"!==o.tracks[s].type||((n=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new kt(t,e),i.videoSegmentStream.on("log",r.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new xt(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Mt(this,i)},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Se(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Se(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(i){var t=Lt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ct.prototype=new q;var Ft,Ht,qt,Vt={Transmuxer:Ct,VideoSegmentStream:kt,AudioSegmentStream:xt,AUDIO_PROPERTIES:It,VIDEO_PROPERTIES:At,generateSegmentTimingInfo:Bt},Wt=function(e){return e>>>0},zt=function(e){return("00"+e.toString(16)).slice(-2)},Gt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Kt=Wt,Xt=function e(t,n){var r,i,o,s,a,l=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=Kt(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),o=Gt(t.subarray(r+4,r+8)),s=i>1?r+i:t.byteLength,o===n[0]&&(1===n.length?l.push(t.subarray(r+8,s)):(a=e(t.subarray(r+8,s),n.slice(1))).length&&(l=l.concat(a))),r=s;return l},Yt=Wt,$t=W.getUint64,Qt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=$t(e.subarray(4)):t.baseMediaDecodeTime=Yt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},Zt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Jt=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],a=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),o&&c&&(t={flags:Zt(e.subarray(d,d+4))},d+=4,s&&(t.duration=r.getUint32(d),d+=4),a&&(t.size=r.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},s&&(t.duration=r.getUint32(d),d+=4),a&&(t.size=r.getUint32(d),d+=4),l&&(t.flags=Zt(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},en=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],s=8&r.flags[2],a=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(r.defaultSampleDuration=n.getUint32(t),t+=4),a&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},tn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},nn="undefined"!=typeof window?window:void 0!==tn?tn:"undefined"!=typeof self?self:{},rn=Ie,on=We.CaptionStream,sn=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},an=function(e,t){var n=Xt(e,["moof","traf"]),r=Xt(e,["mdat"]),i={},o=[];return r.forEach((function(e,t){var r=n[t];o.push({mdat:e,traf:r})})),o.forEach((function(e){var n,r,o=e.mdat,s=e.traf,a=Xt(s,["tfhd"]),l=en(a[0]),u=l.trackId,c=Xt(s,["tfdt"]),d=c.length>0?Qt(c[0]).baseMediaDecodeTime:0,p=Xt(s,["trun"]);t===u&&p.length>0&&(n=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,a=[];return e.forEach((function(e){var t=Jt(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof r?(e.pts=r+nn.BigInt(e.compositionTimeOffset),r+=nn.BigInt(e.duration)):(e.pts=r+e.compositionTimeOffset,r+=e.duration)})),a=a.concat(t)})),a}(p,d,l),r=function(e,t,n){var r,i,o,s,a=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(i=0;i+4<e.length;i+=o)if(o=a.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+o),c=sn(i,t);if(r={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:rn(u),trackId:n},c)r.pts=c.pts,r.dts=c.dts,s=c;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+i+" for trackId "+n+". See mux.js#223."});break}r.pts=s.pts,r.dts=s.dts}l.seiNals.push(r)}return l}(o,n,u),i[u]||(i[u]={seiNals:[],logs:[]}),i[u].seiNals=i[u].seiNals.concat(r.seiNals),i[u].logs=i[u].logs.concat(r.logs))})),i},ln=function(){var e,t,n,r,i,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new on,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0})),e.on("log",(function(e){i.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,o,s){var a;if(!this.isInitialized())return null;if(!o||!s)return null;if(this.isNewInit(o,s))n=o[0],r=s[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,s)}return a=function(e,t,n){if(null===t)return null;var r=an(e,t)[t]||{};return{seiNals:r.seiNals,logs:r.logs,timescale:n}}(e,n,r),a&&a.logs&&(i.logs=i.logs.concat(a.logs)),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),i):i.logs.length?{logs:i.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={},i.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},un=Wt,cn=zt,dn=W.getUint64;Ft=function(e,t){var n=Xt(t,["moof","traf"]).reduce((function(t,n){var r,i,o=Xt(n,["tfhd"])[0],s=un(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),a=e[s]||9e4,l=Xt(n,["tfdt"])[0],u=new DataView(l.buffer,l.byteOffset,l.byteLength);return"bigint"==typeof(r=1===l[0]?dn(l.subarray(4,12)):u.getUint32(4))?i=r/nn.BigInt(a):"number"!=typeof r||isNaN(r)||(i=r/a),i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i<t&&(t=i),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},qt=function(e){var t=0===e[0]?12:20;return un(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Ht=function(e){var t=Xt(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},o=Xt(e,["tkhd"])[0];o&&(r=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var s=Xt(e,["mdia","hdlr"])[0];if(s){var a=Gt(s.subarray(8,12));i.type="vide"===a?"video":"soun"===a?"audio":a}var l=Xt(e,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);i.codec=Gt(u.subarray(4,8));var c,d=Xt(u,[i.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(i.codec)?(c=d.subarray(78),"avcC"===Gt(c.subarray(4,8))&&c.length>11?(i.codec+=".",i.codec+=cn(c[9]),i.codec+=cn(c[10]),i.codec+=cn(c[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(c=d.subarray(28),"esds"===Gt(c.subarray(4,8))&&c.length>20&&0!==c[19]?(i.codec+="."+cn(c[19]),i.codec+="."+cn(c[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var p=Xt(e,["mdia","mdhd"])[0];p&&(i.timescale=qt(p)),n.push(i)})),n};var pn=Ft,fn=Ht,hn=function(e){var t=31&e[1];return t<<=8,t|=e[2]},mn=function(e){return!!(64&e[1])},gn=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},vn=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},yn={parseType:function(e,t){var n=hn(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=mn(e),n=4+gn(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=mn(e),r=4+gn(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var o=12+((15&e[r+10])<<8|e[r+11]);o<i;){var s=r+o;t[(31&e[s+1])<<8|e[s+2]]=e[s],o+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:mn,parsePesType:function(e,t){switch(t[hn(e)]){case ze.H264_STREAM_TYPE:return"video";case ze.ADTS_STREAM_TYPE:return"audio";case ze.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!mn(e))return null;var t=4+gn(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+gn(e),n=e.subarray(t),r=0,i=0,o=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(o=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(o=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(o=!0),o}},_n=Qe,bn={};bn.ts=yn,bn.aac=St;var Tn=he,En=188,wn=71,jn=function(e,t,n){for(var r,i,o,s,a=0,l=En,u=!1;l<=e.byteLength;)if(e[a]!==wn||e[l]!==wn&&l!==e.byteLength)a++,l++;else{if(r=e.subarray(a,l),"pes"===bn.ts.parseType(r,t.pid))i=bn.ts.parsePesType(r,t.table),o=bn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=bn.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),u=!0);if(u)break;a+=En,l+=En}for(a=(l=e.byteLength)-En,u=!1;a>=0;)if(e[a]!==wn||e[l]!==wn&&l!==e.byteLength)a--,l--;else{if(r=e.subarray(a,l),"pes"===bn.ts.parseType(r,t.pid))i=bn.ts.parsePesType(r,t.table),o=bn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(s=bn.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),u=!0);if(u)break;a-=En,l-=En}},Sn=function(e,t,n){for(var r,i,o,s,a,l,u,c=0,d=En,p=!1,f={data:[],size:0};d<e.byteLength;)if(e[c]!==wn||e[d]!==wn)c++,d++;else{if(r=e.subarray(c,d),"pes"===bn.ts.parseType(r,t.pid))if(i=bn.ts.parsePesType(r,t.table),o=bn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(o&&!p&&(s=bn.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),p=!0),!n.firstKeyFrame)){if(o&&0!==f.size){for(a=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),a.set(u,l),l+=u.byteLength;if(bn.ts.videoPacketContainsKeyFrame(a)){var h=bn.ts.parsePesTime(a);h?(n.firstKeyFrame=h,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(r),f.size+=r.byteLength}if(p&&n.firstKeyFrame)break;c+=En,d+=En}for(c=(d=e.byteLength)-En,p=!1;c>=0;)if(e[c]!==wn||e[d]!==wn)c--,d--;else{if(r=e.subarray(c,d),"pes"===bn.ts.parseType(r,t.pid))i=bn.ts.parsePesType(r,t.table),o=bn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&o&&(s=bn.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),p=!0);if(p)break;c-=En,d-=En}},kn=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,r=0,i=En;i<e.byteLength;)if(e[r]!==wn||e[i]!==wn)r++,i++;else{switch(n=e.subarray(r,i),bn.ts.parseType(n,t.pid)){case"pat":t.pid=bn.ts.parsePat(n);break;case"pmt":var o=bn.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}r+=En,i+=En}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case ze.H264_STREAM_TYPE:n.video=[],Sn(e,t,n),0===n.video.length&&delete n.video;break;case ze.ADTS_STREAM_TYPE:n.audio=[],jn(e,t,n),0===n.audio.length&&delete n.audio}}return n},xn=function(e,t){var n;return n=bn.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,o=null,s=0,a=0;e.length-a>=3;){switch(bn.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){n=!0;break}if((s=bn.aac.parseId3TagSize(e,a))>e.length){n=!0;break}null===o&&(t=e.subarray(a,a+s),o=bn.aac.parseAacTimestamp(t)),a+=s;break;case"audio":if(e.length-a<7){n=!0;break}if((s=bn.aac.parseAdtsSize(e,a))>e.length){n=!0;break}null===i&&(t=e.subarray(a,a+s),i=bn.aac.parseSampleRate(t)),r++,a+=s;break;default:a++}if(n)return null}if(null===i||null===o)return null;var l=Tn/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*l,pts:o+1024*r*l}]}}(e):kn(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=_n(e.dts,n),e.pts=_n(e.pts,n),e.dtsTime=e.dts/Tn,e.ptsTime=e.pts/Tn}))}if(e.video&&e.video.length){var r=t;if((void 0===r||isNaN(r))&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=_n(e.dts,r),e.pts=_n(e.pts,r),e.dtsTime=e.dts/Tn,e.ptsTime=e.pts/Tn})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=_n(i.dts,r),i.pts=_n(i.pts,r),i.dtsTime=i.dts/Tn,i.ptsTime=i.pts/Tn}}}(n,t),n):null},Cn=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Vt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new ln,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,r=pn(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:r,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=fn(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,r="number"!=typeof n||isNaN(n)?void 0:n*he,i=xn(t,r),o=null;i&&((o={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(o.videoStart=i.video[0].ptsTime),o.hasAudio&&(o.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:o,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(me(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(me(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Cn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Cn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),fl=ul(pl),hl=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,o=e.remux,s=e.onData,a=e.onTrackInfo,l=e.onAudioTimingInfo,u=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,p=e.onId3,f=e.onCaptions,h=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,v=e.isEndOfTimeline,y={buffer:[]},_=v;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,o=r.initSegment,s=r.captions,a=r.captionStreams,l=r.metadata,u=r.videoFrameDtsTime,c=r.videoFramePtsTime;t.buffer.push({captions:s,captionStreams:a,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},p={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==u&&(p.videoFrameDtsTime=u),void 0!==c&&(p.videoFramePtsTime=c),n(p)}(n,y,s),"trackinfo"===n.data.action&&a(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,y),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&u(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&p([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&f(n.data.caption),"endedtimeline"===n.data.action&&(_=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(_||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:y,callback:h}),ml(t))))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){var b=n instanceof ArrayBuffer?n:n.buffer,T=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:b,byteOffset:T,byteLength:n.byteLength},[b])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},ml=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():hl(e.currentTransmux))},gl=function(e,t){e.postMessage({action:t}),ml(e)},vl=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void gl(t,e);t.transmuxQueue.push(gl.bind(null,t,e))},yl=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void hl(e);e.transmuxer.transmuxQueue.push(e)},_l=function(e){vl("reset",e)},bl=function(e){var t=new fl;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},Tl=function(e){var t=e.transmuxer,n=e.endAction||e.action,r=e.callback,i=(0,a.Z)({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function i(o){o.data.action===n&&(t.removeEventListener("message",i),o.data.data&&(o.data.data=new Uint8Array(o.data.data,e.byteOffset||0,e.byteLength||o.data.data.byteLength),e.data&&(e.data=o.data.data)),r(o.data))})),e.data){var o=e.data instanceof ArrayBuffer;i.byteOffset=o?0:e.data.byteOffset,i.byteLength=e.data.byteLength;var s=[o?e.data:e.data.buffer];t.postMessage(i,s)}else t.postMessage(i)},El=2,wl=-101,jl=-102,Sl=function(e){e.forEach((function(e){e.abort()}))},kl=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:wl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:jl,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:El,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:El,xhr:t}:null},xl=function(e,t,n){return function(r,i){var o=i.response,s=kl(r,i);if(s)return n(s,e);if(16!==o.byteLength)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:El,xhr:i},e);for(var a=new DataView(o),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),u=0;u<t.length;u++)t[u].bytes=l;return n(null,e)}},Cl=function(e,t){var n=Ct(e.map.bytes);if("mp4"!==n){var r=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:El})}Tl({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var r=n.tracks,i=n.data;return e.map.bytes=i,r.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Pl=function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var o=kl(e,i);if(o)return n(o,t);var s="arraybuffer"!==r&&i.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(i.responseText.substring(t.lastReachedChar||0)):i.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),n(null,t)}},Ol=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,a=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=t.map&&t.map.tracks||{},m=Boolean(h.audio&&h.video),g=i.bind(null,t,"audio","start"),v=i.bind(null,t,"audio","end"),y=i.bind(null,t,"video","start"),_=i.bind(null,t,"video","end");Tl({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var i=e.result;i&&(r(t,{hasAudio:i.hasAudio,hasVideo:i.hasVideo,isMuxed:m}),r=null,i.hasAudio&&!m&&g(i.audioStart),i.hasVideo&&y(i.videoStart),g=null,y=null),yl({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){r&&(m&&(e.isMuxed=!0),r(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),v&&void 0!==e.end&&v(e.end)},onVideoTimingInfo:function(e){y&&void 0!==e.start&&(y(e.start),y=null),_&&void 0!==e.end&&_(e.end)},onVideoSegmentTimingInfo:function(e){o(e)},onAudioSegmentTimingInfo:function(e){s(e)},onId3:function(e,n){a(t,e,n)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:u,onEndedTimeline:function(){c()},onTransmuxerLog:f,onDone:function(e){p&&(e.type="combined"===e.type?"video":e.type,p(null,t,e))}})}})},Il=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,a=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=new Uint8Array(n);if(function(e){return dt(e,["moof"]).length>0}(h)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),r(t,g);var v=function(e){d(t,{data:h,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(t,e),p(null,t,{})};Tl({action:"probeMp4StartTime",timescales:t.map.timescales,data:h,transmuxer:t.transmuxer,callback:function(e){var r=e.data,o=e.startTime;n=r.buffer,t.bytes=h=r,g.hasAudio&&!g.isMuxed&&i(t,"audio","start",o),g.hasVideo&&i(t,"video","start",o),m.video&&r.byteLength&&t.transmuxer?Tl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:h,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,t.bytes=h=e.data,e.logs.forEach((function(e){f(Ws.mergeOptions(e,{stream:"mp4CaptionParser"}))})),v(e.captions)}}):v()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=Ct(h)),"ts"!==t.container&&"aac"!==t.container)return r(t,{hasAudio:!1,hasVideo:!1}),void p(null,t,{});Ol({segment:t,bytes:n,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:f})}else p(null,t,{})},Al=function(e,t){var n,r=e.id,i=e.key,o=e.encryptedBytes,s=e.decryptionWorker;s.addEventListener("message",(function e(n){if(n.data.source===r){s.removeEventListener("message",e);var i=n.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}})),n=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),s.postMessage(Ga({source:r,encrypted:o,key:n,iv:i.iv}),[o.buffer,n.buffer])},Nl=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,a=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=0,m=!1;return function(e,g){if(!m){if(e)return m=!0,Sl(t),p(e,g);if((h+=1)===t.length){var v=function(){if(g.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,a=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog;Al({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,Il({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:f})}))}({decryptionWorker:n,segment:g,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:f});Il({segment:g,bytes:g.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:f})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return Al({decryptionWorker:n,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(function(e){g.map.bytes=e,Cl(g,(function(e){if(e)return Sl(t),p(e,g);v()}))}));v()}}}},Ll=function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Ws.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},Dl=function(e){var t=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,i=e.segment,o=e.abortFn,s=e.progressFn,a=e.trackInfoFn,l=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,p=e.captionsFn,f=e.isEndOfTimeline,h=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=[],_=Nl({activeXhrs:y,decryptionWorker:r,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m,doneFn:g,onTransmuxerLog:v});if(i.key&&!i.key.bytes){var b=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&b.push(i.map.key);var T=t(Ws.mergeOptions(n,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),xl(i,b,_));y.push(T)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var E=t(Ws.mergeOptions(n,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),xl(i,[i.map.key],_));y.push(E)}var w=Ws.mergeOptions(n,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:qa(i.map)}),j=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=kl(e,r);if(i)return n(i,t);var o=new Uint8Array(r.response);if(t.map.key)return t.map.encryptedBytes=o,n(null,t);t.map.bytes=o,Cl(t,(function(e){if(e)return e.xhr=r,e.status=r.status,n(e,t);n(null,t)}))}}({segment:i,finishProcessingFn:_}),S=t(w,j);y.push(S)}var k=Ws.mergeOptions(n,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:qa(i)}),x=t(k,Pl({segment:i,finishProcessingFn:_,responseType:k.responseType}));x.addEventListener("progress",Ll({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m})),y.push(x);var C={};return y.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:C,abortFn:o}))})),function(){return Sl(y)}},Rl=Ys("CodecUtils"),Ml=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Ul=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,r=e.type,i=e.details;t[n]=t[n]||[],t[n].push(H(""+r+i))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Rl("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},Bl=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Fl=function(e,t){var n=t.attributes||{},r=Ul(function(e){var t=e.attributes||{};if(t.CODECS)return q(t.CODECS)}(t)||[]);if(Ml(e,t)&&!r.audio&&!function(e,t){if(!Ml(e,t))return!0;var n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1}(e,t)){var i=Ul(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return q(i.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Hl=Ys("PlaylistSelector"),ql=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Vl=function(e,t){if(!e)return"";var n=i().getComputedStyle(e);return n?n[t]:""},Wl=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},zl=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||i().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||i().Number.MAX_VALUE)},Gl=function(e,t,n,r,o,s){if(e){var a={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:o},l=e.playlists;wa.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),a.audioOnly=!0);var u=l.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||i().Number.MAX_VALUE,width:t,height:n,playlist:e}}));Wl(u,(function(e,t){return e.bandwidth-t.bandwidth}));var c=(u=u.filter((function(e){return!wa.isIncompatible(e.playlist)}))).filter((function(e){return wa.isEnabled(e.playlist)}));c.length||(c=u.filter((function(e){return!wa.isDisabled(e.playlist)})));var d=c.filter((function(e){return e.bandwidth*al.BANDWIDTH_VARIANCE<t})),p=d[d.length-1],f=d.filter((function(e){return e.bandwidth===p.bandwidth}))[0];if(!1===o){var h=f||c[0]||u[0];if(h&&h.playlist){var m="sortedPlaylistReps";return f&&(m="bandwidthBestRep"),c[0]&&(m="enabledPlaylistReps"),Hl("choosing "+ql(h)+" using "+m+" with options",a),h.playlist}return Hl("could not choose a playlist with options",a),null}var g=d.filter((function(e){return e.width&&e.height}));Wl(g,(function(e,t){return e.width-t.width}));var v=g.filter((function(e){return e.width===n&&e.height===r}));p=v[v.length-1];var y,_,b,T,E=v.filter((function(e){return e.bandwidth===p.bandwidth}))[0];if(E||(_=(y=g.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===y[0].width&&e.height===y[0].height})),p=_[_.length-1],b=_.filter((function(e){return e.bandwidth===p.bandwidth}))[0]),s.experimentalLeastPixelDiffSelector){var w=g.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-r),e}));Wl(w,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),T=w[0]}var j=T||b||E||f||c[0]||u[0];if(j&&j.playlist){var S="sortedPlaylistReps";return T?S="leastPixelDiffRep":b?S="resolutionPlusOneRep":E?S="resolutionBestRep":f?S="bandwidthBestRep":c[0]&&(S="enabledPlaylistReps"),Hl("choosing "+ql(j)+" using "+S+" with options",a),j.playlist}return Hl("could not choose a playlist with options",a),null}},Kl=function(){var e=this.useDevicePixelRatio&&i().devicePixelRatio||1;return Gl(this.playlists.master,this.systemBandwidth,parseInt(Vl(this.tech_.el(),"width"),10)*e,parseInt(Vl(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Xl=function(e){var t=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(n){var s=i().WebKitDataCue||i().VTTCue,a=t.metadataTrack_;if(a&&(n.forEach((function(e){var t=e.cueTime+r;!("number"!=typeof t||i().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new s(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Ws.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Ws.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Ws.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),a.addCue(n)}))})),a.cues&&a.cues.length)){for(var l=a.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var d=u.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),p=Object.keys(d).sort((function(e,t){return Number(e)-Number(t)}));p.forEach((function(e,t){var n=d[e],r=Number(p[t+1])||o;n.forEach((function(e){e.endTime=r}))}))}}},Yl=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},$l=function(e){return"number"==typeof e&&isFinite(e)},Ql=1/60,Zl=function(e){var t=e.startOfSegment,n=e.duration,r=e.segment,i=e.part,o=e.playlist,s=o.mediaSequence,a=o.id,l=o.segments,u=void 0===l?[]:l,c=e.mediaIndex,d=e.partIndex,p=e.timeline,f=u.length-1,h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=" with independent "+e.independent);var m="number"==typeof d,g=e.segment.uri?"segment":"pre-segment",v=m?ua({preloadSegment:r})-1:0;return g+" ["+(s+c)+"/"+(s+f)+"]"+(m?" part ["+d+"/"+v+"]":"")+" segment start/end ["+r.start+" => "+r.end+"]"+(m?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+p+"] selected by ["+h+"] playlist ["+a+"]"},Jl=function(e){return e+"TimingInfo"},eu=function(e){var t=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,i=e.loaderType,o=e.audioDisabled;if(n===r)return!1;if("audio"===i){var s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if("main"===i&&o){var a=t.pendingTimelineChange({type:"audio"});return!a||a.to!==r}return!1},tu=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+$s},nu=function(e,t){if("hls"!==t)return null;var n,r,o=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},r=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var o,s=t.start,a=t.end;"bigint"==typeof s||"bigint"==typeof a?o=i().BigInt(a)-i().BigInt(s):"number"==typeof s&&"number"==typeof a&&(o=a-s),void 0!==o&&o>r&&(r=o)}})),"bigint"==typeof r&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r);if(!o)return null;var s=e.playlist.targetDuration,a=tu({segmentDuration:o,maxDuration:2*s}),l=tu({segmentDuration:o,maxDuration:s}),u="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+o+" when the reported duration is "+e.duration+" and the target duration is "+s+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||l?{severity:a?"warn":"info",message:u}:null},ru=function(e){function t(t,n){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=t.parse708captions,r.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,r.captionServices_=t.captionServices,r.experimentalExactManifestTimings=t.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Ws.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=Ys("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(c(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}p(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return bl({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,i().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&_l(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ws.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Ka(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Xa(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var s=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!s.parts||!s.parts.length||!s.parts[this.partIndex])){var a=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=a}}r&&(r.mediaIndex-=o,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&_l(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,r){if(void 0===n&&(n=function(){}),void 0===r&&(r=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var i=1,o=function(){0===--i&&n()};for(var s in!r&&this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(e,t,o)),(r||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil((t-r)*Pt.ONE_SECOND_IN_TS),o=Math.ceil((n-r)*Pt.ONE_SECOND_IN_TS),s=e.slice(),a=e.length;a--&&!(e[a].pts<=o););if(-1===a)return s;for(var l=a+1;l--&&!(e[l].pts<=i););return l=Math.max(l,0),s.splice(l,a-l+1),s}(this.gopBuffer_,e,t,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,t,o)),this.inbandTextTracks_)Yl(e,t,this.inbandTextTracks_[s]);Yl(e,t,this.segmentMetadataTrack_),o()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i().setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i().setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var r="number"==typeof e&&t.segments[e],i=e+1===t.segments.length,o=!r||!r.parts||n+1===r.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&i&&o},n.chooseNextRequest_=function(){var e=this.buffered_(),t=ra(e)||0,n=ia(e,this.currentTime_()),r=!this.hasPlayed_()&&n>=1,i=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||r||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];for(var r=[],i=0,o=0;o<t.length;o++){var s=t[o];if(e===s.timeline&&(r.push(o),(i+=s.duration)>n))return o}return 0===r.length?0:r[r.length-1]}(this.currentTimeline_,o,t);else if(null!==this.mediaIndex){var a=o[this.mediaIndex],l="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=a.end?a.end:t,a.parts&&a.parts[l+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=l+1):s.mediaIndex=this.mediaIndex+1}else{var u=wa.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=u.segmentIndex,d=u.startTime,p=u.partIndex;s.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),s.mediaIndex=c,s.startOfSegment=d,s.partIndex=p}var f=o[s.mediaIndex],h=f&&"number"==typeof s.partIndex&&f.parts&&f.parts[s.partIndex];if(!f||"number"==typeof s.partIndex&&!h)return null;if("number"!=typeof s.partIndex&&f.parts&&(s.partIndex=0,h=f.parts[0]),!n&&h&&!h.independent)if(0===s.partIndex){var m=o[s.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(s.mediaIndex-=1,s.partIndex=m.parts.length-1,s.independent="previous segment")}else f.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");var v=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=o.length-1&&v&&!this.seeking_()?null:this.generateSegmentInfo_(s)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,r=e.mediaIndex,i=e.startOfSegment,o=e.isSyncRequest,s=e.partIndex,a=e.forceTimestampOffset,l=e.getMediaInfoForTime,u=n.segments[r],c="number"==typeof s&&u.parts[s],d={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||u.resolvedUri,mediaIndex:r,partIndex:c?s:null,isSyncRequest:o,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:c&&c.duration||u.duration,segment:u,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},p=void 0!==a?a:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:p});var f=ra(this.sourceUpdater_.audioBuffered());return"number"==typeof f&&(d.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,n){if(null==t||!e.length)return[];var r,i=Math.ceil((t-n+3)*Pt.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,r=t.currentTimeline,i=t.startOfSegment,o=t.buffered,t.overrideCheck||n!==r?n<r?i:o.length?o.end(o.length-1):i:null;var t,n,r,i,o},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=wa.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=o)){var s=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,o=e.segmentDuration,s=e.timeUntilRebuffer,a=e.currentTimeline,l=e.syncController,u=t.playlists.filter((function(e){return!wa.isIncompatible(e)})),c=u.filter(wa.isEnabled);c.length||(c=u.filter((function(e){return!wa.isDisabled(e)})));var d=c.filter(wa.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,i,a,n)?1:2;return{playlist:e,rebufferingImpact:wa.estimateSegmentRequestTime(o,r,e)*t-s}})),p=d.filter((function(e){return e.rebufferingImpact<=0}));return Wl(p,(function(e,t){return zl(t.playlist,e.playlist)})),p.length?p[0]:(Wl(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var a=i-o-s.rebufferingImpact,l=.5;o<=$s&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||a<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*al.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+Zl(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(o!==r[i])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,o=Jl(t);i[o]=i[o]||{},i[o][n]=r,this.logger_("timinginfo: "+t+" - "+n+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};t.forEach((function(e){o[e.stream]=o[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=o[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(o).forEach((function(e){var t=o[e],s=t.startTime,a=t.endTime,l=t.captions,u=n.inbandTextTracks_;n.logger_("adding cues from "+s+" -> "+a+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var i=t.textTracks().getTrackById(r);if(i)e[n]=i;else{var o=n,s=n,a=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[r];l&&(o=l.label,s=l.language,a=l.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:r,default:a,label:o,language:s},!1).track}}}(u,n.vhs_.tech_,e),Yl(s,a,u[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var o=i().WebKitDataCue||i().VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new o(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:l,inbandTextTracks:u,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),Xl({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!eu({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;return!(r&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)&&!eu({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Jl(t.type)].start;else{var r,i=this.getCurrentMediaInfo_(),o="main"===this.loaderType_&&i&&i.hasVideo;o&&(r=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var s=this.chooseNextRequest_();if(s.mediaIndex!==n.mediaIndex||s.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var o=Ka(r);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,r=e.segmentInfo,o=e.type,s=e.bytes,a=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+na(a).join(", ")),l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+na(l).join(", "));var u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0,d=l.length?l.start(0):0,p=l.length?l.end(l.length-1):0;if(c-u<=1&&p-d<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+s.byteLength+", audio buffer: "+na(a).join(", ")+", video buffer: "+na(l).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:r,type:o,bytes:s}));var f=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+f),this.remove(0,f,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=i().setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,r=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(r+" append of "+i.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:r,bytes:i}))},n.appendToSourceBuffer_=function(e){var t,n,r,i=e.segmentInfo,o=e.type,s=e.initSegment,a=e.data,l=e.bytes;if(!l){var u=[a],c=a.byteLength;s&&(u.unshift(s),c+=s.byteLength),r=0,(t={bytes:c,segments:u}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,r),r+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:o,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:i,type:o,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,i=e+"TimingInfo";r[i]||(r[i]={}),r[i].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[i].transmuxedPresentationStart=n.start.presentation,r[i].transmuxedDecodeStart=n.start.decode,r[i].transmuxedPresentationEnd=n.end.presentation,r[i].transmuxedDecodeEnd=n.end.decode,r[i].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=(0,a.Z)({},e,{forceTimestampOffset:!0});(0,a.Z)(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,o=e.timeline!==this.currentTimeline_&&e.timeline>0,s=r||i&&o;this.logger_("Requesting "+Zl(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Dl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var r=n.message,i=n.level,o=n.stream;t.logger_(Zl(e)+" logged from transmuxer stream "+o+" as a "+i+": "+r)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var r=t-al.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var i=t-n;return Math.min(i,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,r={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},i=e.playlist.segments[e.mediaIndex-1];if(i&&i.timeline===t.timeline&&(i.videoTimingInfo?r.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(r.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key){var o=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=o}return t.map&&(r.map=this.initSegmentForMap(t.map)),r},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<Ql?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===jl)return;return this.pause(),e.code===wl?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,r=e.mediaIndex,i=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,a=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!s)return l.start;var u=n.segments[r-1];return 0!==r&&u&&void 0!==u.start&&u.end===i+o?a.start:i},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed,o="main"===this.loaderType_&&r,s=!this.audioDisabled_&&n&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,s&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,r=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r.start:r.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=nu(e,this.sourceType_);if(t&&("warn"===t.severity?Ws.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Zl(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,r=e.part,i=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,o=r&&r.end&&this.currentTime_()-r.end>3*e.playlist.partTargetDuration;if(i||o)return this.logger_("bad "+(i?"segment":"part")+" "+Zl(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Zl(e))},n.recordThroughput_=function(e){if(e.duration<Ql)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if($l(n)&&$l(r)){Yl(n,r,this.segmentMetadataTrack_);var o=i().WebKitDataCue||i().VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},a=new o(n,r,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}}},t}(Ws.EventTarget);function iu(){}var ou,su=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},au=["video","audio"],lu=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},uu=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!lu(t,n)){if(i.type!==t){if(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue),null===r)return;i=n.queue[r]}return n.queue.splice(r,1),n.queuePending[t]=i,i.action(t,n),i.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},cu=function(e,t){var n=t[e+"Buffer"],r=su(e);n&&(n.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),n.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},du=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},pu=function(e,t,n){return function(r,i){var o=i[r+"Buffer"];if(du(i.mediaSource,o)){i.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{o.appendBuffer(e)}catch(e){i.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+r+"Buffer"),i.queuePending[r]=null,n(e)}}}},fu=function(e,t){return function(n,r){var i=r[n+"Buffer"];if(du(r.mediaSource,i)){r.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{i.remove(e,t)}catch(i){r.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},hu=function(e){return function(t,n){var r=n[t+"Buffer"];du(n.mediaSource,r)&&(n.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},mu=function(e){return function(t,n){e()}},gu=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Ws.log.warn("Failed to call media source endOfStream",e)}}}},vu=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(e){Ws.log.warn("Failed to set media source duration",e)}}},yu=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(du(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){Ws.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},_u=function(e,t){return function(n){var r=su(e),i=W(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=n.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),o.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=o}},bu=function(e){return function(t){var n=t[e+"Buffer"];if(cu(e,t),du(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(t){Ws.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},Tu=function(e){return function(t,n){var r=n[t+"Buffer"],i=W(e);du(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),r.changeType(i),n.codecs[t]=e)}},Eu=function(e){var t=e.type,n=e.sourceUpdater,r=e.action,i=e.doneFn,o=e.name;n.queue.push({type:t,action:r,doneFn:i,name:o}),uu(t,n)},wu=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}uu(e,t)}},ju=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return uu("mediaSource",c(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Ys("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=wu("video",c(n)),n.onAudioUpdateEnd_=wu("audio",c(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}p(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){Eu({type:"mediaSource",sourceUpdater:this,action:_u(e,t),name:"addSourceBuffer"})},n.abort=function(e){Eu({type:e,sourceUpdater:this,action:yu(e),name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?Eu({type:"mediaSource",sourceUpdater:this,action:bu(e),name:"removeSourceBuffer"}):Ws.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Ws.browser.IE_VERSION&&!Ws.browser.IS_FIREFOX&&i().MediaSource&&i().MediaSource.prototype&&"function"==typeof i().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return i().SourceBuffer&&i().SourceBuffer.prototype&&"function"==typeof i().SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?Eu({type:e,sourceUpdater:this,action:Tu(t),name:"changeType"}):Ws.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))},n.appendBuffer=function(e,t){var n=this,r=e.segmentInfo,i=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Eu({type:i,sourceUpdater:this,action:pu(o,r||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var s=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+s.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,s.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return du(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ws.createTimeRange()},n.videoBuffered=function(){return du(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ws.createTimeRange()},n.buffered=function(){var e=du(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=du(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,o=[],s=[];if(!(e&&e.length&&t&&t.length))return Ws.createTimeRange();for(var a=e.length;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(a=t.length;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),a=0;a<o.length;a++)"start"===o[a].type?2==++i&&(n=o[a].time):"end"===o[a].type&&1==--i&&(r=o[a].time),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return Ws.createTimeRanges(s)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){void 0===t&&(t=iu),Eu({type:"mediaSource",sourceUpdater:this,action:vu(e),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=iu),"string"!=typeof e&&(e=void 0),Eu({type:"mediaSource",sourceUpdater:this,action:gu(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=iu),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Eu({type:"audio",sourceUpdater:this,action:fu(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=iu),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Eu({type:"video",sourceUpdater:this,action:fu(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!lu("audio",this)&&!lu("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Eu({type:"audio",sourceUpdater:this,action:hu(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Eu({type:"video",sourceUpdater:this,action:hu(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&Eu({type:"audio",sourceUpdater:this,action:mu(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&Eu({type:"video",sourceUpdater:this,action:mu(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),au.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return cu(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Ws.EventTarget),Su=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},ku=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),xu=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}p(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ws.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Ws.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Ka(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=ku.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(ku,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){Yl(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===wl&&this.handleTimeout_(),e.code===jl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,t.stats),this.state="APPENDING",this.trigger("appending");var s=o.segment;if(s.map&&(s.map.bytes=t.map.bytes),o.bytes=t.bytes,"function"!=typeof i().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a,l=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",a),r.stopForError({message:"Error loading vtt.js"})};return a=function(){r.subtitlesTrack_.tech_.off("vttjserror",l),r.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",l)}s.requested=!0;try{this.parseVTTCues_(o)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,o.cues.forEach((function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new(i().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var r=[],i=0,o=0;o<t.length;o++)t[n].startTime===t[o].startTime&&t[n].endTime===t[o].endTime&&t[n].text===t[o].text&&++i>1&&r.push(t[o]);r.length&&r.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"==typeof i().TextDecoder?t=new(i().TextDecoder)("utf8"):(t=i().WebVTT.StringDecoder(),n=!0);var r=new(i().WebVTT.Parser)(i(),i().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){Ws.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var o=e.segment.map.bytes;n&&(o=Su(o)),r.parse(o)}var s=e.bytes;n&&(s=Su(s)),r.parse(s),r.flush()},n.updateTimeMapping_=function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/Pt.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var s=e.cues[0].startTime,a=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(s,a-r.duration)}}}else r.empty=!0},t}(ru),Cu=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},Pu=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=null,s=null,a=aa(t);i=i||0;for(var l=0;l<a.length;l++){var u=a[t.endList||0===i?l:a.length-(l+1)],c=u.segment,d=e.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var p=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"==typeof u.partIndex)for(var f=0;f<u.partIndex;f++)p+=c.parts[f].duration;var h=Math.abs(i-p);if(null!==s&&(0===h||s<h))break;s=h,o={time:p,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return o}},{name:"Segment",run:function(e,t,n,r,i){var o=null,s=null;i=i||0;for(var a=aa(t),l=0;l<a.length;l++){var u=a[t.endList||0===i?l:a.length-(l+1)],c=u.segment,d=u.part&&u.part.start||c&&c.start;if(c.timeline===r&&void 0!==d){var p=Math.abs(i-d);if(null!==s&&s<p)break;(!o||null===s||s>=p)&&(s=p,o={time:d,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return o}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,a=0;a<t.discontinuityStarts.length;a++){var l=t.discontinuityStarts[a],u=t.discontinuitySequence+a+1,c=e.discontinuities[u];if(c){var d=Math.abs(i-c.time);if(null!==s&&s<d)break;(!o||null===s||s>=d)&&(s=d,o={time:c.time,segmentIndex:l,partIndex:null})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Ou=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Ys("SyncController"),n}p(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+fa({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,r){for(var i=[],o=0;o<Pu.length;o++){var s=Pu[o],a=s.run(this,e,t,n,r);a&&(a.strategy=s.name,i.push({strategy:s.name,syncPoint:a}))}return i},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var s=Math.abs(e[o].syncPoint[t.key]-t.value);s<r&&(r=s,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Ws.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var r=n-1;r>=0;r--){var i=e.segments[r];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var o=i.dateTimeObject;i.discontinuity&&n&&o&&(this.timelineToDatetimeMappings[i.timeline]=-o.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var r,i,o=e.segment,s=e.part,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+a.time+"] [mapping: "+a.mapping+"]")),r=e.startOfSegment,i=t.end+a.mapping;else{if(!a)return!1;r=t.start+a.mapping,i=t.end+a.mapping}return s&&(s.start=r,s.end=i),(!o.start||r<o.start)&&(o.start=r),o.end=i,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,s=i-e.mediaIndex,a=Math.abs(s);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>a){var l=void 0;l=s<0?n.start-fa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:i}):n.end+fa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[o]={time:l,accuracy:a}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Ws.EventTarget),Iu=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}p(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Ws.EventTarget),Au=cl(dl((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var r=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0})),i=t((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),o=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),s=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();var a,l=null,u=function(){function e(e){var t,n,r;l||(l=function(){var e,t,n,r,i,o,s,a,l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],c=l[1],d=u[4],p=c[4],f=[],h=[];for(e=0;e<256;e++)h[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=r||1,n=h[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[t]=o,p[o]=t,a=16843009*f[i=f[r=f[t]]]^65537*i^257*r^16843008*t,s=257*f[o]^16843008*o,e=0;e<4;e++)u[e][t]=s=s<<24^s>>>8,c[e][o]=a=a<<24^a>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0);return l}()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var i=this._tables[0][4],o=this._tables[1],s=e.length,a=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var u=e.slice(0),c=[];for(this._key=[u,c],t=s;t<4*s+28;t++)r=u[t-1],(t%s==0||8===s&&t%s==4)&&(r=i[r>>>24]<<24^i[r>>16&255]<<16^i[r>>8&255]<<8^i[255&r],t%s==0&&(r=r<<8^r>>>24^a<<24,a=a<<1^283*(a>>7))),u[t]=u[t-s]^r;for(n=0;t;n++,t--)r=u[3&n?t:t-4],c[n]=t<=4||n<4?r:o[0][i[r>>>24]]^o[1][i[r>>16&255]]^o[2][i[r>>8&255]]^o[3][i[255&r]]}return e.prototype.decrypt=function(e,t,n,r,i,o){var s,a,l,u,c=this._key[1],d=e^c[0],p=r^c[1],f=n^c[2],h=t^c[3],m=c.length/4-2,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],E=v[4];for(u=0;u<m;u++)s=y[d>>>24]^_[p>>16&255]^b[f>>8&255]^T[255&h]^c[g],a=y[p>>>24]^_[f>>16&255]^b[h>>8&255]^T[255&d]^c[g+1],l=y[f>>>24]^_[h>>16&255]^b[d>>8&255]^T[255&p]^c[g+2],h=y[h>>>24]^_[d>>16&255]^b[p>>8&255]^T[255&f]^c[g+3],g+=4,d=s,p=a,f=l;for(u=0;u<4;u++)i[(3&-u)+o]=E[d>>>24]<<24^E[p>>16&255]<<16^E[f>>8&255]<<8^E[255&h]^c[g++],s=d,d=p,p=f,f=h,h=s},e}(),c=function(e){function t(){var t;return(t=e.call(this,s)||this).jobs=[],t.delay=1,t.timeout_=null,t}o(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(s),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},p=function(){function e(t,n,r,i){var o=e.STEP,s=new Int32Array(t.buffer),a=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+o),n,r,a)),l=o;l<s.length;l+=o)r=new Uint32Array([d(s[l-4]),d(s[l-3]),d(s[l-2]),d(s[l-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+o),n,r,a));this.asyncStream_.push((function(){var e;i(null,(e=a).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r,i,o,s,a,l,c,p,f,h=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new u(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),v=new Int32Array(g.buffer);for(r=n[0],i=n[1],o=n[2],s=n[3],f=0;f<h.length;f+=4)a=d(h[f]),l=d(h[f+1]),c=d(h[f+2]),p=d(h[f+3]),m.decrypt(a,l,c,p,v,f),v[f]=d(v[f]^r),v[f+1]=d(v[f+1]^i),v[f+2]=d(v[f+2]^o),v[f+3]=d(v[f+3]^s),r=a,i=l,o=c,s=p;return g}(e,t,n);r.set(i,e.byteOffset)}},r(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();a="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var f=a.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000");var h=function(e){var t={};return Object.keys(e).forEach((function(n){var r,i=e[n];r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new p(n,r,i,(function(e,n){self.postMessage(h({source:t.source,decrypted:n}),[n.buffer])}))}}))),Nu=ul(Au),Lu=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Du=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Ru=function(e,t){t.activePlaylistLoader=e,e.load()},Mu={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Du(n,r);var o=r.activeTrack(),s=r.activeGroup(),a=(s.filter((function(e){return e.default}))[0]||s[0]).id,l=r.tracks[a];if(o!==l){for(var u in Ws.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];Ws.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Du(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Uu={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",Mu[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],s=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),o.track(s.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",Mu[e](e,n))}},Bu={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,s=t.master.mediaGroups,a=t.mediaTypes[e],l=a.groups,u=a.tracks,c=a.logger_,d=t.masterPlaylistLoader,p=Ea(d.master);for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},p&&(s[e].main.default.playlists=d.master.playlists)),s[e])for(var h in l[f]||(l[f]=[]),s[e][f]){var m=s[e][f][h],g=void 0;if(p?(c("AUDIO group '"+f+"' label '"+h+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===r&&m.playlists?new Ma(m.playlists[0],n,o):m.resolvedUri?new Ma(m.resolvedUri,n,o):m.playlists&&"dash"===r?new sl(m.playlists[0],n,o,d):null,m=Ws.mergeOptions({id:h,playlistLoader:g},m),Uu[e](e,m.playlistLoader,t),l[f].push(m),void 0===u[h]){var v=new Ws.AudioTrack({id:h,kind:Lu(m),enabled:!1,language:m.language,default:m.default,label:h});u[h]=v}}i.on("error",Mu[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,o=t.segmentLoaders[e],s=t.requestOptions,a=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var p in a[e])for(var f in u[p]||(u[p]=[]),a[e][p])if(!a[e][p][f].forced){var h=a[e][p][f],m=void 0;if("hls"===i)m=new Ma(h.resolvedUri,r,s);else if("dash"===i){if(!h.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;m=new sl(h.playlists[0],r,s,d)}else"vhs-json"===i&&(m=new Ma(h.playlists?h.playlists[0]:h.resolvedUri,r,s));if(h=Ws.mergeOptions({id:f,playlistLoader:m},h),Uu[e](e,h.playlistLoader,t),u[p].push(h),void 0===c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:f},!1).track;c[f]=g}}o.on("error",Mu[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,s=i.tracks;for(var a in r[e])for(var l in o[a]||(o[a]=[]),r[e][a]){var u=r[e][a][l];if(/^(?:CC|SERVICE)/.test(u.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},d={label:l,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(c[d.instreamId]&&(d=Ws.mergeOptions(d,c[d.instreamId])),void 0===d.default&&delete d.default,o[a].push(Ws.mergeOptions({id:l},u)),void 0===s[l]){var p=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[l]=p}}}}},Fu=function e(t,n){for(var r=0;r<t.length;r++){if(ba(n,t[r]))return!0;if(t[r].playlists&&e(t[r].playlists,n))return!0}return!1},Hu={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},qu=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Bu[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.vhs,o=e.segmentLoaders,s=o.AUDIO,a=o.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var s=null;o.attributes[e]&&(s=i[o.attributes[e]]);var a=Object.keys(i);if(!s)if("AUDIO"===e&&a.length>1&&Ea(t.master))for(var l=0;l<a.length;l++){var u=i[a[l]];if(Fu(u,o)){s=u;break}}else i.main?s=i.main:1===a.length&&(s=i[a[0]]);return void 0===n?s:null!==n&&s&&s.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=Hu[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,u=o.lastGroup_;a&&u&&a.id===u.id||(o.lastGroup_=a,o.lastTrack_=s,Du(r,o),a&&!a.isMasterPlaylist&&(a.playlistLoader?(r.resyncLoader(),Ru(a.playlistLoader,o)):l&&i.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,r=t.segmentLoaders,i=r[e],o=r.main,s=t.mediaTypes[e],a=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastTrack_;if((!c||!a||c.id!==a.id)&&(s.lastGroup_=l,s.lastTrack_=a,Du(i,s),l)){if(l.isMasterPlaylist){if(!a||!c||a.id===c.id)return;var d=t.vhs.masterPlaylistController_,p=d.selectPlaylist();if(d.media()===p)return;return s.logger_("track change. Switching master audio from "+c.id+" to "+a.id),n.pause(),o.resetEverything(),void d.fastQualityChange_(p)}if("AUDIO"===e){if(!l.playlistLoader)return o.setAudio(!0),void o.resetEverything();i.setAudio(!0),o.setAudio(!1)}u!==l.playlistLoader?(i.track&&i.track(a),i.resetEverything(),Ru(l.playlistLoader,s)):Ru(l.playlistLoader,s)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var u=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var c=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var d in r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[d])},Vu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Wu=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},zu=function(e){function t(t){var n;n=e.call(this)||this;var r=t.src,o=t.handleManifestRedirects,s=t.withCredentials,a=t.tech,l=t.bandwidth,u=t.externVhs,d=t.useCueTags,p=t.blacklistDuration,f=t.enableLowInitialPlaylist,h=t.sourceType,m=t.cacheEncryptionKeys,g=t.experimentalBufferBasedABR,v=t.experimentalLeastPixelDiffSelector,y=t.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var _=t.maxPlaylistRetries;null==_&&(_=1/0),ou=u,n.experimentalBufferBasedABR=Boolean(g),n.experimentalLeastPixelDiffSelector=Boolean(v),n.withCredentials=s,n.tech_=a,n.vhs_=a.vhs,n.sourceType_=h,n.useCueTags_=d,n.blacklistDuration=p,n.maxPlaylistRetries=_,n.enableLowInitialPlaylist=f,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:s,handleManifestRedirects:o,maxPlaylistRetries:_,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:iu,activeTrack:iu,getActiveGroup:iu,onGroupChanged:iu,onTrackChanged:iu,lastTrack_:null,logger_:Ys("MediaGroups["+t+"]")}})),e}(),n.mediaSource=new(i().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(c(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(c(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(c(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Ws.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Ou(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Nu,n.sourceUpdater_=new ju(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Iu;var b={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:y,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:l,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:m,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new sl(r,n.vhs_,n.requestOptions_):new Ma(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new ru(Ws.mergeOptions(b,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new ru(Ws.mergeOptions(b,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new xu(Ws.mergeOptions(b,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),Vu.forEach((function(e){n[e+"_"]=Wu.bind(c(n),e)})),n.logger_=Ys("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var T="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(T,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}p(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},n.switchMedia_=function(e,t,n){var r=this.media(),i=r&&(r.id||r.uri),o=e.id||e.uri;i&&i!==o&&(this.logger_("switch media "+i+" -> "+o+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=i().setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(i().clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,r=e.mediaGroups.AUDIO,i=Object.keys(r);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var o=r.main||i.length&&r[i[0]];for(var s in o)if(o[s].default){n={label:s};break}}if(!n)return t;var a=[];for(var l in r)if(r[l][n.label]){var u=r[l][n.label];if(u.playlists&&u.playlists.length)a.push.apply(a,u.playlists);else if(u.uri)a.push(u);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l&&a.push(d)}}return a.length?a:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;_a(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),qu({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;_a(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var s in n.AUDIO[o]){n.AUDIO[o][s].uri||(r=!1)}r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ou.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),r=this.bufferLowWaterLine(),i=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,r=e.currentTime,i=e.nextPlaylist,o=e.bufferLowWaterLine,s=e.bufferHighWaterLine,a=e.duration,l=e.experimentalBufferBasedABR,u=e.log;if(!i)return Ws.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(t&&t.id||"null")+" -> "+i.id;if(!t)return u(c+" as current playlist is not set"),!0;if(i.id===t.id)return!1;var d=Boolean(Js(n,r).length);if(!t.endList)return d||"number"!=typeof t.partTargetDuration?(u(c+" as current playlist is live"),!0):(u("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var p=ia(n,r),f=l?al.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:al.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return u(c+" as duration < max low water line ("+a+" < "+f+")"),!0;var h=i.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(h<m&&(!l||p<s)){var g=c+" as next bandwidth < current bandwidth ("+h+" < "+m+")";return l&&(g+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+s+")"),u(g),!0}if((!l||h>m)&&p>=o){var v=c+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+o+")";return l&&(v+=" and next bandwidth > current bandwidth ("+h+" > "+m+")"),u(v),!0}return u("not "+c+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:i,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Ws.browser.IE_VERSION||Ws.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Ws.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=ou.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=Qs;var o=i.end(i.length-1);return o-r<=Qs&&n-o<=Qs},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var r,i=this.masterPlaylistLoader_.master.playlists,o=i.filter(va),s=1===o.length&&o[0]===n;if(1===i.length&&t!==1/0)return Ws.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s);if(s){var a=!1;i.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(a=!0,delete e.excludeUntil)}})),a&&(Ws.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}r=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=r,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=e.internal?this.logger_:Ws.log.warn,c=e.message?" "+e.message:"";u((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+c+" Switching to playlist "+l.id+"."),l.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=l.targetDuration/2*1e3||5e3,p="number"==typeof l.lastRequest&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",s||p)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.masterPlaylistLoader_);var o=[];(i||"audio"===e)&&o.push("AUDIO"),(i||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=Js(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ou.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.masterPlaylistLoader_.master,i=ou.Playlist.seekable(t,n,ou.Playlist.liveEdgeDelay(r,t));if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=ou.Playlist.seekable(t,n,ou.Playlist.liveEdgeDelay(r,t))).length)return}var o,s;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=Ws.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+ta(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=ou.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=Fl(this.master(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=","+(n.audio||t.main.audioCodec||K)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||K,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var o,s={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=t[e].isFmp4,a=r[e],!(i?z(a):G(a)))){var n=t[e].isFmp4?"browser":"muxer";s[n]=s[n]||[],s[n].push(r[e]),"audio"===e&&(o=n)}var i,a})),i&&o&&this.media().attributes.AUDIO){var a=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===a&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+a+" as "+o+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(s).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach((function(t){var n=(q(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(q(r[t]||"")[0]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&l.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')})),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var u=Object.keys(s).reduce((function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+s[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(r){var i=t[r];if(-1===n.indexOf(i.id)){n.push(i.id);var o=Fl(e.master,i),s=[];!o.audio||G(o.audio)||z(o.audio)||s.push("audio codec "+o.audio),!o.video||G(o.video)||z(o.video)||s.push("video codec "+o.video),o.text&&"stpp.ttml.im1t"===o.text&&s.push("text codec "+o.text),s.length&&(i.excludeUntil=1/0,e.logger_("excluding "+i.id+" for unsupported: "+s.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],r=this.master().playlists,i=Ul(q(e)),o=Bl(i),s=i.video&&q(i.video)[0]||null,a=i.audio&&q(i.audio)[0]||null;Object.keys(r).forEach((function(e){var i=r[e];if(-1===n.indexOf(i.id)&&i.excludeUntil!==1/0){n.push(i.id);var l=[],u=Fl(t.masterPlaylistLoader_.master,i),c=Bl(u);if(u.audio||u.video){if(c!==o&&l.push('codec count "'+c+'" !== "'+o+'"'),!t.sourceUpdater_.canChangeType()){var d=u.video&&q(u.video)[0]||null,p=u.audio&&q(u.audio)[0]||null;d&&s&&d.type.toLowerCase()!==s.type.toLowerCase()&&l.push('video codec "'+d.type+'" !== "'+s.type+'"'),p&&a&&p.type.toLowerCase()!==a.type.toLowerCase()&&l.push('audio codec "'+p.type+'" !== "'+a.type+'"')}l.length&&(i.excludeUntil=1/0,t.logger_("blacklisting "+i.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var r,o=n,s=0;s<e.segments.length;s++){var a=e.segments[s];if(r||(r=Cu(t,o+a.duration/2)),r){if("cueIn"in a){r.endTime=o,r.adEndTime=o,o+=a.duration,r=null;continue}if(o<r.endTime){o+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new(i().VTTCue)(o,o+a.duration,a.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){var l=a.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];(r=new(i().VTTCue)(o,o+a.duration,"")).adStartTime=o-u,r.adEndTime=r.adStartTime+c,t.addCue(r)}o+=a.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=al.GOAL_BUFFER_LENGTH,n=al.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,al.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=al.BUFFER_LOW_WATER_LINE,n=al.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,al.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,al.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?i:r)},n.bufferHighWaterLine=function(){return al.BUFFER_HIGH_WATER_LINE},t}(Ws.EventTarget),Gu=function(e,t,n){var r,i,o,s=e.masterPlaylistController_,a=s[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=Fl(s.master(),t),this.playlist=t,this.id=n,this.enabled=(r=e.playlists,i=t.id,o=a,function(e){var t=r.master.playlists[i],n=ga(t),s=va(t);return void 0===e?s:(e?delete t.disabled:t.disabled=!0,e===s||n||(o(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},Ku=["seeking","seeked","pause","playing","error"],Xu=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ys("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.monitorCurrentTime_()},o=function(){return t.techWaiting_()},s=function(){return t.cancelTimer_()},a=this.masterPlaylistController_,l=["main","subtitle","audio"],u={};l.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)}));var c=function(e){["main","audio"].forEach((function(n){a[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",o),this.tech_.on(Ku,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",o),t.tech_.off(Ku,s),t.tech_.off("canplay",r),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),l.forEach((function(e){a[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&i().clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&i().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=i().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],r);this[e+"Buffered_"]=r,i?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:na(r)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Qs>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:Qs)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+ta(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),s=i.audioBuffer?i.audioBuffered():null,a=i.videoBuffer?i.videoBuffered():null,l=this.media(),u=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-$s),c=[s,a],d=0;d<c.length;d++){if(c[d])if(ia(c[d],n)<u)return!1}var p=ea(o,n);return 0!==p.length&&(e=p.start(0)+Qs,this.logger_("Buffered region starts ("+p.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=Js(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=ea(i,t);if(o.length>0){var s=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+s+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,r){if(void 0===r&&(r=!1),!e.length)return!1;var i=e.end(e.length-1)+Qs;return!n.endList&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var o=Js(t,r-3),s=Js(t,r),a=Js(n,r);a.length&&!s.length&&o.length&&(i={start:o.end(0),end:a.end(0)})}else{ea(t,r).length||(i=this.gapFromVideoUnderflow_(t,r))}return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=ea(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+$s),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Ws.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return Ws.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null},e}(),Yu={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},$u=function e(t,n){var r=0,i=0,o=Ws.mergeOptions(Yu,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var s=function(){i&&t.currentTime(i)},a=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-r<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(r=Date.now(),o.getSource.call(t,a)):void Ws.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}},Qu="2.14.2",Zu={PlaylistLoader:Ma,Playlist:wa,utils:$a,STANDARD_PLAYLIST_SELECTOR:Kl,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(wa.isEnabled);return Wl(t,(function(e,t){return zl(e,t)})),t.filter((function(t){return!!Fl(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:Kl,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&i().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),Gl(this.playlists.master,t,parseInt(Vl(this.tech_.el(),"width"),10)*r,parseInt(Vl(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:zl,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||i().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||i().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:Ha()};Object.keys(al).forEach((function(e){Object.defineProperty(Zu,e,{get:function(){return Ws.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),al[e]},set:function(t){Ws.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Ws.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):al[e]=t}})}));var Ju="videojs-vhs",ec=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};Zu.canPlaySource=function(){return Ws.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var tc=function(e){var t=e.player,n=e.sourceKeySystems,r=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var o=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var r=t.reduce((function(e,t){var r=n.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])}(r?i.concat([r]):i,Object.keys(n)),s=[],a=[];return o.forEach((function(e){a.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),s.push(new Promise((function(n,r){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?r(e):n()}))})))})),Promise.race([Promise.all(s),Promise.race(a)])},nc=function(e){var t=e.player,n=function(e,t,n){if(!e)return e;var r={};t&&t.attributes&&t.attributes.CODECS&&(r=Ul(q(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var i=W(r.video),o=W(r.audio),s={};for(var a in e)s[a]={},o&&(s[a].audioContentType=o),i&&(s[a].videoContentType=i),t.contentProtection&&t.contentProtection[a]&&t.contentProtection[a].pssh&&(s[a].pssh=t.contentProtection[a].pssh),"string"==typeof e[a]&&(s[a].url=e[a]);return Ws.mergeOptions(e,s)}(e.sourceKeySystems,e.media,e.audioMedia);return!!n&&(t.currentSource().keySystems=n,!(n&&!t.eme)||(Ws.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},rc=function(){if(!i().localStorage)return null;var e=i().localStorage.getItem(Ju);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Zu.supportsNativeHls=function(){if(!s()||!s().createElement)return!1;var e=s().createElement("video");if(!Ws.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Zu.supportsNativeDash=!!(s()&&s().createElement&&Ws.getTech("Html5").isSupported())&&/maybe|probably/i.test(s().createElement("video").canPlayType("application/dash+xml")),Zu.supportsTypeNatively=function(e){return"hls"===e?Zu.supportsNativeHls:"dash"===e&&Zu.supportsNativeDash},Zu.isSupported=function(){return Ws.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ic=function(e){function t(t,n,r){var i;if(i=e.call(this,n,Ws.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Ws.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof r.initialBandwidth&&(i.options_.bandwidth=r.initialBandwidth),i.logger_=Ys("VhsHandler"),n.options_&&n.options_.playerId){var o=Ws(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Ws.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),c(i)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return Ws.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),c(i)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return Ws.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),c(i)},configurable:!0}),i.player_=o}if(i.tech_=n,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(s(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=s().fullscreenElement||s().webkitFullscreenElement||s().mozFullScreenElement||s().msFullscreenElement;t&&t.contains(i.tech_.el())?i.masterPlaylistController_.fastQualityChange_():i.masterPlaylistController_.checkABR_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}p(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=rc();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=al.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===al.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=Zu,this.options_.sourceType=$(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Ws.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new zu(this.options_);var o=Ws.mergeOptions({liveRangeSafeTimeDelta:Qs},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Xu(o),this.masterPlaylistController_.on("error",(function(){var e=Ws.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var s=this.options_.experimentalBufferBasedABR?Zu.movingAverageBandwidthSelector(.55):Zu.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Zu.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=i().navigator.connection||i().navigator.mozConnection||i().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var r=1e3*t.downlink*1e3;e=r>=n&&e>=n?Math.max(e,r):r}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Ws.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return na(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return na(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!i().localStorage)return!1;var t=rc();t=t?Ws.mergeOptions(t,e):e;try{i().localStorage.setItem(Ju,JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=Ea(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!ga(e)})).map((function(t,n){return new Gu(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=i().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),tc({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=nc({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){"output-restricted"===t.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+t.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Ws.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Ws.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),ec(t,n.playlists)})),this.playlists.on("mediachange",(function(){ec(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":Qu,"mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return ju.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&i().URL.revokeObjectURL&&(i().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return Qa({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=2),Za({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Ws.getComponent("Component")),oc={name:"videojs-http-streaming",VERSION:Qu,canHandleSource:function(e,t){void 0===t&&(t={});var n=Ws.mergeOptions(Ws.options,t);return oc.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var r=Ws.mergeOptions(Ws.options,n);return t.vhs=new ic(e,t,r),Ws.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Ws.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Ha(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=Ws.mergeOptions(Ws.options,t),r=n.vhs,i=(r=void 0===r?{}:r).overrideNative,o=void 0===i?!Ws.browser.IS_ANY_SAFARI:i,s=n.hls,a=(s=void 0===s?{}:s).overrideNative,l=void 0!==a&&a,u=$(e);return u&&(!Zu.supportsTypeNatively(u)||l||o)?"maybe":""}};(z("avc1.4d400d,mp4a.40.2")&&Ws.getTech("Html5").registerSourceHandler(oc,0),Ws.VhsHandler=ic,Object.defineProperty(Ws,"HlsHandler",{get:function(){return Ws.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ic},configurable:!0}),Ws.VhsSourceHandler=oc,Object.defineProperty(Ws,"HlsSourceHandler",{get:function(){return Ws.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),oc},configurable:!0}),Ws.Vhs=Zu,Object.defineProperty(Ws,"Hls",{get:function(){return Ws.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Zu},configurable:!0}),Ws.use||(Ws.registerComponent("Hls",Zu),Ws.registerComponent("Vhs",Zu)),Ws.options.vhs=Ws.options.vhs||{},Ws.options.hls=Ws.options.hls||{},Ws.getPlugin&&Ws.getPlugin("reloadSourceOnError"))||(Ws.registerPlugin||Ws.plugin)("reloadSourceOnError",(function(e){$u(this,e)}));var sc=Ws},"./node_modules/videojs-vtt.js/lib/browser-index.js":function(e,t,n){var r=n("./node_modules/global/window.js"),i=e.exports={WebVTT:n("./node_modules/videojs-vtt.js/lib/vtt.js"),VTTCue:n("./node_modules/videojs-vtt.js/lib/vttcue.js"),VTTRegion:n("./node_modules/videojs-vtt.js/lib/vttregion.js")};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,s=i.VTTRegion,a=r.VTTCue,l=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=s},i.restore=function(){r.VTTCue=a,r.VTTRegion=l},r.VTTCue||i.shim()},"./node_modules/videojs-vtt.js/lib/vtt.js":function(e,t,n){var r=n("./node_modules/global/document.js"),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function s(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=i(null)}function l(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var s=i[o].split(n);if(2===s.length)t(s[0].trim(),s[1].trim())}}function u(e,t,n){var r=e;function i(){var t=s(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=i(),u(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=i(),u(),function(e,t){var r=new a;l(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),s=o[0];r.integer(e,s),r.percent(e,s)&&r.set("snapToLines",!1),r.alt(e,s,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(e){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=i(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=r.createElement&&r.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},h={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!h[t.localName]||h[t.localName]===e.localName}function i(t,n){var r=d[t];if(!r)return null;var i=e.document.createElement(r),o=f[t];return o&&n&&(i[o]=n.trim()),i}for(var o,a,l=e.document.createElement("div"),u=l,m=[];null!==(o=n());)if("<"!==o[0])u.appendChild(e.document.createTextNode((a=o,c.innerHTML=a,a=c.textContent,c.textContent="",a)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,v=s(o.substr(1,o.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),u.appendChild(g);continue}var y=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=i(y[1],y[3])))continue;if(!r(u,g))continue;if(y[2]){var _=y[2].split(".");_.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(p.hasOwnProperty(n)){var r=t?"background-color":"color",i=p[n];g.style[r]=i}})),g.className=_.join(" ")}m.push(y[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(v(n.charCodeAt(o)))return"rtl";return"ltr"}function _(){}function b(e,t,n){_.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function T(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function E(e,t,n,r){var i=new T(t),o=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(s),d=n[l]+u,p=a[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),s<0&&(c+=""===o.vertical?n.height:n.width,a=a.reverse()),i.move(p,c)}else{var f=i.lineHeight/n.height*100;switch(o.lineAlign){case"center":s-=f/2;break;case"end":s-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],i=new T(t)}var h=function(e,t){for(var i,o=new T(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(r);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(i=new T(e),s=l),e=new T(o)}return i||o}(i,a);t.move(h.toCSSCompatValues(n))}function w(){}_.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},_.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=i(_.prototype),b.prototype.constructor=b,T.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},T.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},T.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},T.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},T.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},T.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},T.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},T.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},w.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},w.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};w.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=T.getSimpleBoxPosition(r),s={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,a,l=0;l<t.length;l++)a=t[l],n=new b(e,a,s),r.appendChild(n.div),E(0,n,o,i),a.displayState=n.div,i.push(T.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)r.appendChild(t[a].displayState)},w.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},w.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?l(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new a;l(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",s(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):l(e,(function(e,n){if("Region"===e)!function(e){var n=new a;if(l(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new a;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new o(o.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{u(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var p=-1!==i.indexOf("--\x3e");if(!i||p&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=w},"./node_modules/videojs-vtt.js/lib/vttcue.js":function(e){var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function i(e,n,i){this.hasBeenReset=!1;var o="",s=!1,a=e,l=n,u=i,c=null,d="",p=!0,f="auto",h="start",m="auto",g="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=r(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=r(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},"./node_modules/videojs-vtt.js/lib/vttregion.js":function(e){var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,r=3,i=0,o=100,s=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");r=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})}},"?34aa":function(){}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],o=e[c][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.j=6767,function(){var e={6767:0,3887:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,s=n[0],a=n[1],l=n[2],u=0;for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)var c=l(r);for(t&&t(n);u<s.length;u++)o=s[u],r.o(e,o)&&e[o]&&e[o][0](),e[s[u]]=0;return r.O(c)},n=self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[4736],(function(){return r("./app/client/buy-level-6.desktop.js")}));i=r.O(i)}();
//# sourceMappingURL=buy-level-6.desktop.86de5756.js.map